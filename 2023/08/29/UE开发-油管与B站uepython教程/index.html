<!DOCTYPE html><html lang="zh-CN" data-theme="dark"><head><div id="myscoll"></div><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>油管与B站uepython教程 | RuiChen</title><meta name="keywords" content="UEPython"><meta name="author" content="RuiChen"><meta name="copyright" content="RuiChen"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="油管uepython教程  在UE中的python初始配置 可以看看这个文章https:&#x2F;&#x2F;www.yumefx.com&#x2F;?p&#x3D;3211  插件的选择 找到scripting启用这三个  项目设置 第一个 startup scripts 中填写的是，当启动UE时自动加载的脚本的路径第二个Additional paths 中填写的是 当在UE中使用import模块时 import的额外搜索路径">
<meta property="og:type" content="article">
<meta property="og:title" content="油管与B站uepython教程">
<meta property="og:url" content="http://example.com/2023/08/29/UE%E5%BC%80%E5%8F%91-%E6%B2%B9%E7%AE%A1%E4%B8%8EB%E7%AB%99uepython%E6%95%99%E7%A8%8B/index.html">
<meta property="og:site_name" content="RuiChen">
<meta property="og:description" content="油管uepython教程  在UE中的python初始配置 可以看看这个文章https:&#x2F;&#x2F;www.yumefx.com&#x2F;?p&#x3D;3211  插件的选择 找到scripting启用这三个  项目设置 第一个 startup scripts 中填写的是，当启动UE时自动加载的脚本的路径第二个Additional paths 中填写的是 当在UE中使用import模块时 import的额外搜索路径">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://github.com/violet-chen/image_lib/blob/main/img%20(64).jpg?raw=true">
<meta property="article:published_time" content="2023-08-28T19:57:00.000Z">
<meta property="article:modified_time" content="2024-07-27T18:58:06.882Z">
<meta property="article:author" content="RuiChen">
<meta property="article:tag" content="UEPython">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://github.com/violet-chen/image_lib/blob/main/img%20(64).jpg?raw=true"><link rel="shortcut icon" href="/"><link rel="canonical" href="http://example.com/2023/08/29/UE%E5%BC%80%E5%8F%91-%E6%B2%B9%E7%AE%A1%E4%B8%8EB%E7%AB%99uepython%E6%95%99%E7%A8%8B/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/6.0.0/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.staticfile.org/fancyapps-ui/4.0.31/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":230},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdnjs.cloudflare.com/ajax/libs/flickr-justified-gallery/2.1.2/fjGallery.min.js',
      css: 'https://cdnjs.cloudflare.com/ajax/libs/flickr-justified-gallery/2.1.2/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '油管与B站uepython教程',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-07-28 02:58:06'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="https://cdn1.tianli0.top/npm/element-ui@2.15.6/packages/theme-chalk/lib/index.css"><style id="themeColor"></style><style id="rightSide"></style><style id="transPercent"></style><style id="blurNum"></style><style id="settingStyle"></style><style id="defineBg"></style><style id="menu_shadow"></style><svg aria-hidden="true" style="position:absolute; overflow:hidden; width:0; height:0"><symbol id="icon-sun" viewBox="0 0 1024 1024"><path d="M960 512l-128 128v192h-192l-128 128-128-128H192v-192l-128-128 128-128V192h192l128-128 128 128h192v192z" fill="#FFD878" p-id="8420"></path><path d="M736 512a224 224 0 1 0-448 0 224 224 0 1 0 448 0z" fill="#FFE4A9" p-id="8421"></path><path d="M512 109.248L626.752 224H800v173.248L914.752 512 800 626.752V800h-173.248L512 914.752 397.248 800H224v-173.248L109.248 512 224 397.248V224h173.248L512 109.248M512 64l-128 128H192v192l-128 128 128 128v192h192l128 128 128-128h192v-192l128-128-128-128V192h-192l-128-128z" fill="#4D5152" p-id="8422"></path><path d="M512 320c105.888 0 192 86.112 192 192s-86.112 192-192 192-192-86.112-192-192 86.112-192 192-192m0-32a224 224 0 1 0 0 448 224 224 0 0 0 0-448z" fill="#4D5152" p-id="8423"></path></symbol><symbol id="icon-moon" viewBox="0 0 1024 1024"><path d="M611.370667 167.082667a445.013333 445.013333 0 0 1-38.4 161.834666 477.824 477.824 0 0 1-244.736 244.394667 445.141333 445.141333 0 0 1-161.109334 38.058667 85.077333 85.077333 0 0 0-65.066666 135.722666A462.08 462.08 0 1 0 747.093333 102.058667a85.077333 85.077333 0 0 0-135.722666 65.024z" fill="#FFB531" p-id="11345"></path><path d="M329.728 274.133333l35.157333-35.157333a21.333333 21.333333 0 1 0-30.165333-30.165333l-35.157333 35.157333-35.114667-35.157333a21.333333 21.333333 0 0 0-30.165333 30.165333l35.114666 35.157333-35.114666 35.157334a21.333333 21.333333 0 1 0 30.165333 30.165333l35.114667-35.157333 35.157333 35.157333a21.333333 21.333333 0 1 0 30.165333-30.165333z" fill="#030835" p-id="11346"></path></symbol></svg><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-categories-card@1.0.0/lib/categorybar.css"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="RuiChen" type="application/atom+xml">
</head><body><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><div class="loading-img"></div><div class="loading-image-dot"></div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/assets/TouXiang.jpg" onerror="onerror=null;src='/assets/r1.jpg'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">43</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">26</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-home"></use></svg><span class="menu_word" style="font-size:17px"> 首页</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/archives/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-guidang1"></use></svg><span class="menu_word" style="font-size:17px"> 归档</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/tags/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-sekuaibiaoqian"></use></svg><span class="menu_word" style="font-size:17px"> 标签</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/categories/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-fenlei"></use></svg><span class="menu_word" style="font-size:17px"> 分类</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">RuiChen</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-home"></use></svg><span class="menu_word" style="font-size:17px"> 首页</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/archives/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-guidang1"></use></svg><span class="menu_word" style="font-size:17px"> 归档</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/tags/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-sekuaibiaoqian"></use></svg><span class="menu_word" style="font-size:17px"> 标签</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/categories/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-fenlei"></use></svg><span class="menu_word" style="font-size:17px"> 分类</span></a></div></div><div id="nav-right"><div id="search-button"><a class="search faa-parent animated-hover" title="检索站内任何你想要的信息"><svg class="faa-tada icon" style="height:24px;width:24px;fill:currentColor;position:relative;top:6px" aria-hidden="true"><use xlink:href="#icon-valentine_-search-love-find-heart"></use></svg><span> 搜索</span></a></div><a class="meihua faa-parent animated-hover" onclick="toggleWinbox()" title="美化设置-自定义你的风格" id="meihua-button"><svg class="faa-tada icon" style="height:26px;width:26px;fill:currentColor;position:relative;top:8px" aria-hidden="true"><use xlink:href="#icon-tupian1"></use></svg></a><a class="sun_moon faa-parent animated-hover" onclick="switchNightMode()" title="浅色和深色模式转换" id="nightmode-button"><svg class="faa-tada" style="height:25px;width:25px;fill:currentColor;position:relative;top:7px" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon">       </use></svg></a><div id="toggle-menu"><a><i class="fas fa-bars fa-fw"></i></a></div></div></div></nav><div id="post-info"><h1 class="post-title">油管与B站uepython教程</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><svg class="meta_icon post-meta-icon" style="width:30px;height:30px;position:relative;top:10px"><use xlink:href="#icon-rili"></use></svg><span class="post-meta-label">发表于 </span><time class="post-meta-date-created" datetime="2023-08-28T19:57:00.000Z" title="发表于 2023-08-29 03:57:00">2023-08-29</time><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:18px;height:18px;position:relative;top:5px"><use xlink:href="#icon-gengxin1"></use></svg><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-07-27T18:58:06.882Z" title="更新于 2024-07-28 02:58:06">2024-07-28</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:18px;height:18px;position:relative;top:5px"><use xlink:href="#icon-biaoqian"></use></svg><a class="post-meta-categories" href="/categories/UE%E5%BC%80%E5%8F%91/">UE开发</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><svg class="meta_icon post-meta-icon" style="width:25px;height:25px;position:relative;top:8px"><use xlink:href="#icon-charuword"></use></svg><span class="post-meta-label">字数总计:</span><span class="word-count">6598</span><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:20px;height:20px;position:relative;top:5px"><use xlink:href="#icon-shizhong"></use></svg><span class="post-meta-label">阅读时长:</span><span>31分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="油管与B站uepython教程"><svg class="meta_icon post-meta-icon" style="width:25px;height:25px;position:relative;top:5px"><use xlink:href="#icon-eye"></use></svg><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><meta name="referrer" content="no-referrer">
<a name="g4ESd"></a>
<h1>油管uepython教程</h1>
<p><a name="tlpxM"></a></p>
<h2 id="在UE中的python初始配置">在UE中的python初始配置</h2>
<p>可以看看这个文章<a target="_blank" rel="noopener" href="https://www.yumefx.com/?p=3211">https://www.yumefx.com/?p=3211</a><br>
<a name="WYDR1"></a></p>
<h3 id="插件的选择">插件的选择</h3>
<p>找到scripting启用这三个<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1655819812634-a0e15b6f-5e64-459a-97f8-4c12f0c1895d.png#clientId=u0d521281-290c-4&amp;errorMessage=unknown%20error&amp;from=paste&amp;height=851&amp;id=uaec1a435&amp;originHeight=851&amp;originWidth=1458&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=151187&amp;status=error&amp;style=none&amp;taskId=ubfd903d6-416e-4774-b8c2-3022ffcc8fc&amp;title=&amp;width=1458" alt="image.png"><br>
<a name="pu3hS"></a></p>
<h3 id="项目设置">项目设置</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1655978185249-1579d6af-b989-4157-b733-991feb125622.png#clientId=ue8ca9c13-c3c0-4&amp;errorMessage=unknown%20error&amp;from=paste&amp;height=346&amp;id=u733583c2&amp;originHeight=346&amp;originWidth=1177&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=26571&amp;status=error&amp;style=none&amp;taskId=u9c8861d7-0598-4631-a733-6d30d9a2c14&amp;title=&amp;width=1177" alt="image.png"><br>第一个 startup scripts 中填写的是，当启动UE时自动加载的脚本的路径<br>第二个Additional paths 中填写的是 当在UE中使用import模块时 import的额外搜索路径<br>
<a name="Ouc7j"></a></p>
<h2 id="使用python导入资产">使用python导入资产</h2>
<p><a name="R7ckW"></a></p>
<h3 id="导入贴图和音频">导入贴图和音频</h3>
<p>用到的类：<br><a target="_blank" rel="noopener" href="https://docs.unrealengine.com/5.0/en-US/PythonAPI/class/AssetImportTask.html">https://docs.unrealengine.com/5.0/en-US/PythonAPI/class/AssetImportTask.html</a><br><a target="_blank" rel="noopener" href="https://docs.unrealengine.com/5.0/en-US/PythonAPI/class/AssetTools.html">https://docs.unrealengine.com/5.0/en-US/PythonAPI/class/AssetTools.html</a><br>首先先了解一下引擎中的文件路径：这里内容的路径为/Game,因此假如要在内容下创建一个新的Tex文件夹，那么Tex文件夹的路径就是/Game/Tex<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1657100608789-ceeb2279-1791-464f-b2fc-99e3b59453bc.png#clientId=ua4789b34-f786-4&amp;errorMessage=unknown%20error&amp;from=paste&amp;height=58&amp;id=u5e6699ed&amp;originHeight=58&amp;originWidth=133&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=3362&amp;status=error&amp;style=none&amp;taskId=u2552f489-6209-44c2-8324-2c59e6fe67b&amp;title=&amp;width=133" alt="image.png"><br>在ue的编辑界面中按shitf+回车可以输入多行代码</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unreal</span><br><span class="line"></span><br><span class="line">soundPath = <span class="string">&#x27;D:/ZhangRuiChen/UETest/TestFile/Sounds/soundTest.mp3&#x27;</span></span><br><span class="line">texPath = <span class="string">&#x27;D:/ZhangRuiChen/UETest/TestFile/Texture/test_ORM3.png&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">importMyAssets</span>():  <span class="comment"># 创建导入任务并执行导入</span></span><br><span class="line">    texture_task = buildImportTask(texPath, <span class="string">&#x27;/Game/Textures&#x27;</span>)  <span class="comment"># 通过buildImportTask函数创建一个AssetImportTask对象</span></span><br><span class="line">    sound_task = buildImportTask(soundPath, <span class="string">&#x27;/Game/Sounds&#x27;</span>)  <span class="comment"># 同理</span></span><br><span class="line">    executeImportTasks([texture_task, sound_task])  <span class="comment"># 执行导入操作</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 这里用到的属性可以参考文档：</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">buildImportTask</span>(<span class="params">filename, destination_path</span>):  <span class="comment"># 构建导入任务</span></span><br><span class="line">    task = unreal.AssetImportTask()</span><br><span class="line">    task.set_editor_property(<span class="string">&#x27;automated&#x27;</span>, <span class="literal">True</span>)  <span class="comment"># 设置为True后就不会弹出对话框，就是将其设置为自动化</span></span><br><span class="line">    task.set_editor_property(<span class="string">&#x27;destination_name&#x27;</span>, <span class="string">&#x27;&#x27;</span>)  <span class="comment"># 可选的要导入的自定义名称，当属性为空时就按照文件名称命名</span></span><br><span class="line">    task.set_editor_property(<span class="string">&#x27;destination_path&#x27;</span>, destination_path)  <span class="comment"># 导入的资源在引擎中的路径</span></span><br><span class="line">    task.set_editor_property(<span class="string">&#x27;filename&#x27;</span>, filename)  <span class="comment"># 要导入的资源在电脑磁盘上的路径</span></span><br><span class="line">    task.set_editor_property(<span class="string">&#x27;replace_existing&#x27;</span>, <span class="literal">True</span>)  <span class="comment"># 是否要覆盖资产</span></span><br><span class="line">    task.set_editor_property(<span class="string">&#x27;save&#x27;</span>, <span class="literal">True</span>)  <span class="comment"># 导入后保存</span></span><br><span class="line">    <span class="keyword">return</span> task</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 这里用到的属性可以参考文档：https://docs.unrealengine.com/5.0/en-US/PythonAPI/class/AssetTools.html</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">executeImportTasks</span>(<span class="params">tasks</span>):  <span class="comment"># 执行导入任务</span></span><br><span class="line">    unreal.AssetToolsHelpers.get_asset_tools().import_asset_tasks(tasks)  <span class="comment"># 通过这行代码将在buildImportTask函数中创建的task对象进行导入</span></span><br><span class="line">    <span class="keyword">for</span> task <span class="keyword">in</span> tasks:</span><br><span class="line">        <span class="keyword">for</span> path <span class="keyword">in</span> task.get_editor_property(<span class="string">&#x27;imported_object_paths&#x27;</span>):</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;Imported: %s&#x27;</span> % path)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><a name="m5PmG"></a></p>
<h3 id="导入静态网格体和骨骼网格体">导入静态网格体和骨骼网格体</h3>
<p>用到的类：<br><a target="_blank" rel="noopener" href="https://docs.unrealengine.com/5.0/en-US/PythonAPI/class/FbxImportUI.html">https://docs.unrealengine.com/5.0/en-US/PythonAPI/class/FbxImportUI.html</a><br><a target="_blank" rel="noopener" href="https://docs.unrealengine.com/5.0/en-US/PythonAPI/class/FbxMeshImportData.html">https://docs.unrealengine.com/5.0/en-US/PythonAPI/class/FbxMeshImportData.html</a><br><a target="_blank" rel="noopener" href="https://docs.unrealengine.com/5.0/en-US/PythonAPI/class/FbxStaticMeshImportData.html">https://docs.unrealengine.com/5.0/en-US/PythonAPI/class/FbxStaticMeshImportData.html</a><br><a target="_blank" rel="noopener" href="https://docs.unrealengine.com/5.0/en-US/PythonAPI/class/FbxSkeletalMeshImportData.html">https://docs.unrealengine.com/5.0/en-US/PythonAPI/class/FbxSkeletalMeshImportData.html</a><br>我用的4.26版本的UE，使用这个代码没有办法导入骨骼体，代码已经反复检查几遍了没发现问题。教程中用的是4.21版本的UE。  后来测试后发现是可以的，应该是之前的资产有问题，后来测试用的小白人fbx2018的是可以导入进来的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unreal</span><br><span class="line"></span><br><span class="line">soundPath = <span class="string">&#x27;D:/ZhangRuiChen/UETest/TestFile/Sounds/soundTest.mp3&#x27;</span></span><br><span class="line">texPath = <span class="string">&#x27;D:/ZhangRuiChen/UETest/TestFile/Texture/test_ORM3.png&#x27;</span></span><br><span class="line">static_mesh_fbx = <span class="string">&#x27;D:/ZhangRuiChen/UETest/TestFile/StaticMeshes/sphere.fbx&#x27;</span></span><br><span class="line">skeletal_mesh_fbx = <span class="string">&#x27;D:/ZhangRuiChen/UETest/TestFile/Skeletal/woman.fbx&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">importMyAssets</span>():  <span class="comment"># 创建导入任务并执行导入</span></span><br><span class="line">    <span class="comment"># texture_task = buildImportTask(texPath, &#x27;/Game/Textures&#x27;)  # 通过buildImportTask函数创建一个AssetImportTask对象</span></span><br><span class="line">    <span class="comment"># sound_task = buildImportTask(soundPath, &#x27;/Game/Sounds&#x27;)  # 同理</span></span><br><span class="line">    <span class="comment"># executeImportTasks([texture_task, sound_task])  # 执行导入操作</span></span><br><span class="line">    static_mesh_task = buildImportTask(static_mesh_fbx, <span class="string">&#x27;/Game/StaticMeshes&#x27;</span>, buildStaticMeshImportOptions())</span><br><span class="line">    skeletal_mesh_task = buildImportTask(skeletal_mesh_fbx, <span class="string">&#x27;/Game/SkeletalMeshes&#x27;</span>, buildSkeletalMeshImportOptions())</span><br><span class="line">    executeImportTasks([static_mesh_task, skeletal_mesh_task])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 这里用到的属性可以参考文档：https://docs.unrealengine.com/5.0/en-US/PythonAPI/class/AssetImportTask.html</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">buildImportTask</span>(<span class="params">filename, destination_path, options=<span class="literal">None</span></span>):  <span class="comment"># 构建导入任务</span></span><br><span class="line">    task = unreal.AssetImportTask()</span><br><span class="line">    task.set_editor_property(<span class="string">&#x27;automated&#x27;</span>, <span class="literal">True</span>)  <span class="comment"># 设置为True后就不会弹出对话框，就是将其设置为自动化</span></span><br><span class="line">    task.set_editor_property(<span class="string">&#x27;destination_name&#x27;</span>, <span class="string">&#x27;&#x27;</span>)  <span class="comment"># 可选的要导入的自定义名称，当属性为空时就按照文件名称命名</span></span><br><span class="line">    task.set_editor_property(<span class="string">&#x27;destination_path&#x27;</span>, destination_path)  <span class="comment"># 导入的资源在引擎中的路径</span></span><br><span class="line">    task.set_editor_property(<span class="string">&#x27;filename&#x27;</span>, filename)  <span class="comment"># 要导入的资源在电脑磁盘上的路径</span></span><br><span class="line">    task.set_editor_property(<span class="string">&#x27;replace_existing&#x27;</span>, <span class="literal">True</span>)  <span class="comment"># 是否要覆盖资产</span></span><br><span class="line">    task.set_editor_property(<span class="string">&#x27;save&#x27;</span>, <span class="literal">True</span>)  <span class="comment"># 导入后保存</span></span><br><span class="line">    task.set_editor_property(<span class="string">&#x27;options&#x27;</span>, options)  <span class="comment"># 当导入fbx这种资产需要额外的导入选项，需要创建FbxImportUI对象来传递</span></span><br><span class="line">    <span class="keyword">return</span> task</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 这里用到的属性可以参考文档：https://docs.unrealengine.com/5.0/en-US/PythonAPI/class/AssetTools.html</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">executeImportTasks</span>(<span class="params">tasks</span>):  <span class="comment"># 执行导入任务</span></span><br><span class="line">    unreal.AssetToolsHelpers.get_asset_tools().import_asset_tasks(tasks)  <span class="comment"># 通过这行代码将在buildImportTask函数中创建的task对象进行导入</span></span><br><span class="line">    <span class="keyword">for</span> task <span class="keyword">in</span> tasks:</span><br><span class="line">        <span class="keyword">for</span> path <span class="keyword">in</span> task.get_editor_property(<span class="string">&#x27;imported_object_paths&#x27;</span>):</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;Imported: %s&#x27;</span> % path)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">buildStaticMeshImportOptions</span>():</span><br><span class="line">    options = unreal.FbxImportUI()</span><br><span class="line">    <span class="comment"># unreal.FbxImportUI</span></span><br><span class="line">    options.set_editor_property(<span class="string">&#x27;import_mesh&#x27;</span>, <span class="literal">True</span>)</span><br><span class="line">    options.set_editor_property(<span class="string">&#x27;import_textures&#x27;</span>, <span class="literal">False</span>)</span><br><span class="line">    options.set_editor_property(<span class="string">&#x27;import_materials&#x27;</span>, <span class="literal">False</span>)</span><br><span class="line">    options.set_editor_property(<span class="string">&#x27;import_as_skeletal&#x27;</span>, <span class="literal">False</span>)  <span class="comment"># Static Mesh</span></span><br><span class="line">    <span class="comment"># unreal.FbxMeshImportData</span></span><br><span class="line">    options.static_mesh_import_data.set_editor_property(<span class="string">&#x27;import_translation&#x27;</span>, unreal.Vector(<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>))</span><br><span class="line">    options.static_mesh_import_data.set_editor_property(<span class="string">&#x27;import_rotation&#x27;</span>, unreal.Rotator(<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>))</span><br><span class="line">    options.static_mesh_import_data.set_editor_property(<span class="string">&#x27;import_uniform_scale&#x27;</span>, <span class="number">1.0</span>)</span><br><span class="line">    <span class="comment"># unreal.FbxStaticMeshImportData</span></span><br><span class="line">    options.static_mesh_import_data.set_editor_property(<span class="string">&#x27;combine_meshes&#x27;</span>, <span class="literal">True</span>)</span><br><span class="line">    options.static_mesh_import_data.set_editor_property(<span class="string">&#x27;generate_lightmap_u_vs&#x27;</span>, <span class="literal">True</span>)</span><br><span class="line">    options.static_mesh_import_data.set_editor_property(<span class="string">&#x27;auto_generate_collision&#x27;</span>, <span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">return</span> options</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">buildSkeletalMeshImportOptions</span>():</span><br><span class="line">    options = unreal.FbxImportUI()</span><br><span class="line">    <span class="comment"># unreal.FbxImportUI</span></span><br><span class="line">    options.set_editor_property(<span class="string">&#x27;import_mesh&#x27;</span>, <span class="literal">True</span>)</span><br><span class="line">    options.set_editor_property(<span class="string">&#x27;import_textures&#x27;</span>, <span class="literal">True</span>)</span><br><span class="line">    options.set_editor_property(<span class="string">&#x27;import_materials&#x27;</span>, <span class="literal">True</span>)</span><br><span class="line">    options.set_editor_property(<span class="string">&#x27;import_as_skeletal&#x27;</span>, <span class="literal">True</span>)  <span class="comment"># Skeletal Mesh</span></span><br><span class="line">    <span class="comment"># unreal.FbxMeshImportData</span></span><br><span class="line">    options.skeletal_mesh_import_data.set_editor_property(<span class="string">&#x27;import_translation&#x27;</span>, unreal.Vector(<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>))</span><br><span class="line">    options.skeletal_mesh_import_data.set_editor_property(<span class="string">&#x27;import_rotation&#x27;</span>, unreal.Rotator(<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>))</span><br><span class="line">    options.skeletal_mesh_import_data.set_editor_property(<span class="string">&#x27;import_uniform_scale&#x27;</span>, <span class="number">1.0</span>)</span><br><span class="line">    <span class="comment"># unreal.FbxSkeletalMeshImportData</span></span><br><span class="line">    options.skeletal_mesh_import_data.set_editor_property(<span class="string">&#x27;import_morph_targets&#x27;</span>, <span class="literal">True</span>)</span><br><span class="line">    options.skeletal_mesh_import_data.set_editor_property(<span class="string">&#x27;update_skeleton_reference_pose&#x27;</span>, <span class="literal">False</span>)</span><br><span class="line">    <span class="keyword">return</span> options</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><a name="VWzOM"></a></p>
<h3 id="导入动画">导入动画</h3>
<p>跟导入静态网格体差不多，就是导入动画时的额外设置略有不同，并且创建任务需要使用导入动画的设置时需要指定动画依赖的骨骼的路径。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">buildAnimationImportOptions</span>(<span class="params">skeleton_path</span>):</span><br><span class="line">    options = unreal.FbxImportUI()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 是否导入动画</span></span><br><span class="line">    options.set_editor_property(<span class="string">&#x27;import_animations&#x27;</span>, <span class="literal">True</span>)</span><br><span class="line">    <span class="comment"># 导入骨架的位置</span></span><br><span class="line">    options.skeleton = unreal.load_asset(skeleton_path)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 设置动画序列的内容</span></span><br><span class="line">    options.anim_sequence_import_data.set_editor_property(<span class="string">&#x27;import_translation&#x27;</span>, unreal.Vector(<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>))</span><br><span class="line">    options.anim_sequence_import_data.set_editor_property(<span class="string">&#x27;import_rotation&#x27;</span>, unreal.Rotator(<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>))</span><br><span class="line">    options.anim_sequence_import_data.set_editor_property(<span class="string">&#x27;import_uniform_scale&#x27;</span>, <span class="number">1.0</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 动画的长度</span></span><br><span class="line">    options.anim_sequence_import_data.set_editor_property(<span class="string">&#x27;animation_length&#x27;</span>,</span><br><span class="line">                                                          unreal.FBXAnimationLengthImportType.FBXALIT_EXPORTED_TIME)</span><br><span class="line">    <span class="comment"># 去掉冗余的关键帧</span></span><br><span class="line">    options.anim_sequence_import_data.set_editor_property(<span class="string">&#x27;remove_redundant_keys&#x27;</span>, <span class="literal">False</span>)</span><br><span class="line">    <span class="keyword">return</span> options</span><br><span class="line">    </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">executeImportTasks</span>(<span class="params">tasks</span>):  <span class="comment"># 执行导入任务</span></span><br><span class="line">    unreal.AssetToolsHelpers.get_asset_tools().import_asset_tasks(tasks)  <span class="comment"># 通过这行代码将在buildImportTask函数中创建的task对象进行导入</span></span><br><span class="line">    <span class="keyword">for</span> task <span class="keyword">in</span> tasks:</span><br><span class="line">        <span class="keyword">for</span> path <span class="keyword">in</span> task.get_editor_property(<span class="string">&#x27;imported_object_paths&#x27;</span>):</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;Imported: %s&#x27;</span> % path)</span><br><span class="line">            </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">importMyAssets</span>():  <span class="comment"># 创建导入任务并执行导入</span></span><br><span class="line">    animation_fbx = <span class="string">&#x27;D:/ZhangRuiChen/UETest/TestFile/Animation/Animation.fbx&#x27;</span></span><br><span class="line">    animation_fbx_task = buildImportTask(animation_fbx, <span class="string">&#x27;/Game/Animations&#x27;</span>, buildStaticMeshImportOptions(<span class="string">&#x27;/Game/SkeletalMeshes/man_Skeleton&#x27;</span>))</span><br><span class="line">    executeImportTasks([animation_fbx_task])</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><a name="NZzHf"></a></p>
<h3 id="创建、复制、删除、重命名资产和文件夹">创建、复制、删除、重命名资产和文件夹</h3>
<p>这些东西可以直接复制到UE的代码编辑框中执行看看效果<br>针对资产编辑器中的内容都要使用unreal.EditorAssetLibrary中的方法，例如创建复制删除重命名文件夹，复制删除重命名资产，判段资产是否存在。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unreal</span><br><span class="line"><span class="comment"># 创建文件夹</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">createDirectory</span>():</span><br><span class="line">    unreal.EditorAssetLibrary.make_directory(<span class="string">&#x27;/Game/MyAsset/MyNewDirectory&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 复制文件夹</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">duplicateDirectory</span>():</span><br><span class="line">    <span class="keyword">return</span> unreal.EditorAssetLibrary.duplicate_directory(<span class="string">&#x27;/Game/MyAsset/MyNewDirectory&#x27;</span>,</span><br><span class="line">                                                         <span class="string">&#x27;/Game/MyAsset/MyNewDirectory_Duplicated&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除文件夹</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">deleteDirectory</span>():</span><br><span class="line">    unreal.EditorAssetLibrary.delete_directory(<span class="string">&#x27;/Game/MyAsset/MyNewDirectory&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 重命名文件夹</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">renameDirectory</span>():</span><br><span class="line">    <span class="keyword">return</span> unreal.EditorAssetLibrary.rename_directory(<span class="string">&#x27;/Game/MyAsset/MyNewDirectory_Duplicated&#x27;</span>,</span><br><span class="line">                                                      <span class="string">&#x27;/Game/MyAsset/MyNewDirectory_Renamed&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 复制资产</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">duplicateAsset</span>():</span><br><span class="line">    <span class="keyword">return</span> unreal.EditorAssetLibrary.duplicate_asset(<span class="string">&#x27;/Game/MyAsset/Textures/test_ORM3&#x27;</span>,</span><br><span class="line">                                                     <span class="string">&#x27;/Game/MyAsset/Textures/test_ORM3_duplicate&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除资产</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">deleteAsset</span>():</span><br><span class="line">    unreal.EditorAssetLibrary.delete_asset(<span class="string">&#x27;/Game/MyAsset/Textures/test_ORM3&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 判断资产是否存在</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">assetExist</span>():</span><br><span class="line">    <span class="built_in">print</span>(unreal.EditorAssetLibrary.does_asset_exist(<span class="string">&#x27;/Game/MyAsset/Textures/test_ORM3&#x27;</span>))  <span class="comment"># False</span></span><br><span class="line">    <span class="built_in">print</span>(unreal.EditorAssetLibrary.does_asset_exist(<span class="string">&#x27;/Game/MyAsset/Textures/test_ORM3_duplicate&#x27;</span>))  <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 重命名资产</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">renameAsset</span>():</span><br><span class="line">    unreal.EditorAssetLibrary.rename_asset(<span class="string">&#x27;/Game/MyAsset/Textures/test_ORM3_duplicate&#x27;</span>,</span><br><span class="line">                                           <span class="string">&#x27;/Game/MyAsset/Textures/test_ORM3_Renamed&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示复制资产提示框</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">duplicateAssetDialog</span>(<span class="params">show_dialog=<span class="literal">True</span></span>):</span><br><span class="line">    <span class="keyword">if</span> show_dialog:</span><br><span class="line">        unreal.AssetToolsHelpers.get_asset_tools().duplicate_asset_with_dialog(<span class="string">&#x27;test_ORM3_Duplicated&#x27;</span>,</span><br><span class="line">                                                                               <span class="string">&#x27;/Game/MyAsset/Textures&#x27;</span>,</span><br><span class="line">                                                                               unreal.load_asset(</span><br><span class="line">                                                                                   <span class="string">&#x27;/Game/MyAsset/Textures/test_ORM3_Renamed&#x27;</span>))</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        unreal.AssetToolsHelpers.get_asset_tools().duplicate_asset(<span class="string">&#x27;test_ORM3_Duplicated&#x27;</span>, <span class="string">&#x27;/Game/MyAsset/Textures&#x27;</span>,</span><br><span class="line">                                                                   unreal.load_asset(</span><br><span class="line">                                                                       <span class="string">&#x27;/Game/MyAsset/Textures/test_ORM3_Renamed&#x27;</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示重命名提示框</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">renameAssetDialog</span>(<span class="params">show_dialog=<span class="literal">True</span></span>):</span><br><span class="line">    first_rename_data = unreal.AssetRenameData(unreal.load_asset(<span class="string">&#x27;/Game/MyAsset/Textures/test_ORM3_Renamed&#x27;</span>),</span><br><span class="line">                                               <span class="string">&#x27;/Game/MyAsset/Textures&#x27;</span>, <span class="string">&#x27;test_ORM3_Renamed_2&#x27;</span>)</span><br><span class="line">    second_rename_data = unreal.AssetRenameData(unreal.load_asset(<span class="string">&#x27;/Game/MyAsset/Textures/test_ORM3_Duplicated&#x27;</span>),</span><br><span class="line">                                                <span class="string">&#x27;/Game/MyAsset/Textures&#x27;</span>, <span class="string">&#x27;test_ORM3_Duplicated_Renamed&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> show_dialog:</span><br><span class="line">        unreal.AssetToolsHelpers.get_asset_tools().rename_assets_with_dialog([first_rename_data, second_rename_data])</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        unreal.AssetToolsHelpers.get_asset_tools().rename_assets([first_rename_data, second_rename_data])</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><a name="PpzFb"></a></p>
<h2 id="使用python调用C-函数">使用python调用C++函数</h2>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1657180848774-09e0c281-f9ff-4319-8543-572f2578bf66.png#clientId=u05c02e16-dea5-4&amp;errorMessage=unknown%20error&amp;from=paste&amp;height=1055&amp;id=uc2993bf1&amp;originHeight=1055&amp;originWidth=1694&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=464364&amp;status=error&amp;style=none&amp;taskId=ub4686a20-e257-4b92-8c09-42873fc6f90&amp;title=&amp;width=1694" alt="image.png"><br>取名字为ZFunctions<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1657181259643-9ffac0ff-7d24-4cec-b669-1c639a650814.png#clientId=u05c02e16-dea5-4&amp;errorMessage=unknown%20error&amp;from=paste&amp;height=426&amp;id=u3724a30b&amp;originHeight=426&amp;originWidth=1294&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=236790&amp;status=error&amp;style=none&amp;taskId=ufa38904a-fc3f-41d5-9673-5d2f3346b54&amp;title=&amp;width=1294" alt="image.png"><br>创建这个类以后，UE会自动编译打开VisualStudio。<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1657181358854-4381aeec-353e-4adf-b83b-df6db40f2d58.png#clientId=u05c02e16-dea5-4&amp;errorMessage=unknown%20error&amp;from=paste&amp;height=56&amp;id=u6d9a0b40&amp;originHeight=56&amp;originWidth=280&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=3120&amp;status=error&amp;style=none&amp;taskId=u829356b5-6591-486c-975e-1e13799faf8&amp;title=&amp;width=280" alt="image.png"><br>ZFunctions.h文件内容：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Fill out your copyright notice in the Description page of Project Settings.</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;CoreMinimal.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Kismet/BlueprintFunctionLibrary.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;ZFunctions.generated.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">UCLASS</span>()</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CPLUSPLUSTEST_API</span> UZFunctions : <span class="keyword">public</span> UBlueprintFunctionLibrary</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">GENERATED_BODY</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">UFUNCTION</span>(BlueprintCallable) <span class="comment">// 将函数暴露给蓝图</span></span><br><span class="line">		<span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">CalledFromPython</span><span class="params">(FString InputString)</span></span>;</span><br><span class="line">	</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ZFunctions.cpp文件内容：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Fill out your copyright notice in the Description page of Project Settings.</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;ZFunctions.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">UZFunctions::CalledFromPython</span><span class="params">(FString InputString)</span> </span>&#123;</span><br><span class="line">	<span class="built_in">UE_LOG</span>(LogTemp, Error, <span class="built_in">TEXT</span>(<span class="string">&quot;%s&quot;</span>), *InputString);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>内容写好后就可以<br>然后我们可以在编辑器中通过</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">for</span> x in <span class="title">sorted</span><span class="params">(dir(unreal))</span>:</span></span><br><span class="line"><span class="function">	print (x)</span></span><br></pre></td></tr></table></figure>
<p>打印出目前UE项目中所有的类。<br>可以在输出中找到<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1657182694150-31ce542e-d3cb-4b0e-a93b-6c225785a350.png#clientId=u05c02e16-dea5-4&amp;errorMessage=unknown%20error&amp;from=paste&amp;height=145&amp;id=u2a52dbed&amp;originHeight=145&amp;originWidth=313&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=8849&amp;status=error&amp;style=none&amp;taskId=ufa7c4b05-c548-4d88-9499-f68a1155c1e&amp;title=&amp;width=313" alt="image.png">那就可以使用了。<br>然后我们可以在编辑器中通过</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">for</span> x in <span class="title">sorted</span><span class="params">(dir(unreal.ZFunctions))</span>:</span></span><br><span class="line"><span class="function">	print (x)</span></span><br></pre></td></tr></table></figure>
<p>打印出ZFunctions中的所有方法。<br>可以找到刚才定义的方法：<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1657183307392-331af0d3-d301-40f4-a2a0-98c7462fc9be.png#clientId=u05c02e16-dea5-4&amp;errorMessage=unknown%20error&amp;from=paste&amp;height=34&amp;id=u421c198a&amp;originHeight=34&amp;originWidth=188&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=2734&amp;status=error&amp;style=none&amp;taskId=u21569621-69ee-42c7-80a6-99daa375831&amp;title=&amp;width=188" alt="image.png"> 可以发现我们明明写的是CalledFromPython，但是UE会自动将命名更改为called_from_python<br>然后我们就可以在UE中使用这个方法了<br>通过代码 unreal.ZFunctions.called_from_python(‘11111’)<br>会使用这个方法的功能，让UE打印一个UE_LOG<br>UE_LOG(LogTemp, Error, TEXT(“%s”), *InputString)<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1657183613159-578d21d4-7ccc-4af3-b559-eacbac054041.png#clientId=u05c02e16-dea5-4&amp;errorMessage=unknown%20error&amp;from=paste&amp;height=39&amp;id=u0407f35d&amp;originHeight=39&amp;originWidth=453&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=5632&amp;status=error&amp;style=none&amp;taskId=u05975b26-9e44-47a8-955a-cc3ea483de2&amp;title=&amp;width=453" alt="image.png"><br>
<a name="WPpVr"></a></p>
<h2 id="改变文件夹的颜色">改变文件夹的颜色</h2>
<p>要想修改文件夹的颜色依然需要使用C++，只不过可以通过python语句调用C++函数来实现简单的批量操作…<br>因此依然通过继承Blueprint  Fuction Library 类来创建我们的自定义类。取名为CppLib<br>
<a name="wCOD1"></a></p>
<h3 id="CppLib-h">CppLib.h</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Fill out your copyright notice in the Description page of Project Settings.</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;CoreMinimal.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Kismet/BlueprintFunctionLibrary.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;CppLib.generated.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">UCLASS</span>()</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CPLUSPLUSTEST_API</span> UCppLib : <span class="keyword">public</span> UBlueprintFunctionLibrary</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">GENERATED_BODY</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">UFUNCTION</span>(BlueprintCallable, Category = <span class="string">&quot;Unreal Python&quot;</span>)</span><br><span class="line">		<span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">SetFolderColor</span><span class="params">(FString FolderPath, FLinearColor Color)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><a name="UvDZx"></a></p>
<h3 id="CppLib-cpp">CppLib.cpp</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Fill out your copyright notice in the Description page of Project Settings.</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;CppLib.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">UCppLib::SetFolderColor</span><span class="params">(FString FolderPath, FLinearColor Color)</span> </span>&#123;</span><br><span class="line">	GConfig-&gt;<span class="built_in">SetString</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;PathColor&quot;</span>), *FolderPath, *Color.<span class="built_in">ToString</span>(), GEditorPerProjectIni);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a name="W75gc"></a></p>
<h3 id="写完c-后可以通过蓝图调用函数">写完c++后可以通过蓝图调用函数</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1657531899356-6d006729-9afd-4c8d-97fa-7e4c83175f8d.png#clientId=uc78214b9-d920-4&amp;errorMessage=unknown%20error&amp;from=paste&amp;height=698&amp;id=u8d7183c3&amp;originHeight=698&amp;originWidth=1749&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=152825&amp;status=error&amp;style=none&amp;taskId=ufda12786-170b-4acb-949b-2e9b50aaa76&amp;title=&amp;width=1749" alt="image.png"><br>勾选自定义事件的 Call In Editor 就可以在外面手动点击触发自定义事件了。<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1657531961768-a20a0216-2c47-4822-b19d-a691543d9ee1.png#clientId=uc78214b9-d920-4&amp;errorMessage=unknown%20error&amp;from=paste&amp;height=624&amp;id=uf50a7119&amp;originHeight=624&amp;originWidth=610&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=58905&amp;status=error&amp;style=none&amp;taskId=ud772c6cb-8db3-4fb6-8261-c2ea8d3d472&amp;title=&amp;width=610" alt="image.png">如果是已经存在的文件夹路径，那么点击按钮后不会立刻改变文件夹的颜色，需要重新启动才能够发现改变。不存在的文件夹路径，当创建好对应的文件夹后，文件夹会自动改变颜色。<br>
<a name="oHHlX"></a></p>
<h3 id="python调用函数实现批量更改">python调用函数实现批量更改</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># coding: utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> unreal</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta"># import folderColor as fc</span></span><br><span class="line"><span class="meta"># from imp import reload</span></span><br><span class="line"><span class="meta"># reload(fc)</span></span><br><span class="line"><span class="meta"># fc.generateColoredDirectories()</span></span><br><span class="line"></span><br><span class="line"><span class="function">def <span class="title">generateColoredDirectories</span><span class="params">()</span>:</span></span><br><span class="line"><span class="function">    for x in range(<span class="number">100</span>, <span class="number">400</span>):</span></span><br><span class="line"><span class="function">        dir_path =</span> <span class="string">&#x27;/Game/PythonGenerated/&#x27;</span> + <span class="built_in">str</span>(x)</span><br><span class="line">        linear_color = <span class="built_in">getGradientColor</span>(x)</span><br><span class="line">        unreal.CppLib.<span class="built_in">set_folder_color</span>(dir_path, linear_color)</span><br><span class="line">        unreal.EditorAssetLibrary.<span class="built_in">make_directory</span>(dir_path)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def <span class="built_in">getGradientColor</span>(x):</span><br><span class="line">    x = x - <span class="number">100</span></span><br><span class="line">    <span class="keyword">if</span> x &lt; <span class="number">100</span>:</span><br><span class="line">        r = <span class="number">1.0</span> - x / <span class="number">100.0</span></span><br><span class="line">        g = <span class="number">0.0</span> + x / <span class="number">100.0</span></span><br><span class="line">        b = <span class="number">0.0</span></span><br><span class="line">    elif x &lt; <span class="number">200</span>:</span><br><span class="line">        r = <span class="number">0.0</span></span><br><span class="line">        g = <span class="number">1.0</span> - (x - <span class="number">100</span>) / <span class="number">100.0</span></span><br><span class="line">        b = <span class="number">0.0</span> + (x - <span class="number">100</span>) / <span class="number">100.0</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        r = <span class="number">0.0</span> + (x - <span class="number">200</span>) / <span class="number">100.0</span></span><br><span class="line">        g = <span class="number">0.0</span></span><br><span class="line">        b = <span class="number">1.0</span> - (x - <span class="number">200</span>) / <span class="number">100.0</span></span><br><span class="line">    <span class="keyword">return</span> unreal.<span class="built_in">LinearColor</span>(r, g, b, <span class="number">1</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>效果：<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1657534605188-5fd07b83-fbb3-4314-a553-0d49666f707e.png#clientId=uc78214b9-d920-4&amp;errorMessage=unknown%20error&amp;from=paste&amp;height=434&amp;id=ud7d21ee3&amp;originHeight=434&amp;originWidth=2058&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=136042&amp;status=error&amp;style=none&amp;taskId=u862795a0-5e66-40c1-a790-af9d4d9819b&amp;title=&amp;width=2058" alt="image.png"><br>
<a name="yacQ4"></a></p>
<h2 id="如何使用c-和Python打开和关闭资产">如何使用c++和Python打开和关闭资产</h2>
<p>python 只能打开资产，关闭资产需要通过C++来实现。<br>
<a name="UIkJl"></a></p>
<h3 id="先看python如何打开资产">先看python如何打开资产</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unreal</span><br><span class="line"><span class="comment"># 在ue中执行的调用命令</span></span><br><span class="line"><span class="comment"># from imp import reload</span></span><br><span class="line"><span class="comment"># import openAssets_10 as oa</span></span><br><span class="line"><span class="comment"># reload(oa)</span></span><br><span class="line"><span class="comment"># oa.openAssets()</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 打开资产</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">openAssets</span>():</span><br><span class="line">    assets = [unreal.load_asset(<span class="string">&#x27;/Game/MyAsset/Sounds/soundTest&#x27;</span>),</span><br><span class="line">              unreal.load_asset(<span class="string">&#x27;/Game/MyAsset/Textures/light_setAOVs&#x27;</span>),</span><br><span class="line">              unreal.load_asset(<span class="string">&#x27;/Game/MyAsset/Textures/light_createShot&#x27;</span>),</span><br><span class="line">              unreal.load_asset(<span class="string">&#x27;/Game/MyAsset/Textures/light_importLight&#x27;</span>)]</span><br><span class="line">    unreal.AssetToolsHelpers.get_asset_tools().open_editor_for_assets(assets)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用自定义的C++类中的函数</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getAllOpenedAssets</span>():</span><br><span class="line">    <span class="keyword">return</span> unreal.CppLib.get_assets_opened_in_editor()</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">closeAssets</span>():</span><br><span class="line">    assets = getAllOpenedAssets()</span><br><span class="line">    unreal.CppLib.close_editor_for_assets(assets)</span><br></pre></td></tr></table></figure>
<p><a name="HUW7O"></a></p>
<h3 id="UE中模块修改">UE中模块修改</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1659002804160-678071e2-135e-4dff-9291-df6ea04cb85e.png#clientId=u88952200-365e-4&amp;errorMessage=unknown%20error&amp;from=paste&amp;height=583&amp;id=uc0dc5e8a&amp;originHeight=583&amp;originWidth=324&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=20749&amp;status=error&amp;style=none&amp;taskId=u71ae05de-611d-40ba-86c3-3f49a71bef2&amp;title=&amp;width=324" alt="image.png">这个.Build.cs格式的是当前项目的模块<br>进入这个模块需要修改：<br>主要是增加了一项：“UnrealEd”</p>
<p><a name="JrJq3"></a></p>
<h3 id="CPlusPlusTest-Build-cs">CPlusPlusTest.Build.cs</h3>
<p>首先说明一下这里的CPlusPlusTest是ue4.27中创建的项目名<br>在原有的基础上新增了&quot;UnrealEd&quot;<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1659003281786-9ec3ec8a-52f6-43de-969b-357743238a21.png#clientId=u88952200-365e-4&amp;errorMessage=unknown%20error&amp;from=paste&amp;height=527&amp;id=u4e1a4527&amp;originHeight=527&amp;originWidth=2030&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=92636&amp;status=error&amp;style=none&amp;taskId=u602760b9-d2f1-40d6-9760-60ca217cda8&amp;title=&amp;width=2030" alt="image.png"></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Copyright Epic Games, Inc. All Rights Reserved.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> UnrealBuildTool;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CPlusPlusTest</span> : ModuleRules</span><br><span class="line">&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">CPlusPlusTest</span><span class="params">(ReadOnlyTargetRules Target)</span> : base(Target)</span></span><br><span class="line"><span class="function">	&#123;</span></span><br><span class="line">		PCHUsage = PCHUsageMode.UseExplicitOrSharedPCHs;</span><br><span class="line"></span><br><span class="line">		PublicDependencyModuleNames.<span class="built_in">AddRange</span>(<span class="keyword">new</span> string[] &#123; <span class="string">&quot;Core&quot;</span>, <span class="string">&quot;CoreUObject&quot;</span>, <span class="string">&quot;Engine&quot;</span>, <span class="string">&quot;InputCore&quot;</span>, <span class="string">&quot;HeadMountedDisplay&quot;</span>, <span class="string">&quot;UnrealEd&quot;</span> &#125;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><a name="IxqdD"></a></p>
<h3 id="CppLib-h-2">CppLib.h</h3>
<p>在上一节的基础上 新增了两个函数：<br>CloseEditorForAssets<br>GetAssetsOpendInEditor</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Fill out your copyright notice in the Description page of Project Settings.</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;CoreMinimal.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Kismet/BlueprintFunctionLibrary.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;CppLib.generated.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">UCLASS</span>()</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CPLUSPLUSTEST_API</span> UCppLib : <span class="keyword">public</span> UBlueprintFunctionLibrary</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">GENERATED_BODY</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">UFUNCTION</span>(BlueprintCallable, Category = <span class="string">&quot;Unreal Python&quot;</span>)</span><br><span class="line">		<span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">SetFolderColor</span><span class="params">(FString FolderPath, FLinearColor Color)</span></span>;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">UFUNCTION</span>(BlueprintCallable, Category = <span class="string">&quot;Unreal Python&quot;</span>)</span><br><span class="line">		<span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">CloseEditorForAssets</span><span class="params">(TArray&lt;UObject*&gt; Assets)</span></span>;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">UFUNCTION</span>(BlueprintCallable, Category = <span class="string">&quot;Unreal Python&quot;</span>)</span><br><span class="line">		<span class="function"><span class="type">static</span> TArray&lt;UObject*&gt; <span class="title">GetAssetsOpenedInEditor</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><a name="YAVAV"></a></p>
<h3 id="CppLib-cpp-2">CppLib.cpp</h3>
<p>这里除了定义函数功能还有个要注意的是要include “Editor.h”</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Fill out your copyright notice in the Description page of Project Settings.</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;CppLib.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Editor.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Editor/UnrealEd/Public/Toolkits/AssetEditorManager.h&quot;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">UCppLib::SetFolderColor</span><span class="params">(FString FolderPath, FLinearColor Color)</span> </span>&#123;</span><br><span class="line">	GConfig-&gt;<span class="built_in">SetString</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;PathColor&quot;</span>), *FolderPath, *Color.<span class="built_in">ToString</span>(), GEditorPerProjectIni);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">UCppLib::CloseEditorForAssets</span><span class="params">(TArray&lt;UObject*&gt; Assets)</span> </span>&#123;</span><br><span class="line">	UAssetEditorSubsystem* AssetEditorSubsystem = GEditor-&gt;<span class="built_in">GetEditorSubsystem</span>&lt;UAssetEditorSubsystem&gt;();</span><br><span class="line">	<span class="keyword">for</span> (UObject* Asset : Assets) &#123;</span><br><span class="line">		AssetEditorSubsystem-&gt;<span class="built_in">CloseAllEditorsForAsset</span>(Asset);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">TArray&lt;UObject*&gt; <span class="title">UCppLib::GetAssetsOpenedInEditor</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	UAssetEditorSubsystem* AssetEditorSubsystem = GEditor-&gt;<span class="built_in">GetEditorSubsystem</span>&lt;UAssetEditorSubsystem&gt;();</span><br><span class="line">	TArray&lt;UObject*&gt; EditedAssets = AssetEditorSubsystem-&gt;<span class="built_in">GetAllEditedAssets</span>();</span><br><span class="line">	<span class="keyword">return</span> EditedAssets;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a name="mq42D"></a></p>
<h3 id="在UE中进行调用">在UE中进行调用</h3>
<p>from imp import reload<br>import openAssets_10 as oa<br>reload(oa)<br>oa.openAssets()# 打开资产<br>oa.closeAssets()# 关闭资产<br>oa.getAllOpenedAssets()#得到当前打开的资产的信息（需要用一个变量来接受它，是一个列表）<br>
<a name="KycrD"></a></p>
<h2 id="使用Python和C-选择内容浏览器的资产">使用Python和C ++选择内容浏览器的资产</h2>
<p><a name="Nghfs"></a></p>
<h3 id="python">python</h3>
<p>使用python来选择有弊端，就是它不能选择文件夹以及关卡，因此还要介绍通过C++如何选择</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unreal</span><br><span class="line"><span class="comment"># from imp import reload</span></span><br><span class="line"><span class="comment"># import selectAssets_11 as sa</span></span><br><span class="line"><span class="comment"># reload(sa)</span></span><br><span class="line"><span class="comment"># sa.showAssetsInContentBrowser()</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">showAssetsInContentBrowser</span>():</span><br><span class="line">    paths = [<span class="string">&#x27;/Game/MyAsset/Sounds/SoundTest&#x27;</span>,</span><br><span class="line">             <span class="string">&#x27;/Game/MyAsset/Textures/light_setAOVs&#x27;</span>]</span><br><span class="line">    unreal.EditorAssetLibrary.sync_browser_to_objects(paths)</span><br></pre></td></tr></table></figure>
<p><a name="Eu4Sv"></a></p>
<h3 id="CPlusPlusTest-Build-cs-2">CPlusPlusTest.Build.cs</h3>
<p>又新增了这三个，因为.cpp用到了Module<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1659063963423-a412bbf8-0b53-46af-b1dd-7d79fe83847f.png#clientId=u765cde32-d8a7-4&amp;errorMessage=unknown%20error&amp;from=paste&amp;height=241&amp;id=u5e93f960&amp;originHeight=241&amp;originWidth=1013&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=78968&amp;status=error&amp;style=none&amp;taskId=u8231aafe-0b3a-498c-80ca-6d9b767c64a&amp;title=&amp;width=1013" alt="image.png">  最后的EditorWidgets不添加的话编译不了，教程中没有加这个，UE4.27，VS2019需要加EditorWidgets，加了以后就可以用了<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1659071465975-e002a595-a779-4c77-b83a-343028d3efd2.png#clientId=u765cde32-d8a7-4&amp;errorMessage=unknown%20error&amp;from=paste&amp;height=252&amp;id=u6df4cf01&amp;originHeight=252&amp;originWidth=1590&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=27687&amp;status=error&amp;style=none&amp;taskId=u2ffc3186-426c-469f-b854-54204f052d9&amp;title=&amp;width=1590" alt="image.png"><br>
<a name="O69Kh"></a></p>
<h3 id="CppLib-h-3">CppLib.h</h3>
<p>到现在我才发现在头文件里面写了构造函数后可以通过左边的螺丝刀图标快速创建在源文件中<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1659064115807-08559492-b055-410a-ab08-a01ba6e0b0a1.png#clientId=u765cde32-d8a7-4&amp;errorMessage=unknown%20error&amp;from=paste&amp;height=105&amp;id=uc3682901&amp;originHeight=105&amp;originWidth=321&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=12833&amp;status=error&amp;style=none&amp;taskId=u4f3b1f25-c1f6-4aca-ba83-1859c310e14&amp;title=&amp;width=321" alt="image.png"></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Fill out your copyright notice in the Description page of Project Settings.</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;CoreMinimal.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Kismet/BlueprintFunctionLibrary.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;CppLib.generated.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">UCLASS</span>()</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CPLUSPLUSTEST_API</span> UCppLib : <span class="keyword">public</span> UBlueprintFunctionLibrary</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">GENERATED_BODY</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">UFUNCTION</span>(BlueprintCallable, Category = <span class="string">&quot;Unreal Python&quot;</span>)</span><br><span class="line">		<span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">SetFolderColor</span><span class="params">(FString FolderPath, FLinearColor Color)</span></span>; <span class="comment">// 批量创建文件夹并修改颜色</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">UFUNCTION</span>(BlueprintCallable, Category = <span class="string">&quot;Unreal Python&quot;</span>)</span><br><span class="line">		<span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">CloseEditorForAssets</span><span class="params">(TArray&lt;UObject*&gt; Assets)</span></span>; <span class="comment">// 关闭打开的资产的窗口</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">UFUNCTION</span>(BlueprintCallable, Category = <span class="string">&quot;Unreal Python&quot;</span>)</span><br><span class="line">		<span class="function"><span class="type">static</span> TArray&lt;UObject*&gt; <span class="title">GetAssetsOpenedInEditor</span><span class="params">()</span></span>; <span class="comment">// 获得已经打开资产窗口的资产的路径字符串列表</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">UFUNCTION</span>(BlueprintCallable, Category = <span class="string">&quot;Unreal Python&quot;</span>)</span><br><span class="line">		<span class="function"><span class="type">static</span> TArray&lt;FString&gt; <span class="title">GetSelectedAssets</span><span class="params">()</span></span>; <span class="comment">// 获得选择的资产的路径字符串列表</span></span><br><span class="line">	</span><br><span class="line">	<span class="built_in">UFUNCTION</span>(BlueprintCallable, Category = <span class="string">&quot;Unreal Python&quot;</span>)</span><br><span class="line">		<span class="function"><span class="type">static</span> TArray&lt;FString&gt; <span class="title">GetSelectedFolders</span><span class="params">()</span></span>; <span class="comment">// 获得选择的文件夹的路径字符串列表</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">UFUNCTION</span>(BlueprintCallable, Category = <span class="string">&quot;Unreal Python&quot;</span>)</span><br><span class="line">		<span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">SetSelectedAssets</span><span class="params">(TArray&lt;FString&gt; Paths)</span></span>; <span class="comment">// 选择路径字符串列表中的资产</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">UFUNCTION</span>(BlueprintCallable, Category = <span class="string">&quot;Unreal Python&quot;</span>)</span><br><span class="line">		<span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">SetSelectedFolders</span><span class="params">(TArray&lt;FString&gt; Paths)</span></span>; <span class="comment">// 选择路径字符串列表中的文件夹</span></span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><a name="W1fC1"></a></p>
<h3 id="CppLib-cpp-3">CppLib.cpp</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Fill out your copyright notice in the Description page of Project Settings.</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;CppLib.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Editor.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Editor/UnrealEd/Public/Toolkits/AssetEditorManager.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Editor/ContentBrowser/Public/ContentBrowserModule.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Editor/ContentBrowser/Private/ScontentBrowser.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Runtime/AssetRegistry/Public/AssetRegistryModule.h&quot;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">UCppLib::SetFolderColor</span><span class="params">(FString FolderPath, FLinearColor Color)</span> </span>&#123;</span><br><span class="line">	GConfig-&gt;<span class="built_in">SetString</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;PathColor&quot;</span>), *FolderPath, *Color.<span class="built_in">ToString</span>(), GEditorPerProjectIni);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">UCppLib::CloseEditorForAssets</span><span class="params">(TArray&lt;UObject*&gt; Assets)</span> </span>&#123;</span><br><span class="line">	UAssetEditorSubsystem* AssetEditorSubsystem = GEditor-&gt;<span class="built_in">GetEditorSubsystem</span>&lt;UAssetEditorSubsystem&gt;();</span><br><span class="line">	<span class="keyword">for</span> (UObject* Asset : Assets) &#123;</span><br><span class="line">		AssetEditorSubsystem-&gt;<span class="built_in">CloseAllEditorsForAsset</span>(Asset);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">TArray&lt;UObject*&gt; <span class="title">UCppLib::GetAssetsOpenedInEditor</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	UAssetEditorSubsystem* AssetEditorSubsystem = GEditor-&gt;<span class="built_in">GetEditorSubsystem</span>&lt;UAssetEditorSubsystem&gt;();</span><br><span class="line">	TArray&lt;UObject*&gt; EditedAssets = AssetEditorSubsystem-&gt;<span class="built_in">GetAllEditedAssets</span>();</span><br><span class="line">	<span class="keyword">return</span> EditedAssets;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">TArray&lt;FString&gt; <span class="title">UCppLib::GetSelectedAssets</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	FContentBrowserModule&amp; ContentBrowserModule = FModuleManager::<span class="built_in">LoadModuleChecked</span>&lt;FContentBrowserModule&gt;(<span class="string">&quot;ContentBrowser&quot;</span>);</span><br><span class="line">	TArray&lt;FAssetData&gt; SelectedAssets;</span><br><span class="line">	ContentBrowserModule.<span class="built_in">Get</span>().<span class="built_in">GetSelectedAssets</span>(SelectedAssets);</span><br><span class="line">	TArray&lt;FString&gt; Result;</span><br><span class="line">	<span class="keyword">for</span> (FAssetData&amp; AssetData : SelectedAssets) &#123;</span><br><span class="line">		Result.<span class="built_in">Add</span>(AssetData.PackageName.<span class="built_in">ToString</span>());</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> Result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">TArray&lt;FString&gt; <span class="title">UCppLib::GetSelectedFolders</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	FContentBrowserModule&amp; ContentBrowserModule = FModuleManager::<span class="built_in">LoadModuleChecked</span>&lt;FContentBrowserModule&gt;(<span class="string">&quot;ContentBrowser&quot;</span>);</span><br><span class="line">	TArray&lt;FString&gt; SelectedFolders;</span><br><span class="line">	ContentBrowserModule.<span class="built_in">Get</span>().<span class="built_in">GetSelectedFolders</span>(SelectedFolders);</span><br><span class="line">	<span class="keyword">return</span> SelectedFolders;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">UCppLib::SetSelectedAssets</span><span class="params">(TArray&lt;FString&gt; Paths)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	FContentBrowserModule&amp; ContentBrowserModule = FModuleManager::<span class="built_in">LoadModuleChecked</span>&lt;FContentBrowserModule&gt;(<span class="string">&quot;ContentBrowser&quot;</span>);</span><br><span class="line">	FAssetRegistryModule&amp; AssetRegistryModule = FModuleManager::<span class="built_in">LoadModuleChecked</span>&lt;FAssetRegistryModule&gt;(<span class="string">&quot;AssetRegistry&quot;</span>);</span><br><span class="line">	TArray&lt;FName&gt; PathsName;</span><br><span class="line">	<span class="keyword">for</span> (FString Path : Paths) &#123;</span><br><span class="line">		PathsName.<span class="built_in">Add</span>(*Path);</span><br><span class="line">	&#125;</span><br><span class="line">	FARFilter AssetFilter;</span><br><span class="line">	AssetFilter.PackageNames = PathsName;</span><br><span class="line">	TArray&lt;FAssetData&gt; AssetDatas;</span><br><span class="line">	AssetRegistryModule.<span class="built_in">Get</span>().<span class="built_in">GetAssets</span>(AssetFilter, AssetDatas);</span><br><span class="line">	ContentBrowserModule.<span class="built_in">Get</span>().<span class="built_in">SyncBrowserToAssets</span>(AssetDatas);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">UCppLib::SetSelectedFolders</span><span class="params">(TArray&lt;FString&gt; Paths)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	FContentBrowserModule&amp; ContentBrowserModule = FModuleManager::<span class="built_in">LoadModuleChecked</span>&lt;FContentBrowserModule&gt;(<span class="string">&quot;ContentBrowser&quot;</span>);</span><br><span class="line">	TArray&lt;FString&gt; SelectedFolders;</span><br><span class="line">	ContentBrowserModule.<span class="built_in">Get</span>().<span class="built_in">SyncBrowserToFolders</span>(Paths);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a name="vAd5P"></a></p>
<h2 id="如何用Python显示缓慢的任务进度">如何用Python显示缓慢的任务进度</h2>
<p>执行循环的过程的同时显示进度：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1659079195804-be1a6f84-5236-4712-95d1-5eaf4518c3cd.png#clientId=u765cde32-d8a7-4&amp;errorMessage=unknown%20error&amp;from=paste&amp;height=166&amp;id=u12c81568&amp;originHeight=166&amp;originWidth=859&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=29624&amp;status=error&amp;style=none&amp;taskId=u05ec8549-fa39-408c-8a5d-d38cf9c9741&amp;title=&amp;width=859" alt="image.png"><br>
<a name="w8RHJ"></a></p>
<h3 id="python-2">python</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unreal</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="comment"># from imp import reload</span></span><br><span class="line"><span class="comment"># import showSlowTasksProgression_12 as test</span></span><br><span class="line"><span class="comment"># reload(test)</span></span><br><span class="line"><span class="comment"># test.executeSlowTask()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">executeSlowTask</span>():</span><br><span class="line">    quantity_steps_in_slow_task = <span class="number">10000</span></span><br><span class="line">    <span class="keyword">with</span> unreal.ScopedSlowTask(quantity_steps_in_slow_task, <span class="string">&#x27;My Slow Task Text ...&#x27;</span>) <span class="keyword">as</span> slow_task:</span><br><span class="line">        slow_task.make_dialog(<span class="literal">True</span>)</span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(quantity_steps_in_slow_task):</span><br><span class="line">            <span class="keyword">if</span> slow_task.should_cancel():</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            slow_task.enter_progress_frame(<span class="number">1</span>, <span class="string">&#x27;My Slow Task Text ...&#x27;</span> + <span class="built_in">str</span>(x) + <span class="string">&#x27;/&#x27;</span> + <span class="built_in">str</span>(quantity_steps_in_slow_task))</span><br><span class="line">            <span class="comment"># Execute slow logic</span></span><br><span class="line">            deferredSpawnActor()</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">deferredSpawnActor</span>():</span><br><span class="line">    world = unreal.EditorLevelLibrary.get_editor_world()</span><br><span class="line">    actor_class = unreal.EditorAssetLibrary.load_blueprint_class(<span class="string">&#x27;/Game/MyBluePrint/BPActor&#x27;</span>)</span><br><span class="line">    actor_location = unreal.Vector(random.uniform(<span class="number">0.0</span>, <span class="number">2000.0</span>), random.uniform(<span class="number">0.0</span>, <span class="number">2000.0</span>), <span class="number">0.0</span>)</span><br><span class="line">    actor_rotation = unreal.Rotator(random.uniform(<span class="number">0.0</span>, <span class="number">360.0</span>), random.uniform(<span class="number">0.0</span>, <span class="number">360.0</span>), random.uniform(<span class="number">0.0</span>, <span class="number">360.0</span>))</span><br><span class="line">    actor_scale = unreal.Vector(random.uniform(<span class="number">0.1</span>, <span class="number">2.0</span>), random.uniform(<span class="number">0.1</span>, <span class="number">2.0</span>), random.uniform(<span class="number">0.1</span>, <span class="number">2.0</span>))</span><br><span class="line">    actor_transform = unreal.Transform(actor_location, actor_rotation, actor_scale)</span><br><span class="line">    <span class="comment"># actor = unreal.GameplayStatics.begin_deferred_actor_spawn_from_class(world, actor_class, actor_transform)</span></span><br><span class="line">    <span class="comment"># unreal.GameplayStatics.finish_spawning_actor(actor, actor_transform)</span></span><br><span class="line">    actor = unreal.CppLib.get_actor(world, actor_class, actor_transform)</span><br><span class="line">    unreal.CppLib.set_actor(actor,actor_transform)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><a name="FhjgO"></a></p>
<h3 id="CppLib-h-4">CppLib.h</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Fill out your copyright notice in the Description page of Project Settings.</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;CoreMinimal.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Kismet/BlueprintFunctionLibrary.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;CppLib.generated.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="built_in">UCLASS</span>()</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">CPLUSPLUSTEST_API</span> UCppLib : <span class="keyword">public</span> UBlueprintFunctionLibrary</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="built_in">GENERATED_BODY</span>()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">UFUNCTION</span>(BlueprintCallable, Category = <span class="string">&quot;Unreal Python&quot;</span>)</span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">SetFolderColor</span><span class="params">(FString FolderPath, FLinearColor Color)</span></span>; <span class="comment">// 批量创建文件夹并修改颜色</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UFUNCTION</span>(BlueprintCallable, Category = <span class="string">&quot;Unreal Python&quot;</span>)</span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">CloseEditorForAssets</span><span class="params">(TArray&lt;UObject*&gt; Assets)</span></span>; <span class="comment">// 关闭打开的资产的窗口</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UFUNCTION</span>(BlueprintCallable, Category = <span class="string">&quot;Unreal Python&quot;</span>)</span><br><span class="line">    <span class="function"><span class="type">static</span> TArray&lt;UObject*&gt; <span class="title">GetAssetsOpenedInEditor</span><span class="params">()</span></span>; <span class="comment">// 获得已经打开资产窗口的资产的路径字符串列表</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UFUNCTION</span>(BlueprintCallable, Category = <span class="string">&quot;Unreal Python&quot;</span>)</span><br><span class="line">    <span class="function"><span class="type">static</span> TArray&lt;FString&gt; <span class="title">GetSelectedAssets</span><span class="params">()</span></span>; <span class="comment">// 获得选择的资产的路径字符串列表</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UFUNCTION</span>(BlueprintCallable, Category = <span class="string">&quot;Unreal Python&quot;</span>)</span><br><span class="line">    <span class="function"><span class="type">static</span> TArray&lt;FString&gt; <span class="title">GetSelectedFolders</span><span class="params">()</span></span>; <span class="comment">// 获得选择的文件夹的路径字符串列表</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UFUNCTION</span>(BlueprintCallable, Category = <span class="string">&quot;Unreal Python&quot;</span>)</span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">SetSelectedAssets</span><span class="params">(TArray&lt;FString&gt; Paths)</span></span>; <span class="comment">// 选择路径字符串列表中的资产</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UFUNCTION</span>(BlueprintCallable, Category = <span class="string">&quot;Unreal Python&quot;</span>)</span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">SetSelectedFolders</span><span class="params">(TArray&lt;FString&gt; Paths)</span></span>; <span class="comment">// 选择路径字符串列表中的文件夹</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UFUNCTION</span>(BlueprintCallable, Category = <span class="string">&quot;Unreal Python&quot;</span>)</span><br><span class="line">    <span class="function"><span class="type">static</span> AActor* <span class="title">GetActor</span><span class="params">(<span class="type">const</span> UObject* WorldContextObject,TSubclassOf&lt; AActor &gt; ActorClass,<span class="type">const</span> FTransform&amp; SpawnTransform)</span></span>; <span class="comment">// 获取ActorBP</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UFUNCTION</span>(BlueprintCallable, Category = <span class="string">&quot;Unreal Python&quot;</span>)</span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">setActor</span><span class="params">(<span class="keyword">class</span> AActor* Actor,<span class="type">const</span> FTransform&amp; SpawnTransform)</span></span>; <span class="comment">// 创建AcotrBP</span></span><br><span class="line">    </span><br><span class="line">    &#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><a name="JryYA"></a></p>
<h3 id="CppLib-cpp-4">CppLib.cpp</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Fill out your copyright notice in the Description page of Project Settings.</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;CppLib.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Editor.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Editor/UnrealEd/Public/Toolkits/AssetEditorManager.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Editor/ContentBrowser/Public/ContentBrowserModule.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Editor/ContentBrowser/Private/ScontentBrowser.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Runtime/AssetRegistry/Public/AssetRegistryModule.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Runtime/Engine/Classes/Kismet/GameplayStatics.h&quot;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">UCppLib::SetFolderColor</span><span class="params">(FString FolderPath, FLinearColor Color)</span> </span>&#123;</span><br><span class="line">    GConfig-&gt;<span class="built_in">SetString</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;PathColor&quot;</span>), *FolderPath, *Color.<span class="built_in">ToString</span>(), GEditorPerProjectIni);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">UCppLib::CloseEditorForAssets</span><span class="params">(TArray&lt;UObject*&gt; Assets)</span> </span>&#123;</span><br><span class="line">    UAssetEditorSubsystem* AssetEditorSubsystem = GEditor-&gt;<span class="built_in">GetEditorSubsystem</span>&lt;UAssetEditorSubsystem&gt;();</span><br><span class="line">    <span class="keyword">for</span> (UObject* Asset : Assets) &#123;</span><br><span class="line">        AssetEditorSubsystem-&gt;<span class="built_in">CloseAllEditorsForAsset</span>(Asset);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">TArray&lt;UObject*&gt; <span class="title">UCppLib::GetAssetsOpenedInEditor</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    UAssetEditorSubsystem* AssetEditorSubsystem = GEditor-&gt;<span class="built_in">GetEditorSubsystem</span>&lt;UAssetEditorSubsystem&gt;();</span><br><span class="line">    TArray&lt;UObject*&gt; EditedAssets = AssetEditorSubsystem-&gt;<span class="built_in">GetAllEditedAssets</span>();</span><br><span class="line">    <span class="keyword">return</span> EditedAssets;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">TArray&lt;FString&gt; <span class="title">UCppLib::GetSelectedAssets</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    FContentBrowserModule&amp; ContentBrowserModule = FModuleManager::<span class="built_in">LoadModuleChecked</span>&lt;FContentBrowserModule&gt;(<span class="string">&quot;ContentBrowser&quot;</span>);</span><br><span class="line">    TArray&lt;FAssetData&gt; SelectedAssets;</span><br><span class="line">    ContentBrowserModule.<span class="built_in">Get</span>().<span class="built_in">GetSelectedAssets</span>(SelectedAssets);</span><br><span class="line">    TArray&lt;FString&gt; Result;</span><br><span class="line">    <span class="keyword">for</span> (FAssetData&amp; AssetData : SelectedAssets) &#123;</span><br><span class="line">        Result.<span class="built_in">Add</span>(AssetData.PackageName.<span class="built_in">ToString</span>());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">TArray&lt;FString&gt; <span class="title">UCppLib::GetSelectedFolders</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    FContentBrowserModule&amp; ContentBrowserModule = FModuleManager::<span class="built_in">LoadModuleChecked</span>&lt;FContentBrowserModule&gt;(<span class="string">&quot;ContentBrowser&quot;</span>);</span><br><span class="line">    TArray&lt;FString&gt; SelectedFolders;</span><br><span class="line">    ContentBrowserModule.<span class="built_in">Get</span>().<span class="built_in">GetSelectedFolders</span>(SelectedFolders);</span><br><span class="line">    <span class="keyword">return</span> SelectedFolders;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">UCppLib::SetSelectedAssets</span><span class="params">(TArray&lt;FString&gt; Paths)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    FContentBrowserModule&amp; ContentBrowserModule = FModuleManager::<span class="built_in">LoadModuleChecked</span>&lt;FContentBrowserModule&gt;(<span class="string">&quot;ContentBrowser&quot;</span>);</span><br><span class="line">    FAssetRegistryModule&amp; AssetRegistryModule = FModuleManager::<span class="built_in">LoadModuleChecked</span>&lt;FAssetRegistryModule&gt;(<span class="string">&quot;AssetRegistry&quot;</span>);</span><br><span class="line">    TArray&lt;FName&gt; PathsName;</span><br><span class="line">    <span class="keyword">for</span> (FString Path : Paths) &#123;</span><br><span class="line">        PathsName.<span class="built_in">Add</span>(*Path);</span><br><span class="line">    &#125;</span><br><span class="line">    FARFilter AssetFilter;</span><br><span class="line">    AssetFilter.PackageNames = PathsName;</span><br><span class="line">    TArray&lt;FAssetData&gt; AssetDatas;</span><br><span class="line">    AssetRegistryModule.<span class="built_in">Get</span>().<span class="built_in">GetAssets</span>(AssetFilter, AssetDatas);</span><br><span class="line">    ContentBrowserModule.<span class="built_in">Get</span>().<span class="built_in">SyncBrowserToAssets</span>(AssetDatas);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">UCppLib::SetSelectedFolders</span><span class="params">(TArray&lt;FString&gt; Paths)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    FContentBrowserModule&amp; ContentBrowserModule = FModuleManager::<span class="built_in">LoadModuleChecked</span>&lt;FContentBrowserModule&gt;(<span class="string">&quot;ContentBrowser&quot;</span>);</span><br><span class="line">    TArray&lt;FString&gt; SelectedFolders;</span><br><span class="line">    ContentBrowserModule.<span class="built_in">Get</span>().<span class="built_in">SyncBrowserToFolders</span>(Paths);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">AActor* <span class="title">UCppLib::GetActor</span><span class="params">(<span class="type">const</span> UObject* WorldContextObject, TSubclassOf&lt;AActor&gt; ActorClass, <span class="type">const</span> FTransform&amp; SpawnTransform)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> UGameplayStatics::<span class="built_in">BeginDeferredActorSpawnFromClass</span>(WorldContextObject, ActorClass, SpawnTransform);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">UCppLib::setActor</span><span class="params">(AActor* Actor, <span class="type">const</span> FTransform&amp; SpawnTransform)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    UGameplayStatics::<span class="built_in">FinishSpawningActor</span>(Actor, SpawnTransform);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><a name="ywGiE"></a></p>
<h2 id="打印类的所有属性">打印类的所有属性</h2>
<p><a name="ToiOf"></a></p>
<h3 id="Cpplib-h">Cpplib.h</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UFUNCTION</span>(BlueprintCallable, Category = <span class="string">&quot;Unreal Python&quot;</span>)</span><br><span class="line">		<span class="type">static</span> TArray&lt;FString&gt;<span class="built_in">GetAllProperties</span>(UClass* Class);  <span class="comment">//获取类的所有属性</span></span><br></pre></td></tr></table></figure>
<p><a name="Zvf6B"></a></p>
<h3 id="Cpplib-cpp">Cpplib.cpp</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">TArray&lt;FString&gt; <span class="title">UCppLib::GetAllProperties</span><span class="params">(UClass* Class)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	TArray&lt;FString&gt; Ret;</span><br><span class="line">	<span class="keyword">if</span> (Class != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">		<span class="keyword">for</span> (TFieldIterator&lt;UProperty&gt; <span class="built_in">It</span>(Class); It; ++It) &#123;</span><br><span class="line">			UProperty* Property = *It;</span><br><span class="line">			<span class="keyword">if</span> (Property-&gt;<span class="built_in">HasAnyPropertyFlags</span>(EPropertyFlags::CPF_Edit)) &#123;</span><br><span class="line">				Ret.<span class="built_in">Add</span>(Property-&gt;<span class="built_in">GetName</span>());</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> Ret;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a name="p9fCp"></a></p>
<h3 id="python-3">python</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unreal</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getAllProperties</span>(<span class="params">object_class</span>):</span><br><span class="line">    <span class="keyword">return</span> unreal.CppLib.get_all_properties(object_class)  <span class="comment"># 通过自定义C++的类中的函数，得到所有属性的字符串列表</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">printAllProperties</span>():</span><br><span class="line">    obj = unreal.Actor()  <span class="comment"># 将打印actor类型的所有属性</span></span><br><span class="line">    object_class = obj.get_class()</span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> getAllProperties(object_class):</span><br><span class="line">        y = x</span><br><span class="line">        <span class="comment"># while循环的作用是为了对齐字符串</span></span><br><span class="line">        <span class="keyword">while</span> <span class="built_in">len</span>(y) &lt; <span class="number">42</span>:</span><br><span class="line">            y = <span class="string">&#x27; &#x27;</span> + y</span><br><span class="line">        <span class="built_in">print</span>(y + <span class="string">&#x27;:&#x27;</span> + <span class="built_in">str</span>(obj.get_editor_property(x)))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><a name="ABily"></a></p>
<h3 id="执行效果">执行效果</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1662010703000-8b4963c7-8191-4200-9333-ddecc3455391.png#clientId=u22a16aa5-3892-4&amp;errorMessage=unknown%20error&amp;from=paste&amp;height=559&amp;id=u9b275170&amp;originHeight=559&amp;originWidth=979&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=110690&amp;status=error&amp;style=none&amp;taskId=u296b7b42-73fd-42fe-9c35-1f927f96924&amp;title=&amp;width=979" alt="image.png"><br>
<a name="taWQV"></a></p>
<h2 id="一次性执行多个cmd命令">一次性执行多个cmd命令</h2>
<p><a name="tIQjq"></a></p>
<h3 id="CppLib-h-5">CppLib.h</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UFUNCTION</span>(BlueprintCallable, Category = <span class="string">&quot;Unreal Python&quot;</span>)</span><br><span class="line">	<span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">ExecuteConsoleCommand</span><span class="params">(FString ConsoleCmd)</span></span>; <span class="comment">//执行多行命令行</span></span><br></pre></td></tr></table></figure>
<p><a name="nVxcr"></a></p>
<h3 id="CppLib-cpp-5">CppLib.cpp</h3>
<p>需要#include “Editor.h”</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">UCppLib::ExecuteConsoleCommand</span><span class="params">(FString ConsoleCmd)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (GEditor) &#123;</span><br><span class="line">		UWorld* World = GEditor-&gt;<span class="built_in">GetEditorWorldContext</span>().<span class="built_in">World</span>();</span><br><span class="line">		<span class="keyword">if</span> (World) &#123;</span><br><span class="line">			GEditor-&gt;<span class="built_in">Exec</span>(World, *ConsoleCmd, *GLog);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a name="kAYMM"></a></p>
<h3 id="python-4">python</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unreal</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">executeConsoleCommand</span>():</span><br><span class="line">    console_cmd = [<span class="string">&#x27;r.ScreenPercentage 0.1&#x27;</span>,</span><br><span class="line">                   <span class="string">&#x27;r.Color.Max 6&#x27;</span>,</span><br><span class="line">                   <span class="string">&#x27;stat fps&#x27;</span>,</span><br><span class="line">                   <span class="string">&#x27;stat unit&#x27;</span>]</span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> console_cmd:</span><br><span class="line">        unreal.CppLib.execute_console_command(x)</span><br></pre></td></tr></table></figure>
<p><a name="jqYhG"></a></p>
<h2 id="选择场景中的actor与清除选择">选择场景中的actor与清除选择</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unreal</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_selected_actors</span>():</span><br><span class="line">    <span class="keyword">return</span> unreal.EditorLevelLibrary.get_selected_level_actors()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_selected_actors_EXAMPLE</span>():</span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> get_selected_actors():</span><br><span class="line">        <span class="built_in">print</span>(x)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">select_actors</span>(<span class="params">actors_to_select=[]</span>):</span><br><span class="line">    unreal.EditorLevelLibrary.set_selected_level_actors(actors_to_select)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">select_actors_EXAMPLE</span>():</span><br><span class="line">    all_actors = unreal.EditorLevelLibrary.get_all_level_actors()</span><br><span class="line">    actors_to_select = []</span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(all_actors)):</span><br><span class="line">        actors_to_select.append(all_actors[x])</span><br><span class="line">    select_actors(actors_to_select)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">clear_actor_selection_EXAMPLE</span>():</span><br><span class="line">    select_actors()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><a name="mW84U"></a></p>
<h2 id="生成默认资源（材质粒子关卡等）">生成默认资源（材质粒子关卡等）</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建基础资产</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">create_generic_asset</span>(<span class="params">asset_path=<span class="string">&#x27;&#x27;</span>, unique_name=<span class="literal">True</span>, asset_class=<span class="literal">None</span>, asset_factory=<span class="literal">None</span></span>):</span><br><span class="line">    <span class="keyword">if</span> unique_name:  <span class="comment"># 如果命名冲突的话会自动生成一个新的唯一的路径名字(后缀加数字)</span></span><br><span class="line">        asset_path, asset_name = unreal.AssetToolsHelpers.get_asset_tools().create_unique_asset_name(</span><br><span class="line">            base_package_name=asset_path, suffix=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> unreal.EditorAssetLibrary.does_asset_exist(asset_path=asset_path):</span><br><span class="line">        path = asset_path.rsplit(<span class="string">&#x27;/&#x27;</span>, <span class="number">1</span>)[<span class="number">0</span>]</span><br><span class="line">        name = asset_path.rsplit(<span class="string">&#x27;/&#x27;</span>, <span class="number">1</span>)[<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">return</span> unreal.AssetToolsHelpers.get_asset_tools().create_asset(</span><br><span class="line">            asset_name=name,</span><br><span class="line">            package_path=path,</span><br><span class="line">            asset_class=asset_class,</span><br><span class="line">            factory=asset_factory</span><br><span class="line">        )</span><br><span class="line">    <span class="keyword">return</span> unreal.load_asset(asset_path)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用创建基础资产的举例</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">create_generic_asset_EXAMPLE</span>():</span><br><span class="line">    base_path = <span class="string">&#x27;/Game/GenericAssets/&#x27;</span></span><br><span class="line">    generic_assets = [</span><br><span class="line">        [</span><br><span class="line">            base_path + <span class="string">&#x27;sequence&#x27;</span>,</span><br><span class="line">            unreal.LevelSequence,</span><br><span class="line">            unreal.LevelSequenceFactoryNew()</span><br><span class="line">        ],</span><br><span class="line">        [</span><br><span class="line">            base_path + <span class="string">&#x27;material&#x27;</span>,</span><br><span class="line">            unreal.Material,</span><br><span class="line">            unreal.MaterialFactoryNew()</span><br><span class="line">        ],</span><br><span class="line">        [</span><br><span class="line">            base_path + <span class="string">&#x27;world&#x27;</span>,</span><br><span class="line">            unreal.World,</span><br><span class="line">            unreal.WorldFactory()</span><br><span class="line">        ],</span><br><span class="line">        [</span><br><span class="line">            base_path + <span class="string">&#x27;particle_system&#x27;</span>,</span><br><span class="line">            unreal.ParticleSystem,</span><br><span class="line">            unreal.ParticleSystemFactoryNew()</span><br><span class="line">        ],</span><br><span class="line">        [</span><br><span class="line">            base_path + <span class="string">&#x27;paper_flipbook&#x27;</span>,</span><br><span class="line">            unreal.PaperFlipbook,</span><br><span class="line">            unreal.PaperFlipbookFactory()</span><br><span class="line">        ]</span><br><span class="line">    ]</span><br><span class="line">    <span class="keyword">for</span> asset <span class="keyword">in</span> generic_assets:</span><br><span class="line">        <span class="built_in">print</span>(create_generic_asset(asset[<span class="number">0</span>], <span class="literal">True</span>, asset[<span class="number">1</span>], asset[<span class="number">2</span>]))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><a name="qpNWT"></a></p>
<h2 id="在蓝图中使用python">在蓝图中使用python</h2>
<p>在4.25版本之前的ue中需要用c++添加蓝图节点但是在新版本已经内置了能在蓝图中使用python的节点。但是无法在运行时可用的蓝图类（例如直接从 <strong>Actor</strong> 派生的类）中使用此方法。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1662020863952-4b2f949c-5fa1-4fd2-a215-cb7b1022281e.png#clientId=u22a16aa5-3892-4&amp;errorMessage=unknown%20error&amp;from=paste&amp;height=108&amp;id=u57ca3ead&amp;originHeight=108&amp;originWidth=321&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=14297&amp;status=error&amp;style=none&amp;taskId=ua8e75acd-6305-48ec-b2d7-8a9fe9078f6&amp;title=&amp;width=321" alt="image.png"><br>
<a name="wWH8n"></a></p>
<h1>B站搬运Udemy教程</h1>
<p>链接：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1GY4y1s7qM?p=8&amp;spm_id_from=pageDriver&amp;vd_source=b1de3fe38e887eb40fc55a5485724480">https://www.bilibili.com/video/BV1GY4y1s7qM?p=8&amp;spm_id_from=pageDriver&amp;vd_source=b1de3fe38e887eb40fc55a5485724480</a><br><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV18q4y1X7DH?p=11&amp;vd_source=b1de3fe38e887eb40fc55a5485724480">https://www.bilibili.com/video/BV18q4y1X7DH?p=11&amp;vd_source=b1de3fe38e887eb40fc55a5485724480</a><br>这两个教程链接内容是一样的，但是有的教程链接中的内容可能有点损坏，互补一下。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1663053942549-57973196-eff2-418d-a600-2a293b1f5040.png#clientId=ue9ce22a4-2e2e-4&amp;errorMessage=unknown%20error&amp;from=paste&amp;height=178&amp;id=ue78a2402&amp;originHeight=178&amp;originWidth=209&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=35533&amp;status=error&amp;style=none&amp;taskId=u1a865568-c0b5-4975-b5d3-97ee5e65145&amp;title=&amp;width=209" alt="image.png"></p>
<p><a name="u403x"></a></p>
<h2 id="P10工厂和资产创造">P10工厂和资产创造</h2>
<p>什么是工厂：当我们需要创建一个资产的时候（蓝图，声音，关卡等），我们就需要去工厂去取（factory），因此我们需要先找到对应的工厂：<a target="_blank" rel="noopener" href="https://docs.unrealengine.com/4.27/en-US/PythonAPI/class/LevelFactory.html">LevelFactory</a>，<a target="_blank" rel="noopener" href="https://docs.unrealengine.com/4.27/en-US/PythonAPI/class/BlueprintFactory.html">BlueprintFactory</a>等。<br>以创建蓝图举例：<br>创建工厂对象相当于点击这些：<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1663056902672-816725d5-0293-46a5-bbef-68c4cfeda9f5.png#clientId=ua74dfa99-2388-4&amp;errorMessage=unknown%20error&amp;from=paste&amp;height=632&amp;id=u82702c01&amp;originHeight=632&amp;originWidth=216&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=33231&amp;status=error&amp;style=none&amp;taskId=u182c88b2-bc5b-42e1-a89b-335b71af25b&amp;title=&amp;width=216" alt="image.png"></p>
<p>创建完工厂后（点击后）需要选择继承的类<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1663056967314-be14bd41-e4ad-4cbf-824a-6be26d61a8a1.png#clientId=ua74dfa99-2388-4&amp;errorMessage=unknown%20error&amp;from=paste&amp;height=743&amp;id=u8a06f157&amp;originHeight=743&amp;originWidth=544&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=98896&amp;status=error&amp;style=none&amp;taskId=ue20e6a4d-6f9c-4763-9eb4-4bbfa2f4259&amp;title=&amp;width=544" alt="image.png"><br>初始设置完成后开始创造资产，创造资产需要使用unreal.AssetToolsHelpers.get_asset_tools()<br>利用这个工具中的create_asset方法创建。<br>创建完后用unreal.EditorAssetLibrary.save_loaded_asset进行保存<br>代码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unreal</span><br><span class="line"></span><br><span class="line">blueprintName = <span class="string">&quot;python_create_BP&quot;</span></span><br><span class="line">blueprintPath = <span class="string">&quot;/Game/MyBluePrint&quot;</span></span><br><span class="line"></span><br><span class="line">factory = unreal.BlueprintFactory()</span><br><span class="line">factory.set_editor_property(<span class="string">&quot;ParentClass&quot;</span>, unreal.Actor)</span><br><span class="line"></span><br><span class="line">assetTools = unreal.AssetToolsHelpers.get_asset_tools()</span><br><span class="line">myFancyNewAssetFile = assetTools.create_asset(blueprintName, blueprintPath, <span class="literal">None</span>, factory)</span><br><span class="line"></span><br><span class="line">unreal.EditorAssetLibrary.save_loaded_asset(myFancyNewAssetFile)</span><br></pre></td></tr></table></figure>
<p><a name="x0zPC"></a></p>
<h2 id="P11制作任务进度条：">P11制作任务进度条：</h2>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1663060403285-f485f6df-06a3-4c80-8f52-fc9c526f60c0.png#clientId=ua74dfa99-2388-4&amp;errorMessage=unknown%20error&amp;from=paste&amp;height=133&amp;id=uc0d5f7e7&amp;originHeight=133&amp;originWidth=648&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=7070&amp;status=error&amp;style=none&amp;taskId=u6fc3c721-c9d7-46ef-80dd-352a5047316&amp;title=&amp;width=648" alt="image.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unreal</span><br><span class="line"></span><br><span class="line">totalFrames = <span class="number">1000000</span></span><br><span class="line">textDisplay = <span class="string">&quot;i love python, an i guess i&#x27;ll be using this for a while!&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> unreal.ScopedSlowTask(totalFrames, textDisplay) <span class="keyword">as</span> ST:</span><br><span class="line">    ST.make_dialog(<span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(totalFrames):</span><br><span class="line">        <span class="keyword">if</span> ST.should_cancel():</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        unreal.log(<span class="string">&quot;one step!!!!&quot;</span>)</span><br><span class="line">        ST.enter_progress_frame(<span class="number">1</span>)</span><br><span class="line">        </span><br></pre></td></tr></table></figure>
<p><a name="b21xj"></a></p>
<h2 id="P12综合案例：批量创建继承自actor的蓝图资产（带进度条）">P12综合案例：批量创建继承自actor的蓝图资产（带进度条）</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unreal</span><br><span class="line"></span><br><span class="line">totalRequiredBlueprints = <span class="number">20</span></span><br><span class="line">newAssetName = <span class="string">&quot;BP_pythonMade_%d&quot;</span></span><br><span class="line">createdAssetsPath = <span class="string">&quot;/Game/TestStuff&quot;</span></span><br><span class="line">slowTaskDisplayText = <span class="string">&quot;Createing new assets.....&quot;</span></span><br><span class="line"></span><br><span class="line">factory = unreal.BlueprintFactory()</span><br><span class="line">factory.set_editor_property(<span class="string">&quot;ParentClass&quot;</span>, unreal.Actor)</span><br><span class="line"></span><br><span class="line">assetTools = unreal.AssetToolsHelpers.get_asset_tools()</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> unreal.ScopedSlowTask(totalRequiredBlueprints, slowTaskDisplayText) <span class="keyword">as</span> ST:</span><br><span class="line">    ST.make_dialog(<span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(totalRequiredBlueprints):</span><br><span class="line">        <span class="keyword">if</span> ST.should_cancel():</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        newAsset = assetTools.create_asset(newAssetName % (x), createdAssetsPath, <span class="literal">None</span>, factory)</span><br><span class="line">        unreal.EditorAssetLibrary.save_loaded_asset(newAsset)</span><br><span class="line">        unreal.log(<span class="string">&quot;Just created an asset BP_PythonMade_%d via PYTHON API&quot;</span> % (x))</span><br><span class="line">        ST.enter_progress_frame(<span class="number">1</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><a name="E5UPW"></a></p>
<h2 id="P13-根据选择的资产创建Actor-在关卡中的都叫actor">P13 根据选择的资产创建Actor(在关卡中的都叫actor)</h2>
<p>教程上的获取选择的资产是这样：<br>@unreal.uclass()<br>class MyEditorUtility(unreal.GlobalEditorUtilityBase):<br>    pass</p>
<p>selectedAssets = MyEditorUtility().get_selected_assets()<br>但是官网教程有教可以通过这样获取选择的资产：<br>selectedAssets = unreal.EditorUtilityLibrary.get_selected_assets()</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unreal</span><br><span class="line"></span><br><span class="line">actorsCount = <span class="number">50</span></span><br><span class="line">slowTaskDisplayText = <span class="string">&quot;Spawning actors in the level.....&quot;</span></span><br><span class="line"></span><br><span class="line">selectedAssets = unreal.EditorUtilityLibrary.get_selected_assets()</span><br><span class="line"><span class="keyword">with</span> unreal.ScopedSlowTask(actorsCount, slowTaskDisplayText) <span class="keyword">as</span> ST:</span><br><span class="line">    ST.make_dialog(<span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(actorsCount):</span><br><span class="line">        <span class="keyword">if</span> ST.should_cancel():</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        unreal.EditorLevelLibrary.spawn_actor_from_object(selectedAssets[<span class="number">0</span>], unreal.Vector(<span class="number">1.0</span>+x*<span class="number">100</span>, <span class="number">1.0</span>+x*<span class="number">100</span>, <span class="number">30.0</span>),  unreal.Rotator(<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">10.0</span>*x))</span><br><span class="line">        unreal.log(<span class="string">&quot;Just added an actor to the level!&quot;</span>)</span><br><span class="line">        ST.enter_progress_frame(<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<p><a name="XtLCO"></a></p>
<h2 id="P15修改选择的资产或者actor的属性">P15修改选择的资产或者actor的属性</h2>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1663135564986-6b21ac2f-abd0-4932-a01d-b3a0984e89f0.png#clientId=u2c683694-c481-4&amp;errorMessage=unknown%20error&amp;from=paste&amp;height=378&amp;id=uf92eda78&amp;originHeight=378&amp;originWidth=2305&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=259521&amp;status=error&amp;style=none&amp;taskId=ubcce0a4d-a366-4670-a268-197dd9edee4&amp;title=&amp;width=2305" alt="image.png"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1663135493400-bab6c656-b4d8-41bf-b30a-15bd0ab1b0db.png#clientId=u2c683694-c481-4&amp;errorMessage=unknown%20error&amp;from=paste&amp;height=418&amp;id=u7ab464ca&amp;originHeight=418&amp;originWidth=472&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=28019&amp;status=error&amp;style=none&amp;taskId=u6eb5e81a-b64f-41db-b98c-33cf6616fe7&amp;title=&amp;width=472" alt="image.png"><br>例如如果我们要修改这些属性</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unreal</span><br><span class="line"></span><br><span class="line">selectedAssets = unreal.EditorUtilityLibrary.get_selected_assets()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> selectedAsset <span class="keyword">in</span> selectedAssets:</span><br><span class="line">    selectedAsset.set_editor_property(<span class="string">&quot;BlueprintDisplayName&quot;</span>, <span class="string">&quot;Some BP&quot;</span>)</span><br><span class="line">    selectedAsset.set_editor_property(<span class="string">&quot;BlueprintCategory&quot;</span>, <span class="string">&quot;Collectable&quot;</span>)</span><br><span class="line">    selectedAsset.set_editor_property(<span class="string">&quot;BlueprintDescription&quot;</span>, <span class="string">&quot;This is a blueprint generated by Python or something&quot;</span>)</span><br><span class="line"></span><br><span class="line">selectedActors = unreal.EditorLevelLibrary.get_selected_level_actors()</span><br><span class="line"><span class="keyword">for</span> actor <span class="keyword">in</span> selectedActors:</span><br><span class="line">    actor.set_editor_property(<span class="string">&quot;canRotate&quot;</span>, <span class="literal">True</span>)</span><br><span class="line">    actor.set_editor_property(<span class="string">&quot;bHidden&quot;</span>, <span class="number">1</span>)</span><br><span class="line">    actor.set_editor_property(<span class="string">&quot;SpriteScale&quot;</span>, <span class="number">7.5</span>)</span><br></pre></td></tr></table></figure>
<p>其中bHidden和SpriteScale对应的是ActorHiddenInGame和EditorBillboardScale<br>之所以使用的不是ue编辑器显示的界面名字是因为ue源码中设置的这些是编辑器中显示的名字，实际上源码中使用的变量名字并不是这些，并且bHidden在ue中显示的是名字是ActorHiddenInGame而且看起来是布尔变量，但是源码中实际上是int类型的名字叫bHidden。<br>那么如何在源码中查找真正的变量名字与类型呢？<br>例如这里设置actor的属性，我们就可以去Actor.h文件中搜索ue界面编辑器中显示的名字，然后就可以查找出来真正的名字与类型。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1663225180561-c530c9ec-dd16-48f7-8259-85e0e4a71ede.png#clientId=ueac702c7-aad3-4&amp;errorMessage=unknown%20error&amp;from=paste&amp;height=1214&amp;id=u1544bd73&amp;originHeight=1214&amp;originWidth=3437&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=408022&amp;status=error&amp;style=none&amp;taskId=ua187c3b2-5425-48b5-a5b6-fd3c22603e2&amp;title=&amp;width=3437" alt="image.png"><br>
<a name="evWjm"></a></p>
<h2 id="br-P16-python与蓝图的结合"><br>P16 python与蓝图的结合</h2>
<p>把P12的功能做成一个带UI的工具：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1663150571998-5f5deac5-591b-4ab2-bd80-7690ed71f044.png#clientId=u2c683694-c481-4&amp;errorMessage=unknown%20error&amp;from=paste&amp;height=200&amp;id=u75eda6c1&amp;originHeight=200&amp;originWidth=584&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=21438&amp;status=error&amp;style=none&amp;taskId=u6a8d9efc-4497-4c5f-bf99-b06cc6c4a2a&amp;title=&amp;width=584" alt="image.png"><br>其中滑块与文本之间可以通过函数进行绑定：<br>在UI编辑器中选择文本控件：<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1663150642231-c9236cc6-f52f-41a1-9967-e40c33db75bd.png#clientId=u2c683694-c481-4&amp;errorMessage=unknown%20error&amp;from=paste&amp;height=84&amp;id=u7ecbe491&amp;originHeight=84&amp;originWidth=1217&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=7777&amp;status=error&amp;style=none&amp;taskId=ua94a5c18-8902-4582-ad52-1833ec1f8a4&amp;title=&amp;width=1217" alt="image.png">在text处进行绑定：<br>参考：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1663150677829-f9671f11-a34e-41d9-b565-0aff32be9f0c.png#clientId=u2c683694-c481-4&amp;errorMessage=unknown%20error&amp;from=paste&amp;height=384&amp;id=u42e0dfe8&amp;originHeight=384&amp;originWidth=1265&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=93090&amp;status=error&amp;style=none&amp;taskId=uffde632b-5fe1-47ca-943f-c4ecc154a5e&amp;title=&amp;width=1265" alt="image.png"><br>python在蓝图节点中使用：<br>步骤：使用FormatText节点，节点中使用花括号框住的变量会自动产生引脚，为引脚传递数值配合python代码使用executePythonCommand节点执行。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1663150698315-ca5c5d83-c521-43ab-b632-359171aae0ca.png#clientId=u2c683694-c481-4&amp;errorMessage=unknown%20error&amp;from=paste&amp;height=707&amp;id=u395b52ea&amp;originHeight=707&amp;originWidth=1709&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=170315&amp;status=error&amp;style=none&amp;taskId=u141b2d81-9c0a-45e2-bde4-9f73a053767&amp;title=&amp;width=1709" alt="image.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unreal</span><br><span class="line">actorsCount = <span class="built_in">int</span>(&#123;actorsCount&#125;)</span><br><span class="line">rotationStep = <span class="built_in">int</span>(&#123;rotationStep&#125;)</span><br><span class="line">positionOffset = &#123;positionOffset&#125;</span><br><span class="line">slowTaskDisplayText = <span class="string">&quot;Spawning actors in the level....&quot;</span></span><br><span class="line">selectedAssets = unreal.EditorUtilityLibrary.get_selected_assets()</span><br><span class="line"><span class="keyword">with</span> unreal.ScopedSlowTask(actorsCount, slowTaskDisplayText) <span class="keyword">as</span> ST:</span><br><span class="line">    ST.make_dialog(<span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(actorsCount):</span><br><span class="line">        <span class="keyword">if</span> ST.should_cancel():</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        unreal.EditorLevelLibrary.spawn_actor_from_object(selectedAssets[<span class="number">0</span>],unreal.Vector(positionOffset * i, positionOffset * i, <span class="number">30.0</span>), unreal.Rotator(<span class="number">0.0</span>, <span class="number">0.0</span>, rotationStep * i))</span><br><span class="line">        unreal.log(<span class="string">&quot;Just added an actor to the level!&quot;</span>)</span><br><span class="line">        ST.enter_progress_frame(<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<p><a name="lh29O"></a></p>
<h2 id="P19-清理动画序列的修改">P19 清理动画序列的修改</h2>
<p>清理动画序列的这些：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1663230536696-b7ad4db0-2360-4f31-9505-93e2de6ace26.png#clientId=ueac702c7-aad3-4&amp;errorMessage=unknown%20error&amp;from=paste&amp;height=929&amp;id=u5bcafe5b&amp;originHeight=929&amp;originWidth=1872&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=981489&amp;status=error&amp;style=none&amp;taskId=u1201cab3-2bad-4287-8d1f-dcfeb4abae8&amp;title=&amp;width=1872" alt="image.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unreal</span><br><span class="line"></span><br><span class="line">selectedAssets = unreal.EditorUtilityLibrary.get_selected_assets()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> asset <span class="keyword">in</span> selectedAssets:</span><br><span class="line">    asset.modify(<span class="literal">True</span>)</span><br><span class="line">    unreal.AnimationLibrary.remove_all_animation_notify_tracks(asset)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>教程中使用的方式:<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1663230739632-4fbabd10-0237-4f9f-a0b6-6fc6f78ada35.png#clientId=ueac702c7-aad3-4&amp;errorMessage=unknown%20error&amp;from=paste&amp;height=543&amp;id=u262d67d0&amp;originHeight=543&amp;originWidth=782&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=174522&amp;status=error&amp;style=none&amp;taskId=u33d17a86-ffd7-447c-806b-8d0b86506e7&amp;title=&amp;width=782" alt="image.png"><br>
<a name="PYMbD"></a></p>
<h2 id="P20-清理未使用的资产">P20 清理未使用的资产</h2>
<p>使用后将无法撤回，看看就好，并且如果资产过多会直接崩溃。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unreal</span><br><span class="line"></span><br><span class="line">workingPath = <span class="string">&quot;/Game&quot;</span></span><br><span class="line"></span><br><span class="line">allAssets = unreal.EditorAssetLibrary.<span class="built_in">list_assets</span>(workingPath)</span><br><span class="line"></span><br><span class="line">processingAssetPath = <span class="string">&quot;&quot;</span></span><br><span class="line">allAssetsCount = <span class="built_in">len</span>(allAssets)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (allAssetsCount &gt; <span class="number">0</span>):</span><br><span class="line">    with unreal.<span class="built_in">ScopedSlowTask</span>(allAssetsCount, processingAssetPath) as ST:</span><br><span class="line">        ST.<span class="built_in">make_dialog</span>(True)</span><br><span class="line">        <span class="keyword">for</span> asset in allAssets:</span><br><span class="line">            processingAssetPath = asset</span><br><span class="line">            deps = unreal.EditorAssetLibrary.<span class="built_in">find_package_referencers_for_asset</span>(asset)  # 寻找资产的依赖项</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">len</span>(deps)&lt;=<span class="number">0</span>):</span><br><span class="line">                unreal.<span class="built_in">log</span>(<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&gt; Deleteing &gt;&gt;&gt;&gt;&gt; %s&quot;</span> % asset)</span><br><span class="line">                unreal.EditorAssetLibrary.<span class="built_in">delete_asset</span>(asset)</span><br><span class="line">            <span class="keyword">if</span> ST.<span class="built_in">should_cancel</span>():</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            ST.<span class="built_in">enter_progress_frame</span>(<span class="number">1</span>, processingAssetPath)</span><br></pre></td></tr></table></figure>
<p><a name="ZMWsY"></a></p>
<h2 id="P21-批量创建材质实例">P21 批量创建材质实例</h2>
<p>这里值得注意的是，使用get_path_name得到的是path.name格式的字符串，因此如果仅仅需要path则需要替换字符串。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unreal</span><br><span class="line"></span><br><span class="line">totalRequiredInstances = <span class="number">15</span></span><br><span class="line"></span><br><span class="line">newAssetName = <span class="string">&quot;&quot;</span></span><br><span class="line">sourceAssetPath = <span class="string">&quot;&quot;</span></span><br><span class="line">createdAssetsPath = <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">selectedAssets = unreal.EditorUtilityLibrary.<span class="built_in">get_selected_assets</span>()</span><br><span class="line"></span><br><span class="line">factor = unreal.<span class="built_in">MaterialInstanceConstantFactoryNew</span>()</span><br><span class="line"></span><br><span class="line">assetTools = unreal.AssetToolsHelpers.<span class="built_in">get_asset_tools</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> selectedAsset in selectedAssets:</span><br><span class="line">    newAssetName = selectedAsset.<span class="built_in">get_name</span>() + <span class="string">&quot;_%s_%d&quot;</span></span><br><span class="line">    sourceAssetPath = selectedAsset.<span class="built_in">get_path_name</span>()  # /Game/MyTools/NewMaterial.NewMaterial</span><br><span class="line">    createdAssetsPath = sourceAssetPath.<span class="built_in">replace</span>(selectedAsset.<span class="built_in">get_name</span>(), <span class="string">&quot;-&quot;</span>)  # /Game/MyTools/-.-</span><br><span class="line">    createdAssetsPath = createdAssetsPath.<span class="built_in">replace</span>(<span class="string">&quot;-.-&quot;</span>, <span class="string">&quot;&quot;</span>)  # /Game/MyTools/</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> x in <span class="built_in">range</span>(totalRequiredInstances):</span><br><span class="line">        newAsset = assetTools.<span class="built_in">create_asset</span>(newAssetName % (<span class="string">&quot;inst&quot;</span>, x + <span class="number">1</span>), createdAssetsPath, None, factor)</span><br><span class="line">        unreal.MaterialEditingLibrary.<span class="built_in">set_material_instance_parent</span>(newAsset, selectedAsset)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</article><div class="post-copyright"><div class="post-copyright__title"><span class="post-copyright-info"><h>油管与B站uepython教程</h></span></div><div class="post-copyright__type"><span class="post-copyright-info"><a href="http://example.com/2023/08/29/UE%E5%BC%80%E5%8F%91-%E6%B2%B9%E7%AE%A1%E4%B8%8EB%E7%AB%99uepython%E6%95%99%E7%A8%8B/">http://example.com/2023/08/29/UE开发-油管与B站uepython教程/</a></span></div><div class="post-copyright-m"><div class="post-copyright-m-info"><div class="post-copyright-a"><h>作者</h><div class="post-copyright-cc-info"><h>RuiChen</h></div></div><div class="post-copyright-c"><h>发布于</h><div class="post-copyright-cc-info"><h>2023-08-29</h></div></div><div class="post-copyright-u"><h>更新于</h><div class="post-copyright-cc-info"><h>2024-07-28</h></div></div><div class="post-copyright-c"><h>许可协议</h><div class="post-copyright-cc-info"><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a rel="noopener" target="_blank" title="CC BY-NC-SA 4.0" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></div></div></div></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/UEPython/"><div class="tags-punctuation"><svg class="faa-tada icon" style="height:1.1em;width:1.1em;fill:currentColor;position:relative;top:2px;margin-right:3px" aria-hidden="true"><use xlink:href="#icon-sekuaibiaoqian"></use></svg></div>UEPython</a></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/08/29/UnrealEngine-UE-%E6%9D%90%E8%B4%A8%E8%8A%82%E7%82%B9/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/violet-chen/image_lib/blob/main/img%20(80).jpg?raw=true" onerror="onerror=null;src='/assets/r2.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">UE 材质节点</div></div></a></div><div class="next-post pull-right"><a href="/2023/08/29/UnrealEngine-UE%E8%A7%92%E8%89%B2%E8%A1%A8%E7%8E%B0/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/violet-chen/image_lib/blob/main/img%20(25).jpg?raw=true" onerror="onerror=null;src='/assets/r2.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">UE角色表现</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2023/08/29/UE%E5%BC%80%E5%8F%91-%E5%AE%98%E6%96%B9UE5python%E6%95%99%E7%A8%8B/" title="官方UE5python教程"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/violet-chen/image_lib/blob/main/img%20(52).jpg?raw=true" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2024-07-28</div><div class="title">官方UE5python教程</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><svg class="meta_icon" style="width:22px;height:22px;position:relative;top:5px"><use xlink:href="#icon-mulu1"></use></svg><span style="font-weight:bold">目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">油管uepython教程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8UE%E4%B8%AD%E7%9A%84python%E5%88%9D%E5%A7%8B%E9%85%8D%E7%BD%AE"><span class="toc-text">在UE中的python初始配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%92%E4%BB%B6%E7%9A%84%E9%80%89%E6%8B%A9"><span class="toc-text">插件的选择</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E8%AE%BE%E7%BD%AE"><span class="toc-text">项目设置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8python%E5%AF%BC%E5%85%A5%E8%B5%84%E4%BA%A7"><span class="toc-text">使用python导入资产</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%BC%E5%85%A5%E8%B4%B4%E5%9B%BE%E5%92%8C%E9%9F%B3%E9%A2%91"><span class="toc-text">导入贴图和音频</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%BC%E5%85%A5%E9%9D%99%E6%80%81%E7%BD%91%E6%A0%BC%E4%BD%93%E5%92%8C%E9%AA%A8%E9%AA%BC%E7%BD%91%E6%A0%BC%E4%BD%93"><span class="toc-text">导入静态网格体和骨骼网格体</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%BC%E5%85%A5%E5%8A%A8%E7%94%BB"><span class="toc-text">导入动画</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E3%80%81%E5%A4%8D%E5%88%B6%E3%80%81%E5%88%A0%E9%99%A4%E3%80%81%E9%87%8D%E5%91%BD%E5%90%8D%E8%B5%84%E4%BA%A7%E5%92%8C%E6%96%87%E4%BB%B6%E5%A4%B9"><span class="toc-text">创建、复制、删除、重命名资产和文件夹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8python%E8%B0%83%E7%94%A8C-%E5%87%BD%E6%95%B0"><span class="toc-text">使用python调用C++函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%94%B9%E5%8F%98%E6%96%87%E4%BB%B6%E5%A4%B9%E7%9A%84%E9%A2%9C%E8%89%B2"><span class="toc-text">改变文件夹的颜色</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#CppLib-h"><span class="toc-text">CppLib.h</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CppLib-cpp"><span class="toc-text">CppLib.cpp</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%99%E5%AE%8Cc-%E5%90%8E%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E8%93%9D%E5%9B%BE%E8%B0%83%E7%94%A8%E5%87%BD%E6%95%B0"><span class="toc-text">写完c++后可以通过蓝图调用函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#python%E8%B0%83%E7%94%A8%E5%87%BD%E6%95%B0%E5%AE%9E%E7%8E%B0%E6%89%B9%E9%87%8F%E6%9B%B4%E6%94%B9"><span class="toc-text">python调用函数实现批量更改</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8c-%E5%92%8CPython%E6%89%93%E5%BC%80%E5%92%8C%E5%85%B3%E9%97%AD%E8%B5%84%E4%BA%A7"><span class="toc-text">如何使用c++和Python打开和关闭资产</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%88%E7%9C%8Bpython%E5%A6%82%E4%BD%95%E6%89%93%E5%BC%80%E8%B5%84%E4%BA%A7"><span class="toc-text">先看python如何打开资产</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#UE%E4%B8%AD%E6%A8%A1%E5%9D%97%E4%BF%AE%E6%94%B9"><span class="toc-text">UE中模块修改</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CPlusPlusTest-Build-cs"><span class="toc-text">CPlusPlusTest.Build.cs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CppLib-h-2"><span class="toc-text">CppLib.h</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CppLib-cpp-2"><span class="toc-text">CppLib.cpp</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8UE%E4%B8%AD%E8%BF%9B%E8%A1%8C%E8%B0%83%E7%94%A8"><span class="toc-text">在UE中进行调用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Python%E5%92%8CC-%E9%80%89%E6%8B%A9%E5%86%85%E5%AE%B9%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E8%B5%84%E4%BA%A7"><span class="toc-text">使用Python和C ++选择内容浏览器的资产</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#python"><span class="toc-text">python</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CPlusPlusTest-Build-cs-2"><span class="toc-text">CPlusPlusTest.Build.cs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CppLib-h-3"><span class="toc-text">CppLib.h</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CppLib-cpp-3"><span class="toc-text">CppLib.cpp</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E7%94%A8Python%E6%98%BE%E7%A4%BA%E7%BC%93%E6%85%A2%E7%9A%84%E4%BB%BB%E5%8A%A1%E8%BF%9B%E5%BA%A6"><span class="toc-text">如何用Python显示缓慢的任务进度</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#python-2"><span class="toc-text">python</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CppLib-h-4"><span class="toc-text">CppLib.h</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CppLib-cpp-4"><span class="toc-text">CppLib.cpp</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%93%E5%8D%B0%E7%B1%BB%E7%9A%84%E6%89%80%E6%9C%89%E5%B1%9E%E6%80%A7"><span class="toc-text">打印类的所有属性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Cpplib-h"><span class="toc-text">Cpplib.h</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Cpplib-cpp"><span class="toc-text">Cpplib.cpp</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#python-3"><span class="toc-text">python</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%A7%E8%A1%8C%E6%95%88%E6%9E%9C"><span class="toc-text">执行效果</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E6%AC%A1%E6%80%A7%E6%89%A7%E8%A1%8C%E5%A4%9A%E4%B8%AAcmd%E5%91%BD%E4%BB%A4"><span class="toc-text">一次性执行多个cmd命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#CppLib-h-5"><span class="toc-text">CppLib.h</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CppLib-cpp-5"><span class="toc-text">CppLib.cpp</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#python-4"><span class="toc-text">python</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E5%9C%BA%E6%99%AF%E4%B8%AD%E7%9A%84actor%E4%B8%8E%E6%B8%85%E9%99%A4%E9%80%89%E6%8B%A9"><span class="toc-text">选择场景中的actor与清除选择</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E9%BB%98%E8%AE%A4%E8%B5%84%E6%BA%90%EF%BC%88%E6%9D%90%E8%B4%A8%E7%B2%92%E5%AD%90%E5%85%B3%E5%8D%A1%E7%AD%89%EF%BC%89"><span class="toc-text">生成默认资源（材质粒子关卡等）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8%E8%93%9D%E5%9B%BE%E4%B8%AD%E4%BD%BF%E7%94%A8python"><span class="toc-text">在蓝图中使用python</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">B站搬运Udemy教程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#P10%E5%B7%A5%E5%8E%82%E5%92%8C%E8%B5%84%E4%BA%A7%E5%88%9B%E9%80%A0"><span class="toc-text">P10工厂和资产创造</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#P11%E5%88%B6%E4%BD%9C%E4%BB%BB%E5%8A%A1%E8%BF%9B%E5%BA%A6%E6%9D%A1%EF%BC%9A"><span class="toc-text">P11制作任务进度条：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#P12%E7%BB%BC%E5%90%88%E6%A1%88%E4%BE%8B%EF%BC%9A%E6%89%B9%E9%87%8F%E5%88%9B%E5%BB%BA%E7%BB%A7%E6%89%BF%E8%87%AAactor%E7%9A%84%E8%93%9D%E5%9B%BE%E8%B5%84%E4%BA%A7%EF%BC%88%E5%B8%A6%E8%BF%9B%E5%BA%A6%E6%9D%A1%EF%BC%89"><span class="toc-text">P12综合案例：批量创建继承自actor的蓝图资产（带进度条）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#P13-%E6%A0%B9%E6%8D%AE%E9%80%89%E6%8B%A9%E7%9A%84%E8%B5%84%E4%BA%A7%E5%88%9B%E5%BB%BAActor-%E5%9C%A8%E5%85%B3%E5%8D%A1%E4%B8%AD%E7%9A%84%E9%83%BD%E5%8F%ABactor"><span class="toc-text">P13 根据选择的资产创建Actor(在关卡中的都叫actor)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#P15%E4%BF%AE%E6%94%B9%E9%80%89%E6%8B%A9%E7%9A%84%E8%B5%84%E4%BA%A7%E6%88%96%E8%80%85actor%E7%9A%84%E5%B1%9E%E6%80%A7"><span class="toc-text">P15修改选择的资产或者actor的属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#br-P16-python%E4%B8%8E%E8%93%9D%E5%9B%BE%E7%9A%84%E7%BB%93%E5%90%88"><span class="toc-text">P16 python与蓝图的结合</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#P19-%E6%B8%85%E7%90%86%E5%8A%A8%E7%94%BB%E5%BA%8F%E5%88%97%E7%9A%84%E4%BF%AE%E6%94%B9"><span class="toc-text">P19 清理动画序列的修改</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#P20-%E6%B8%85%E7%90%86%E6%9C%AA%E4%BD%BF%E7%94%A8%E7%9A%84%E8%B5%84%E4%BA%A7"><span class="toc-text">P20 清理未使用的资产</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#P21-%E6%89%B9%E9%87%8F%E5%88%9B%E5%BB%BA%E6%9D%90%E8%B4%A8%E5%AE%9E%E4%BE%8B"><span class="toc-text">P21 批量创建材质实例</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background-color: transparent;"></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><a class="icon-V hidden" onclick="switchNightMode()" title="浅色和深色模式转换"><svg width="25" height="25" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon"></use></svg></a><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button><button class="share" type="button" title="右键模式" onclick="changeMouseMode()"><i class="fas fa-mouse"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog right_side"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button class="share" type="button" title="分享链接" onclick="share()"><i class="fas fa-share-nodes"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i><span id="percent">0<span>%</span></span></button><button id="go-down" type="button" title="直达底部" onclick="btf.scrollToDest(document.body.scrollHeight, 500)"><i class="fas fa-arrow-down"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div class="js-pjax" id="rightMenu"><div class="rightMenu-group rightMenu-small"><a class="rightMenu-item" href="javascript:window.history.back();"><i class="fa fa-arrow-left"></i></a><a class="rightMenu-item" href="javascript:window.history.forward();"><i class="fa fa-arrow-right"></i></a><a class="rightMenu-item" href="javascript:window.location.reload();"><i class="fa fa-refresh"></i></a><a class="rightMenu-item" href="javascript:rmf.scrollToTop();"><i class="fa fa-arrow-up"></i></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-text"><a class="rightMenu-item" href="javascript:rmf.copySelect();"><i class="fa fa-copy"></i><span>复制</span></a><a class="rightMenu-item" href="javascript:window.open(&quot;https://www.baidu.com/s?wd=&quot;+window.getSelection().toString());window.location.reload();"><i class="fa fa-search"></i><span>百度搜索</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-too"><a class="rightMenu-item" href="javascript:window.open(window.getSelection().toString());window.location.reload();"><i class="fa fa-link"></i><span>转到链接</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-paste"><a class="rightMenu-item" href="javascript:rmf.paste()"><i class="fa fa-copy"></i><span>粘贴</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-post"><a class="rightMenu-item" href="#post-comment"><i class="fas fa-comment"></i><span>空降评论</span></a><a class="rightMenu-item" href="javascript:rmf.copyWordsLink()"><i class="fa fa-link"></i><span>复制本文地址</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-to"><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()"><i class="fa fa-window-restore"></i><span>新窗口打开</span></a><a class="rightMenu-item" id="menu-too" href="javascript:rmf.open()"><i class="fa fa-link"></i><span>转到链接</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()"><i class="fa fa-copy"></i><span>复制链接</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-img"><a class="rightMenu-item" href="javascript:rmf.saveAs()"><i class="fa fa-download"></i><span>保存图片</span></a><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()"><i class="fa fa-window-restore"></i><span>在新窗口打开</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()"><i class="fa fa-copy"></i><span>复制图片链接</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="javascript:randomPost()"><i class="fa fa-paper-plane"></i><span>随便逛逛</span></a><a class="rightMenu-item" href="javascript:switchNightMode();"><i class="fa fa-moon"></i><span>昼夜切换</span></a><a class="rightMenu-item" href="/personal/about/"><i class="fa fa-info-circle"></i><span>关于博客</span></a><a class="rightMenu-item" href="javascript:toggleWinbox();"><i class="fas fa-cog"></i><span>美化设置</span></a><a class="rightMenu-item" href="javascript:rmf.fullScreen();"><i class="fas fa-expand"></i><span>切换全屏</span></a><a class="rightMenu-item" href="javascript:window.print();"><i class="fa-solid fa-print"></i><span>打印页面</span></a></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.staticfile.org/fancyapps-ui/4.0.31/fancybox.umd.min.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/instant.page/5.1.0/instantpage.min.js" type="module"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/vanilla-lazyload/17.3.1/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><script async="async">var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())
setTimeout(function(){preloader.endLoading();}, 5000);
document.getElementById('loading-box').addEventListener('click',()=> {preloader.endLoading()})</script><div class="js-pjax"><script>(()=>{
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: '',
      region: '',
      onCommentLoaded: function () {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: '',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      countELement.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const runFn = () => {
    init()
    
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') {
      setTimeout(runFn,0)
      return
    } 
    getScript('https://cdn.staticfile.org/twikoo/1.6.8/twikoo.all.min.js').then(runFn)
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script></div><script src="https://cdn.staticfile.org/jquery/3.6.3/jquery.min.js"></script><script async src="https://cdn1.tianli0.top/npm/vue@2.6.14/dist/vue.min.js"></script><script async src="https://cdn1.tianli0.top/npm/element-ui@2.15.6/lib/index.js"></script><script async src="https://cdn.bootcdn.net/ajax/libs/clipboard.js/2.0.11/clipboard.min.js"></script><script defer type="text/javascript" src="https://cdn1.tianli0.top/npm/sweetalert2@8.19.0/dist/sweetalert2.all.js"></script><script async src="//npm.elemecdn.com/pace-js@1.2.4/pace.min.js"></script><script defer src="https://cdn1.tianli0.top/gh/nextapps-de/winbox/dist/winbox.bundle.min.js"></script><script async src="//at.alicdn.com/t/c/font_3586335_hsivh70x0fm.js"></script><script async src="//at.alicdn.com/t/c/font_3636804_gr02jmjr3y9.js"></script><script async src="//at.alicdn.com/t/c/font_3612150_kfv55xn3u2g.js"></script><script async src="https://cdn.wpon.cn/2022-sucai/Gold-ingot.js"></script><canvas id="universe"></canvas><canvas id="snow"></canvas><script defer src="/js/fomal.js"></script><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.js"></script><script src="https://cdn1.tianli0.top/npm/js-heo@1.0.12/metingjs/Meting.min.js"></script><script src="https://lib.baomitu.com/pjax/0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show","#web_bg",".js-pjax","#bibi","body > title","#app","#tag-echarts","#posts-echart","#categories-echarts"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --><script data-pjax>
    function butterfly_categories_card_injector_config(){
      var parent_div_git = document.getElementById('recent-posts');
      var item_html = '<style>li.categoryBar-list-item{width:32.3%;}.categoryBar-list{max-height: 760px;overflow:auto;}.categoryBar-list::-webkit-scrollbar{width:0!important}@media screen and (max-width: 650px){.categoryBar-list{max-height: 640px;}}</style><div class="recent-post-item" style="height:auto;width:100%;padding:0px;"><div id="categoryBar"><ul class="categoryBar-list"><li class="categoryBar-list-item" style="background:url(/assets/1.jpg);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/AI/&quot;);" href="javascript:void(0);">AI</a><span class="categoryBar-list-count">3</span><span class="categoryBar-list-descr">AI</span></li><li class="categoryBar-list-item" style="background:url(/assets/8.jpg);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/DCC工具开发/&quot;);" href="javascript:void(0);">DCC工具开发</a><span class="categoryBar-list-count">10</span><span class="categoryBar-list-descr">DCC工具开发</span></li><li class="categoryBar-list-item" style="background:url(/assets/3.jpg);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/DCC软件/&quot;);" href="javascript:void(0);">DCC软件</a><span class="categoryBar-list-count">4</span><span class="categoryBar-list-descr">DCC软件</span></li><li class="categoryBar-list-item" style="background:url(/assets/4.jpg);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/Geek/&quot;);" href="javascript:void(0);">Geek</a><span class="categoryBar-list-count">8</span><span class="categoryBar-list-descr">Geek</span></li><li class="categoryBar-list-item" style="background:url(/assets/5.jpg);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/PySide2/&quot;);" href="javascript:void(0);">PySide2</a><span class="categoryBar-list-count">3</span><span class="categoryBar-list-descr">PySide2</span></li><li class="categoryBar-list-item" style="background:url(/assets/6.jpg);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/UE开发/&quot;);" href="javascript:void(0);">UE开发</a><span class="categoryBar-list-count">7</span><span class="categoryBar-list-descr">UE开发</span></li><li class="categoryBar-list-item" style="background:url(/assets/7.jpg);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/UnrealEngine/&quot;);" href="javascript:void(0);">UnrealEngine</a><span class="categoryBar-list-count">8</span><span class="categoryBar-list-descr">UnrealEngine</span></li></ul></div></div>';
      console.log('已挂载butterfly_categories_card')
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
      }
    if( document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
    butterfly_categories_card_injector_config()
    }
  </script><!-- hexo injector body_end end --></body></html>
<!DOCTYPE html><html lang="zh-CN" data-theme="dark"><head><div id="myscoll"></div><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>PyQt5 | RuiChen</title><meta name="keywords" content="PyQt5"><meta name="author" content="RuiChen"><meta name="copyright" content="RuiChen"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="PyQt5的使用  布局  绝对布局 直接通过QLabel指定self使标签出现在窗口上  水平盒布局QHBoxLayout 可以使用布局对象的setSpacing()方法控制控件之间的间距  设置控件的对齐方式 可以通过在addWidget中增加两个参数改变伸缩量和对齐方式第一个参数为按钮控件，第二个参数为伸缩量，第三个为对齐方式  垂直盒布局QVBoxLayout   设置布局的伸缩量">
<meta property="og:type" content="article">
<meta property="og:title" content="PyQt5">
<meta property="og:url" content="http://example.com/2023/08/29/PySide2-PyQt5/index.html">
<meta property="og:site_name" content="RuiChen">
<meta property="og:description" content="PyQt5的使用  布局  绝对布局 直接通过QLabel指定self使标签出现在窗口上  水平盒布局QHBoxLayout 可以使用布局对象的setSpacing()方法控制控件之间的间距  设置控件的对齐方式 可以通过在addWidget中增加两个参数改变伸缩量和对齐方式第一个参数为按钮控件，第二个参数为伸缩量，第三个为对齐方式  垂直盒布局QVBoxLayout   设置布局的伸缩量">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://github.com/violet-chen/image_lib/blob/main/img%20(50).jpg?raw=true">
<meta property="article:published_time" content="2023-08-28T19:57:00.000Z">
<meta property="article:modified_time" content="2024-07-27T18:58:06.880Z">
<meta property="article:author" content="RuiChen">
<meta property="article:tag" content="PyQt5">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://github.com/violet-chen/image_lib/blob/main/img%20(50).jpg?raw=true"><link rel="shortcut icon" href="/"><link rel="canonical" href="http://example.com/2023/08/29/PySide2-PyQt5/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/6.0.0/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.staticfile.org/fancyapps-ui/4.0.31/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":230},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdnjs.cloudflare.com/ajax/libs/flickr-justified-gallery/2.1.2/fjGallery.min.js',
      css: 'https://cdnjs.cloudflare.com/ajax/libs/flickr-justified-gallery/2.1.2/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'PyQt5',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-07-28 02:58:06'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="https://cdn1.tianli0.top/npm/element-ui@2.15.6/packages/theme-chalk/lib/index.css"><style id="themeColor"></style><style id="rightSide"></style><style id="transPercent"></style><style id="blurNum"></style><style id="settingStyle"></style><style id="defineBg"></style><style id="menu_shadow"></style><svg aria-hidden="true" style="position:absolute; overflow:hidden; width:0; height:0"><symbol id="icon-sun" viewBox="0 0 1024 1024"><path d="M960 512l-128 128v192h-192l-128 128-128-128H192v-192l-128-128 128-128V192h192l128-128 128 128h192v192z" fill="#FFD878" p-id="8420"></path><path d="M736 512a224 224 0 1 0-448 0 224 224 0 1 0 448 0z" fill="#FFE4A9" p-id="8421"></path><path d="M512 109.248L626.752 224H800v173.248L914.752 512 800 626.752V800h-173.248L512 914.752 397.248 800H224v-173.248L109.248 512 224 397.248V224h173.248L512 109.248M512 64l-128 128H192v192l-128 128 128 128v192h192l128 128 128-128h192v-192l128-128-128-128V192h-192l-128-128z" fill="#4D5152" p-id="8422"></path><path d="M512 320c105.888 0 192 86.112 192 192s-86.112 192-192 192-192-86.112-192-192 86.112-192 192-192m0-32a224 224 0 1 0 0 448 224 224 0 0 0 0-448z" fill="#4D5152" p-id="8423"></path></symbol><symbol id="icon-moon" viewBox="0 0 1024 1024"><path d="M611.370667 167.082667a445.013333 445.013333 0 0 1-38.4 161.834666 477.824 477.824 0 0 1-244.736 244.394667 445.141333 445.141333 0 0 1-161.109334 38.058667 85.077333 85.077333 0 0 0-65.066666 135.722666A462.08 462.08 0 1 0 747.093333 102.058667a85.077333 85.077333 0 0 0-135.722666 65.024z" fill="#FFB531" p-id="11345"></path><path d="M329.728 274.133333l35.157333-35.157333a21.333333 21.333333 0 1 0-30.165333-30.165333l-35.157333 35.157333-35.114667-35.157333a21.333333 21.333333 0 0 0-30.165333 30.165333l35.114666 35.157333-35.114666 35.157334a21.333333 21.333333 0 1 0 30.165333 30.165333l35.114667-35.157333 35.157333 35.157333a21.333333 21.333333 0 1 0 30.165333-30.165333z" fill="#030835" p-id="11346"></path></symbol></svg><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-categories-card@1.0.0/lib/categorybar.css"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="RuiChen" type="application/atom+xml">
</head><body><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><div class="loading-img"></div><div class="loading-image-dot"></div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/assets/TouXiang.jpg" onerror="onerror=null;src='/assets/r1.jpg'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">43</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">26</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-home"></use></svg><span class="menu_word" style="font-size:17px"> 首页</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/archives/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-guidang1"></use></svg><span class="menu_word" style="font-size:17px"> 归档</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/tags/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-sekuaibiaoqian"></use></svg><span class="menu_word" style="font-size:17px"> 标签</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/categories/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-fenlei"></use></svg><span class="menu_word" style="font-size:17px"> 分类</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">RuiChen</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-home"></use></svg><span class="menu_word" style="font-size:17px"> 首页</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/archives/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-guidang1"></use></svg><span class="menu_word" style="font-size:17px"> 归档</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/tags/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-sekuaibiaoqian"></use></svg><span class="menu_word" style="font-size:17px"> 标签</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/categories/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-fenlei"></use></svg><span class="menu_word" style="font-size:17px"> 分类</span></a></div></div><div id="nav-right"><div id="search-button"><a class="search faa-parent animated-hover" title="检索站内任何你想要的信息"><svg class="faa-tada icon" style="height:24px;width:24px;fill:currentColor;position:relative;top:6px" aria-hidden="true"><use xlink:href="#icon-valentine_-search-love-find-heart"></use></svg><span> 搜索</span></a></div><a class="meihua faa-parent animated-hover" onclick="toggleWinbox()" title="美化设置-自定义你的风格" id="meihua-button"><svg class="faa-tada icon" style="height:26px;width:26px;fill:currentColor;position:relative;top:8px" aria-hidden="true"><use xlink:href="#icon-tupian1"></use></svg></a><a class="sun_moon faa-parent animated-hover" onclick="switchNightMode()" title="浅色和深色模式转换" id="nightmode-button"><svg class="faa-tada" style="height:25px;width:25px;fill:currentColor;position:relative;top:7px" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon">       </use></svg></a><div id="toggle-menu"><a><i class="fas fa-bars fa-fw"></i></a></div></div></div></nav><div id="post-info"><h1 class="post-title">PyQt5</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><svg class="meta_icon post-meta-icon" style="width:30px;height:30px;position:relative;top:10px"><use xlink:href="#icon-rili"></use></svg><span class="post-meta-label">发表于 </span><time class="post-meta-date-created" datetime="2023-08-28T19:57:00.000Z" title="发表于 2023-08-29 03:57:00">2023-08-29</time><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:18px;height:18px;position:relative;top:5px"><use xlink:href="#icon-gengxin1"></use></svg><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-07-27T18:58:06.880Z" title="更新于 2024-07-28 02:58:06">2024-07-28</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:18px;height:18px;position:relative;top:5px"><use xlink:href="#icon-biaoqian"></use></svg><a class="post-meta-categories" href="/categories/PySide2/">PySide2</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><svg class="meta_icon post-meta-icon" style="width:25px;height:25px;position:relative;top:8px"><use xlink:href="#icon-charuword"></use></svg><span class="post-meta-label">字数总计:</span><span class="word-count">1.9w</span><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:20px;height:20px;position:relative;top:5px"><use xlink:href="#icon-shizhong"></use></svg><span class="post-meta-label">阅读时长:</span><span>83分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="PyQt5"><svg class="meta_icon post-meta-icon" style="width:25px;height:25px;position:relative;top:5px"><use xlink:href="#icon-eye"></use></svg><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><meta name="referrer" content="no-referrer">
<p><a name="P2iGF"></a></p>
<h2 id></h2>
<p><a name="yeGPb"></a></p>
<h1>PyQt5的使用</h1>
<p><a name="WwrnW"></a></p>
<h2 id="布局">布局</h2>
<p><a name="YWCW5"></a></p>
<h3 id="绝对布局">绝对布局</h3>
<p>直接通过QLabel指定self使标签出现在窗口上<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648020085545-8b33a6e6-2b54-4bfd-b2f3-cf5d9fba0bea.png#clientId=u61b28784-2765-4&amp;from=paste&amp;height=275&amp;id=aPuBS&amp;originHeight=275&amp;originWidth=569&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=132399&amp;status=done&amp;style=none&amp;taskId=u95d47597-04a7-4d48-9d1e-d2905315e87&amp;title=&amp;width=569" alt="image.png"><br>
<a name="XMKwb"></a></p>
<h3 id="水平盒布局QHBoxLayout">水平盒布局QHBoxLayout</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648020264952-bda1ccfb-49f8-43a5-b7ac-90782f5d6570.png#clientId=u61b28784-2765-4&amp;from=paste&amp;height=436&amp;id=Baqjx&amp;originHeight=436&amp;originWidth=909&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=259508&amp;status=done&amp;style=none&amp;taskId=u33736d8e-5337-4863-a962-edbfc6aecb5&amp;title=&amp;width=909" alt="image.png"><br>可以使用布局对象的setSpacing()方法控制控件之间的间距<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648020742456-cfd50efc-6410-4f76-a43f-794c7f0cfa6d.png#clientId=u61b28784-2765-4&amp;from=paste&amp;height=75&amp;id=YLoxR&amp;originHeight=75&amp;originWidth=600&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=62351&amp;status=done&amp;style=none&amp;taskId=u33ff5b2e-ed6d-4da1-9e0d-6c774eee625&amp;title=&amp;width=600" alt="image.png"><br>
<a name="TUasf"></a></p>
<h3 id="设置控件的对齐方式">设置控件的对齐方式</h3>
<p>可以通过在addWidget中增加两个参数改变伸缩量和对齐方式<br>第一个参数为按钮控件，第二个参数为伸缩量，第三个为对齐方式<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648020570838-975db8b9-cbc0-4d10-801e-3fff68015656.png#clientId=u61b28784-2765-4&amp;from=paste&amp;height=685&amp;id=UwLIq&amp;originHeight=685&amp;originWidth=1275&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=305221&amp;status=done&amp;style=none&amp;taskId=u4fc78ca0-fd60-465b-9369-41ad941f2df&amp;title=&amp;width=1275" alt="image.png"></p>
<p><a name="KlYMT"></a></p>
<h3 id="垂直盒布局QVBoxLayout">垂直盒布局QVBoxLayout</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648021137561-504065d9-587f-456a-ae05-fdeda6652158.png#clientId=u61b28784-2765-4&amp;from=paste&amp;height=387&amp;id=ySmL4&amp;originHeight=387&amp;originWidth=409&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=28231&amp;status=done&amp;style=none&amp;taskId=u4530b144-eef7-4d72-a535-9888f3810c1&amp;title=&amp;width=409" alt="image.png"><br>
<a name="PGNgd"></a></p>
<h3 id="设置布局的伸缩量addStretch">设置布局的伸缩量addStretch</h3>
<p>设置布局伸缩量有两种方法，第一种：添加控件时设置<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648176606518-d0b43209-6b94-42f7-8f0b-64ffd37196ee.png#clientId=u3f1ac442-2738-4&amp;from=paste&amp;height=56&amp;id=xYoof&amp;originHeight=56&amp;originWidth=589&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=69800&amp;status=done&amp;style=none&amp;taskId=ud34a6a9e-1d4d-4def-9244-48ef730814c&amp;title=&amp;width=589" alt="image.png"><br>第二种：addStretch</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Stretch</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(Stretch, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&#x27;设置伸缩量&#x27;</span>)</span><br><span class="line">        btn1 = QPushButton(<span class="string">&#x27;按钮1&#x27;</span>)</span><br><span class="line">        btn2 = QPushButton(<span class="string">&#x27;按钮2&#x27;</span>)</span><br><span class="line">        btn3 = QPushButton(<span class="string">&#x27;按钮3&#x27;</span>)</span><br><span class="line">        layout = QHBoxLayout()</span><br><span class="line">        layout.addStretch(<span class="number">1</span>)  <span class="comment"># 设置伸缩量</span></span><br><span class="line">        layout.addWidget(btn1)  <span class="comment"># 设置1个伸缩量后添加一个按钮</span></span><br><span class="line">        layout.addStretch(<span class="number">2</span>)</span><br><span class="line">        layout.addWidget(btn2)  <span class="comment"># 伸缩量为2</span></span><br><span class="line">        layout.addStretch(<span class="number">3</span>)</span><br><span class="line">        layout.addWidget(btn3)  <span class="comment"># 伸缩量为3</span></span><br><span class="line">        <span class="variable language_">self</span>.setLayout(layout)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = Stretch()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648204691401-d31e56f9-c9da-41fa-b091-d21788d184ed.png#clientId=uddd2ac66-43c5-4&amp;from=paste&amp;height=329&amp;id=Dv2rj&amp;originHeight=329&amp;originWidth=946&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=15910&amp;status=done&amp;style=none&amp;taskId=u1819aec5-564b-493a-9da7-1f21f987ce6&amp;title=&amp;width=946" alt="image.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Stretch</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(Stretch, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&#x27;设置伸缩量&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.resize(<span class="number">800</span>,<span class="number">100</span>)</span><br><span class="line">        btn1 = QPushButton(<span class="string">&#x27;按钮1&#x27;</span>)</span><br><span class="line">        btn2 = QPushButton(<span class="string">&#x27;按钮2&#x27;</span>)</span><br><span class="line">        btn3 = QPushButton(<span class="string">&#x27;按钮3&#x27;</span>)</span><br><span class="line">        btn4 = QPushButton(<span class="string">&#x27;按钮4&#x27;</span>)</span><br><span class="line">        btn5 = QPushButton(<span class="string">&#x27;按钮5&#x27;</span>)</span><br><span class="line">        layout = QHBoxLayout()</span><br><span class="line">        layout.addStretch(<span class="number">0</span>)  <span class="comment"># 设置伸缩量</span></span><br><span class="line">        layout.addWidget(btn1)  <span class="comment"># 设置1个伸缩量后添加一个按钮</span></span><br><span class="line">        layout.addStretch(<span class="number">1</span>)  <span class="comment"># 再设置一个伸缩量</span></span><br><span class="line">        <span class="comment">#  再次设置伸缩量后添加4个按钮</span></span><br><span class="line">        layout.addWidget(btn2)</span><br><span class="line">        layout.addWidget(btn3)</span><br><span class="line">        layout.addWidget(btn4)</span><br><span class="line">        layout.addWidget(btn5)</span><br><span class="line">        btnOK = QPushButton(<span class="string">&#x27;确定&#x27;</span>)</span><br><span class="line">        btnCancel = QPushButton(<span class="string">&#x27;取消&#x27;</span>)</span><br><span class="line">        layout.addStretch(<span class="number">1</span>)</span><br><span class="line">        layout.addWidget(btnOK)</span><br><span class="line">        layout.addWidget(btnCancel)</span><br><span class="line">        <span class="variable language_">self</span>.setLayout(layout)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = Stretch()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648205801054-3dd3c46d-3cd2-4db7-80d9-ed7f101a5e16.png#clientId=uddd2ac66-43c5-4&amp;from=paste&amp;height=139&amp;id=q8gmo&amp;originHeight=139&amp;originWidth=816&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=8582&amp;status=done&amp;style=none&amp;taskId=u1e27fcee-305d-4c59-a409-ad129ba9420&amp;title=&amp;width=816" alt="image.png"><br>
<a name="rJfxx"></a></p>
<h3 id="让按钮永远在窗口的右下角">让按钮永远在窗口的右下角</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> Qt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">RightBottomButton</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(RightBottomButton, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&quot;让按钮永远在右下角&quot;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.resize(<span class="number">400</span>, <span class="number">300</span>)</span><br><span class="line">        okButton = QPushButton(<span class="string">&quot;确定&quot;</span>)</span><br><span class="line">        cancelButton = QPushButton(<span class="string">&#x27;取消&#x27;</span>)</span><br><span class="line">        hbox = QHBoxLayout()</span><br><span class="line"></span><br><span class="line">        hbox.addStretch(<span class="number">1</span>)</span><br><span class="line">        hbox.addWidget(okButton)</span><br><span class="line">        hbox.addWidget(cancelButton)</span><br><span class="line"></span><br><span class="line">        vbox = QVBoxLayout()</span><br><span class="line">        btn1 = QPushButton(<span class="string">&#x27;按钮1&#x27;</span>)</span><br><span class="line">        btn2 = QPushButton(<span class="string">&#x27;按钮2&#x27;</span>)</span><br><span class="line">        btn3 = QPushButton(<span class="string">&#x27;按钮3&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        vbox.addStretch(<span class="number">0</span>)</span><br><span class="line">        vbox.addWidget(btn1)</span><br><span class="line">        vbox.addWidget(btn2)</span><br><span class="line">        vbox.addWidget(btn3)</span><br><span class="line"></span><br><span class="line">        vbox.addStretch(<span class="number">1</span>)</span><br><span class="line">        vbox.addLayout(hbox)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.setLayout(vbox)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = RightBottomButton()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648206781934-dcedd939-1b89-4d01-bc6e-29875e94dd4d.png#clientId=uddd2ac66-43c5-4&amp;from=paste&amp;height=339&amp;id=EJxgq&amp;originHeight=339&amp;originWidth=416&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=9999&amp;status=done&amp;style=none&amp;taskId=u6786aeca-c068-4ec1-ac51-9f562208ffd&amp;title=&amp;width=416" alt="image.png">   <strong>两个布局，一个垂直布局一个水平布局通过addStretch设置伸缩量使它们分开</strong><br>
<a name="Ronyr"></a></p>
<h3 id="栅格布局QGridLayout">栅格布局QGridLayout</h3>
<p><a name="vXMwA"></a></p>
<h4 id="用循环方式实现计算器">用循环方式实现计算器</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Calc</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(Calc, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&#x27;栅格布局&#x27;</span>)</span><br><span class="line">        grid = QGridLayout()</span><br><span class="line">        <span class="variable language_">self</span>.setLayout(grid)</span><br><span class="line">        names = [<span class="string">&#x27;Cls&#x27;</span>, <span class="string">&#x27;Back&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;Close&#x27;</span>,</span><br><span class="line">                 <span class="string">&#x27;7&#x27;</span>, <span class="string">&#x27;8&#x27;</span>, <span class="string">&#x27;9&#x27;</span>, <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">                 <span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;5&#x27;</span>, <span class="string">&#x27;6&#x27;</span>, <span class="string">&#x27;*&#x27;</span>,</span><br><span class="line">                 <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;-&#x27;</span>,</span><br><span class="line">                 <span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;=&#x27;</span>, <span class="string">&#x27;+&#x27;</span>, ]</span><br><span class="line">        positions = [(i, j) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>) <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>)]  <span class="comment"># 得到5（下标为4）行4（下标为3）列的值</span></span><br><span class="line">        <span class="built_in">print</span>(positions)</span><br><span class="line">        <span class="comment"># zip 的作用是将两个不同列表中的元素一一对应（也可以元素对应元组），形成一个新的列表（以元组的形式对应）</span></span><br><span class="line">        <span class="keyword">for</span> position, name <span class="keyword">in</span> <span class="built_in">zip</span>(positions, names):</span><br><span class="line">            <span class="keyword">if</span> name == <span class="string">&#x27;&#x27;</span>:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            button = QPushButton(name)</span><br><span class="line"></span><br><span class="line">            grid.addWidget(button, *position)  <span class="comment"># *号的作用是将元组拆成元素，例如（1，2）拆成1 2，之所以拆是因为addWidget不接受元组</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = Calc()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648209766370-221517da-1c9d-4ea4-9828-b6f8cc140176.png#clientId=uddd2ac66-43c5-4&amp;from=paste&amp;height=200&amp;id=p24jO&amp;originHeight=200&amp;originWidth=356&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=7729&amp;status=done&amp;style=none&amp;taskId=uc42ed763-6612-4b77-9dd8-d8ec4cefd8b&amp;title=&amp;width=356" alt="image.png"><br>
<a name="B9gb9"></a></p>
<h4 id="进行表单UI设计">进行表单UI设计</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">GridForm</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(GridForm, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&#x27;栅格布局:表单设计&#x27;</span>)</span><br><span class="line">        titleLabel = QLabel(<span class="string">&#x27;标题&#x27;</span>)</span><br><span class="line">        authorLabel = QLabel(<span class="string">&#x27;作者&#x27;</span>)</span><br><span class="line">        contentLabel = QLabel(<span class="string">&#x27;内容&#x27;</span>)</span><br><span class="line">        titleEdit = QLineEdit()</span><br><span class="line">        authorEdit = QLineEdit()</span><br><span class="line">        contentEdit = QTextEdit()</span><br><span class="line"></span><br><span class="line">        grid = QGridLayout()</span><br><span class="line">        grid.setSpacing(<span class="number">10</span>) <span class="comment"># 设置栅格的间距</span></span><br><span class="line">        grid.addWidget(titleLabel, <span class="number">1</span>, <span class="number">0</span>)</span><br><span class="line">        grid.addWidget(titleEdit, <span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">        grid.addWidget(authorLabel, <span class="number">2</span>, <span class="number">0</span>)</span><br><span class="line">        grid.addWidget(authorEdit, <span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line">        grid.addWidget(contentLabel, <span class="number">3</span>, <span class="number">0</span>)</span><br><span class="line">        grid.addWidget(contentEdit, <span class="number">3</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.setLayout(grid)</span><br><span class="line">        <span class="variable language_">self</span>.resize(<span class="number">350</span>, <span class="number">300</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = GridForm()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648211139062-de28221d-8911-42c3-a9a8-3797308ae5de.png#clientId=uddd2ac66-43c5-4&amp;from=paste&amp;height=339&amp;id=xpQHd&amp;originHeight=339&amp;originWidth=366&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=10111&amp;status=done&amp;style=none&amp;taskId=u772bcde4-2a44-4cf0-a619-9d741a26557&amp;title=&amp;width=366" alt="image.png"><br>
<a name="WZ4aI"></a></p>
<h3 id="表单布局QFormLayout">表单布局QFormLayout</h3>
<p>表单设计可以通过栅格布局或者表单布局创建<br>主要区别是一个是使用addWidget  一个是使用addRow</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">FormLayout</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(FormLayout, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&#x27;表单布局&#x27;</span>)</span><br><span class="line">        titleLabel = QLabel(<span class="string">&#x27;标题&#x27;</span>)</span><br><span class="line">        authorLabel = QLabel(<span class="string">&#x27;作者&#x27;</span>)</span><br><span class="line">        contentLabel = QLabel(<span class="string">&#x27;内容&#x27;</span>)</span><br><span class="line">        titleEdit = QLineEdit()</span><br><span class="line">        authorEdit = QLineEdit()</span><br><span class="line">        contentEdit = QTextEdit()</span><br><span class="line"></span><br><span class="line">        formLayout = QFormLayout()</span><br><span class="line">        formLayout.addRow(titleLabel,titleEdit)</span><br><span class="line">        formLayout.addRow(authorLabel,authorEdit)</span><br><span class="line">        formLayout.addRow(contentLabel,contentEdit)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.setLayout(formLayout)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = FormLayout()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648211552063-f0b688d2-8e90-4c63-8d45-fafdb20e9427.png#clientId=uddd2ac66-43c5-4&amp;from=paste&amp;height=305&amp;id=xBKi4&amp;originHeight=305&amp;originWidth=324&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=7592&amp;status=done&amp;style=none&amp;taskId=u8035015c-05fd-4e14-9ed1-1f4a3efaad7&amp;title=&amp;width=324" alt="image.png"><br>
<a name="hs5MB"></a></p>
<h3 id="拖动控件之间的边界（QSplitter）">拖动控件之间的边界（QSplitter）</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Splitter</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(Splitter, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.initUI()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">initUI</span>(<span class="params">self</span>):</span><br><span class="line">        hbox = QHBoxLayout()</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&#x27;QSplitter 例子&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.setGeometry(<span class="number">300</span>, <span class="number">300</span>, <span class="number">300</span>, <span class="number">200</span>)</span><br><span class="line">        topleft = QFrame()</span><br><span class="line">        topleft.setFrameShape(QFrame.StyledPanel)  <span class="comment"># 绘制一个矩形面板</span></span><br><span class="line">        bottom = QFrame()</span><br><span class="line">        bottom.setFrameShape(QFrame.StyledPanel)</span><br><span class="line">        splitter1 = QSplitter(Qt.Horizontal)  <span class="comment"># 创建水平拖动控件</span></span><br><span class="line">        textedit = QTextEdit()</span><br><span class="line">        <span class="comment"># 设置受水平拖动控件控制的矩形面板</span></span><br><span class="line">        splitter1.addWidget(topleft)</span><br><span class="line">        splitter1.addWidget(textedit)</span><br><span class="line">        splitter1.setSizes([<span class="number">200</span>, <span class="number">100</span>])  <span class="comment"># 设置拖动控件默认位置</span></span><br><span class="line"></span><br><span class="line">        splitter2 = QSplitter(Qt.Vertical)  <span class="comment"># 创建垂直拖动控件</span></span><br><span class="line">        <span class="comment"># 设置受水平拖动控件控制的矩形面板</span></span><br><span class="line">        splitter2.addWidget(splitter1)</span><br><span class="line">        splitter2.addWidget(bottom)</span><br><span class="line"></span><br><span class="line">        hbox.addWidget(splitter2)</span><br><span class="line">        <span class="variable language_">self</span>.setLayout(hbox)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = Splitter()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648215257269-8be0648e-5a5a-4117-a1b8-50c35ca0005f.png#clientId=uddd2ac66-43c5-4&amp;from=paste&amp;height=239&amp;id=Y8k1Z&amp;originHeight=239&amp;originWidth=316&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=6368&amp;status=done&amp;style=none&amp;taskId=ue98f6ef4-b1c2-4156-a15f-50143da2aff&amp;title=&amp;width=316" alt="image.png"><br>
<a name="ICI2k"></a></p>
<h2 id="信号和槽">信号和槽</h2>
<p>在 Qt 中，用户和控件的每次交互过程称为一个事件，比如“用户点击按钮”是一个事件，“用户关闭窗口”也是一个事件。每个事件都会发出一个信号，例如用户点击按钮会发出“按钮被点击”的信号，用户关闭窗口会发出“窗口被关闭”的信号。</p>
<p>Qt 中的所有控件都具有接收信号的能力，一个控件还可以接收多个不同的信号。对于接收到的每个信号，控件都会做出相应的响应动作。例如，按钮所在的窗口接收到“按钮被点击”的信号后，会做出“关闭自己”的响应动作；再比如输入框自己接收到“输入框被点击”的信号后，会做出“显示闪烁的光标，等待用户输入数据”的响应动作。在 Qt 中，<strong>对信号做出的响应动作就称为槽。</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/gif/2623605/1647265244137-79d7c317-be6d-47a3-8a0a-d51b481cba97.gif#clientId=u88a69422-e7a2-4&amp;from=paste&amp;id=wWp88&amp;originHeight=427&amp;originWidth=500&amp;originalType=url&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u1f621fff-41d3-4faa-95ec-654681be45f&amp;title=" alt><br>图 1 信号和槽</p>
<p>信号和槽机制底层是通过函数间的相互调用实现的。每个信号都可以用函数来表示，称为信号函数；每个槽也可以用函数表示，称为槽函数。例如，“按钮被按下”这个信号可以用 clicked() 函数表示，“窗口关闭”这个槽可以用 close() 函数表示，信号和槽机制实现“点击按钮会关闭窗口”的功能，其实就是 clicked() 函数调用 close() 函数的效果。<br>
<a name="KwIm6"></a></p>
<h3 id="connect-函数实现信号和槽">connect()函数实现信号和槽</h3>
<p>connect() 是 QObject 类中的一个静态成员函数，专门用来关联指定的信号函数和槽函数。<br>关联某个信号函数和槽函数，需要搞清楚以下 4 个问题：</p>
<ul>
<li>信号发送者是谁？</li>
<li>哪个是信号函数？</li>
<li>信号的接收者是谁？</li>
<li>哪个是接收信号的槽函数？<br>
<a name="Q3v5K"></a></li>
</ul>
<h3 id="不同控件对应的信号">不同控件对应的信号</h3>
<ol>
<li>Qlabel控件(标签控件): linkHovered(滑过时触发)  linkActivated(单击时触发)</li>
<li>QLineEdit控件(输入框控件):textChanged(文本改变时触发),editingFinished(文本输入时触发)</li>
<li>QPushButton控件(普通按钮控件):clicked(单击按钮时触发)</li>
<li>QRadioButton控件(单选按钮控件):toggled(按钮被选中时触发)</li>
<li>QCheckBox控件(复选框控件<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647682554170-541ca9bc-e302-48ed-8dc1-a86eaf669074.png#clientId=u28f4b901-98ba-4&amp;from=paste&amp;height=94&amp;id=tq8zp&amp;originHeight=94&amp;originWidth=180&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=19304&amp;status=done&amp;style=none&amp;taskId=ua45a1d3d-5810-4379-87c8-d9ccc622bce&amp;title=&amp;width=180" alt="image.png">):stateChanged(按钮状态改变时触发)</li>
<li>QComboBox控件(下拉列表控件):currentIndexChanged(列表选择改变时触发)</li>
<li>QSlider控件(滑块控件):valueChanged(当滑块的值改变时触发)</li>
<li>QSpinBox控件(计数器控件<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647693314236-d14be68e-7398-48ba-aafa-61a66e81cecf.png#clientId=u28f4b901-98ba-4&amp;from=paste&amp;height=30&amp;id=zT6Fy&amp;originHeight=30&amp;originWidth=282&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=648&amp;status=done&amp;style=none&amp;taskId=ub3619d59-9337-47a2-9e61-455477001d6&amp;title=&amp;width=282" alt="image.png">):valueChanged(当计数器中的值改变时触发</li>
<li>QAction创建菜单栏中的菜单或者工具栏中的工具：triggered（当点击菜单时触发）</li>
<li>tb1 = self.addToolBar(“File”)创建的工具栏（是工具栏而不是工具）：actionTriggered  (当点击工具栏中的任意一个工具就会触发)</li>
<li>QListWidget() 扩展的列表控件 ：itemClicked  (当点击列表中的某一项时触发，触发时传参数是QListWidgetItem )</li>
<li>QListWidget() 扩展的列表控件：currentRowChanged（当改变选择的列表行时调用）<br>
<a name="QQH4t"></a></li>
</ol>
<h3 id="生成自定义信号pyqtSignal">生成自定义信号pyqtSignal</h3>
<p>通过生成pyqtSignal的实例（可自定义发送时的参数类型）（pyqtSignal是QObject中的方法因此需要在类中定义信号）<br>使用时需要先关联再通过emit发送参数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyTypeSignal</span>(<span class="title class_ inherited__">QObject</span>):</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;自定义信号的类&#x27;&#x27;&#x27;</span></span><br><span class="line">    sendmsg = pyqtSignal(<span class="built_in">object</span>)</span><br><span class="line">    sendmsg1 = pyqtSignal(<span class="built_in">str</span>, <span class="built_in">int</span>, <span class="built_in">int</span>)  <span class="comment"># 发送三个带类型的参数。</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">run</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;自定义信号发送时传入的参数&#x27;&#x27;&#x27;</span></span><br><span class="line">        <span class="variable language_">self</span>.sendmsg.emit(<span class="string">&#x27;Hello PyQt5&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">run1</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.sendmsg1.emit(<span class="string">&#x27;hello&#x27;</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MySlot</span>(<span class="title class_ inherited__">QObject</span>):</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;自定义槽&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get</span>(<span class="params">self, msg</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;信息：&#x27;</span> + msg)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get1</span>(<span class="params">self, msg, a, b</span>):</span><br><span class="line">        <span class="built_in">print</span>(msg)</span><br><span class="line">        <span class="built_in">print</span>(a + b)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    send = MyTypeSignal()  <span class="comment"># 创建信号的实例</span></span><br><span class="line">    slot = MySlot()  <span class="comment"># 创建槽的实例</span></span><br><span class="line">    send.sendmsg.connect(slot.get)  <span class="comment"># 连接信号与槽</span></span><br><span class="line">    send.sendmsg1.connect(slot.get1)</span><br><span class="line">    send.run()  <span class="comment"># 发送信号：执行了：self.sendmsg.emit(&#x27;Hello PyQt5&#x27;)</span></span><br><span class="line">    send.run1()   <span class="comment"># 发送信号：执行了：self.sendmsg1.emit(&#x27;hello&#x27;, 3, 4)</span></span><br><span class="line">    send.sendmsg.disconnect(slot.get)  <span class="comment"># 断开连接</span></span><br><span class="line">    send.run()  <span class="comment"># 因为断开了连接而无法发送信号</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>输出：<br>信息：Hello PyQt5<br>hello<br>7<br>
<a name="slxKI"></a></p>
<h3 id="为类添加多个信号">为类添加多个信号</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MultiSignal</span>(<span class="title class_ inherited__">QObject</span>):</span><br><span class="line">    signal1 = pyqtSignal()</span><br><span class="line">    signal2 = pyqtSignal(<span class="built_in">int</span>)</span><br><span class="line">    signal3 = pyqtSignal(<span class="built_in">int</span>, <span class="built_in">str</span>)</span><br><span class="line">    signal4 = pyqtSignal(<span class="built_in">list</span>)</span><br><span class="line">    signal5 = pyqtSignal(<span class="built_in">dict</span>)</span><br><span class="line">    signal6 = pyqtSignal([<span class="built_in">int</span>, <span class="built_in">str</span>], [<span class="built_in">str</span>])  <span class="comment"># 既可以存取int，str类型参数也可以只存取str类型参数</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(MultiSignal, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.signal1.connect(<span class="variable language_">self</span>.signalCall1)</span><br><span class="line">        <span class="variable language_">self</span>.signal2.connect(<span class="variable language_">self</span>.signalCall2)</span><br><span class="line">        <span class="variable language_">self</span>.signal3.connect(<span class="variable language_">self</span>.signalCall3)</span><br><span class="line">        <span class="variable language_">self</span>.signal4.connect(<span class="variable language_">self</span>.signalCall4)</span><br><span class="line">        <span class="variable language_">self</span>.signal5.connect(<span class="variable language_">self</span>.signalCall5)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.signal6[<span class="built_in">str</span>].connect(<span class="variable language_">self</span>.signalCall6Overload)  <span class="comment"># 将str类型的信号关联signalCall60verload</span></span><br><span class="line">        <span class="variable language_">self</span>.signal6[<span class="built_in">int</span>, <span class="built_in">str</span>].connect(<span class="variable language_">self</span>.signalCall6)  <span class="comment"># 将int,str类型的信号关联signalcall6</span></span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.signal1.emit()</span><br><span class="line">        <span class="variable language_">self</span>.signal2.emit(<span class="number">10</span>)</span><br><span class="line">        <span class="variable language_">self</span>.signal3.emit(<span class="number">1</span>, <span class="string">&#x27;hello world&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.signal4.emit([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>])</span><br><span class="line">        <span class="variable language_">self</span>.signal5.emit(&#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;Bill&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">30</span>&#125;)</span><br><span class="line">        <span class="variable language_">self</span>.signal6[<span class="built_in">str</span>].emit(<span class="string">&quot;test&quot;</span>)  <span class="comment"># 发送str类型信号</span></span><br><span class="line">        <span class="variable language_">self</span>.signal6[<span class="built_in">int</span>, <span class="built_in">str</span>].emit(<span class="number">100</span>, <span class="string">&quot;mytest&quot;</span>)  <span class="comment"># 发送int，str类型信号</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">signalCall1</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;signal1 emit&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">signalCall2</span>(<span class="params">self, val</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;signal2 emit,value:&#x27;</span>, val)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">signalCall3</span>(<span class="params">self, val, text</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;signal3 emit.value:&#x27;</span>, val, text)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">signalCall4</span>(<span class="params">self, val</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;signal4 emit,value:&#x27;</span>, val)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">signalCall5</span>(<span class="params">self, val</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;signal5 emit,value:&#x27;</span>, val)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">signalCall6</span>(<span class="params">self, val, text</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;signal6 emit,value:&#x27;</span>, val, text)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">signalCall6Overload</span>(<span class="params">self, val</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;signal6 overload emit,value:&#x27;</span>, val)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    multiSignal = MultiSignal()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>输出：<br>signal1 emit<br>signal2 emit,value: 10<br>signal3 emit.value: 1 hello world<br>signal4 emit,value: [1, 2, 3, 4, 5, 6]<br>signal5 emit,value: {‘name’: ‘Bill’, ‘age’: 30}<br>signal6 overload emit,value: test<br>signal6 emit,value: 100 mytest<br>
<a name="GXocG"></a></p>
<h3 id="信号和槽的N对N连接和断开连接">信号和槽的N对N连接和断开连接</h3>
<p>没什么需要讲的，就是定义的信号可以连接并发送给不同的槽，以及多个信号可以共用一个槽<br>断开连接上上一节已经使用过了，就是使用disconnect方法。<br>
<a name="uQOd6"></a></p>
<h3 id="为窗口添加信号">为窗口添加信号</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">WinSignal</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    button_clicked_signal = pyqtSignal()  <span class="comment"># 创建自定义信号</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(WinSignal, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&#x27;为窗口类增加信号&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.resize(<span class="number">300</span>, <span class="number">100</span>)</span><br><span class="line">        btn = QPushButton(<span class="string">&#x27;关闭窗口&#x27;</span>, <span class="variable language_">self</span>)</span><br><span class="line">        btn.clicked.connect(<span class="variable language_">self</span>.btn_clicked)</span><br><span class="line">        <span class="comment"># 将自定义信号与槽连接在一起</span></span><br><span class="line">        <span class="variable language_">self</span>.button_clicked_signal.connect(<span class="variable language_">self</span>.btn_close)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">btn_clicked</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 按钮被点击后进行发送自定义信号调用自定义信号的槽</span></span><br><span class="line">        <span class="variable language_">self</span>.button_clicked_signal.emit()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">btn_close</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 自定义信号调用的槽，功能是关闭窗口</span></span><br><span class="line">        <span class="variable language_">self</span>.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = WinSignal()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>点击关闭窗口后调用自定义信号所绑定的槽实现关闭窗口的功能。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648263389005-de6b94c8-1268-4dd6-b3ff-15fbe3bf3430.png#clientId=uef9b1ee7-2eb1-4&amp;from=paste&amp;height=139&amp;id=N2ZM9&amp;originHeight=139&amp;originWidth=316&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=4065&amp;status=done&amp;style=none&amp;taskId=ud72e465b-765b-4f8d-866d-f3a6c1b6c57&amp;title=&amp;width=316" alt="image.png"><br>
<a name="EcJHj"></a></p>
<h3 id="多线程更新UI数据（在两个线程中传递数据）">多线程更新UI数据（在两个线程中传递数据）</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BackendThread</span>(<span class="title class_ inherited__">QThread</span>):</span><br><span class="line">    <span class="comment"># 定义子线程,利用信号传递两个线程之间的数据</span></span><br><span class="line">    update_date = pyqtSignal(<span class="built_in">str</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">run</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            data = QDateTime.currentDateTime()  <span class="comment"># 获取当前时间</span></span><br><span class="line">            currentTime = data.toString(<span class="string">&quot;yyyy-MM-dd hh:mm:ss&quot;</span>)  <span class="comment"># 设置时间的格式</span></span><br><span class="line">            <span class="variable language_">self</span>.update_date.emit(<span class="built_in">str</span>(currentTime))  <span class="comment"># 发送信号</span></span><br><span class="line">            time.sleep(<span class="number">1</span>)  <span class="comment"># 时间的跳跃间隔</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ThreadUpdateUI</span>(<span class="title class_ inherited__">QDialog</span>):</span><br><span class="line">    <span class="comment"># 主进程</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        QDialog.__init__(<span class="variable language_">self</span>)</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&#x27;多线程更新UI数据&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.resize(<span class="number">400</span>, <span class="number">100</span>)</span><br><span class="line">        <span class="variable language_">self</span>.<span class="built_in">input</span> = QLineEdit(<span class="variable language_">self</span>)</span><br><span class="line">        <span class="variable language_">self</span>.<span class="built_in">input</span>.resize(<span class="number">400</span>, <span class="number">100</span>)</span><br><span class="line">        <span class="variable language_">self</span>.initUI()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">initUI</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.backend = BackendThread()</span><br><span class="line">        <span class="variable language_">self</span>.backend.update_date.connect(<span class="variable language_">self</span>.handleDisplay)</span><br><span class="line">        <span class="variable language_">self</span>.backend.start()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">handleDisplay</span>(<span class="params">self, data</span>):</span><br><span class="line">        <span class="variable language_">self</span>.<span class="built_in">input</span>.setText(data)  <span class="comment"># 将输入框显示的文本改为data(时间)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = ThreadUpdateUI()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648265459411-b569de09-9fea-410b-94e9-65d30daecadb.png#clientId=uef9b1ee7-2eb1-4&amp;from=paste&amp;height=139&amp;id=yx2R2&amp;originHeight=139&amp;originWidth=416&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=4866&amp;status=done&amp;style=none&amp;taskId=u9db9875a-d581-44cb-9874-394d4a5efb0&amp;title=&amp;width=416" alt="image.png"><br>
<a name="VFIzQ"></a></p>
<h3 id="信号与槽自动连接">信号与槽自动连接</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5 <span class="keyword">import</span> QtCore</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QApplication, QWidget, QHBoxLayout, QPushButton</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AutoSignalSlot</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(AutoSignalSlot, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.okButton = QPushButton(<span class="string">&#x27;ok&#x27;</span>, <span class="variable language_">self</span>)</span><br><span class="line">        <span class="variable language_">self</span>.okButton.setObjectName(<span class="string">&#x27;okButton&#x27;</span>) <span class="comment"># 给按钮起一个名字</span></span><br><span class="line">        <span class="variable language_">self</span>.okButton1 = QPushButton(<span class="string">&#x27;cancel&#x27;</span>, <span class="variable language_">self</span>)</span><br><span class="line">        <span class="variable language_">self</span>.okButton1.setObjectName(<span class="string">&#x27;cancelButton&#x27;</span>)</span><br><span class="line">        layout = QHBoxLayout()</span><br><span class="line">        layout.addWidget(<span class="variable language_">self</span>.okButton)</span><br><span class="line">        <span class="variable language_">self</span>.setLayout(layout)</span><br><span class="line">        <span class="variable language_">self</span>.resize(<span class="number">200</span>, <span class="number">100</span>)</span><br><span class="line">        QtCore.QMetaObject.connectSlotsByName(<span class="variable language_">self</span>)  <span class="comment"># 通过名字自动连接控件与槽</span></span><br><span class="line">        <span class="comment"># 传统手动绑定槽</span></span><br><span class="line">        <span class="comment"># self.okButton.clicked.connect(self.on_okButton_clicked)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @QtCore.pyqtSlot() </span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">on_okButton_clicked</span>(<span class="params">self</span>): <span class="comment"># 通过on_可以根据控件名字来自动连接控件与槽</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;点击了ok按钮&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @QtCore.pyqtSlot()</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">on_cancelButton_clicked</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;点击了cancel按钮&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = AutoSignalSlot()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648274346996-39fe14ac-b7c4-41f7-bbfc-5cafcecd07ed.png#clientId=uef9b1ee7-2eb1-4&amp;from=paste&amp;height=137&amp;id=q8htB&amp;originHeight=137&amp;originWidth=362&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=5338&amp;status=done&amp;style=none&amp;taskId=u3d5101ce-73ff-4adc-a954-7fc878fd206&amp;title=&amp;width=362" alt="image.png"><br>
<a name="qSx9n"></a></p>
<h3 id="用Lambda表达式为槽函数传递参数">用Lambda表达式为槽函数传递参数</h3>
<p>先介绍一下Lambda表达式<br>Lambda表达式名字叫做匿名函数，就是没有名字的函数。<br>目前个人理解：  lambda中的冒号前面是输入参数，冒号后面是返回值。 lambda函数本身是一个函数，可以通过将lambda函数赋值给一个变量，然后就可以通过变量间接的调用lambda函数<br>使用介绍：<br>fun = lambda: print(“hello world”)<br>fun()# 不需要输入直接返回 hello world<br>fun1 = lambda x, y: print(x, y)<br>fun1(“a”, “b”) # 输入两个参数x，y返回（x,y）<br>输出：<br>hello world<br>a b</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LambdaSlotArg</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(LambdaSlotArg, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&quot;使用Lambda表达式为槽函数传递参数&quot;</span>)</span><br><span class="line">        button1 = QPushButton(<span class="string">&quot;按钮1&quot;</span>)</span><br><span class="line">        button2 = QPushButton(<span class="string">&quot;按钮2&quot;</span>)</span><br><span class="line">        ok = <span class="number">100</span>  <span class="comment"># 使用Lambda表达式可以接收外部的变量</span></span><br><span class="line">        button1.clicked.connect(<span class="keyword">lambda</span>: <span class="variable language_">self</span>.onButtonClick(<span class="number">10</span>, ok))</span><br><span class="line">        button2.clicked.connect(<span class="keyword">lambda</span>: <span class="variable language_">self</span>.onButtonClick(ok, -<span class="number">20</span>))</span><br><span class="line">        button1.clicked.connect(<span class="keyword">lambda</span>: QMessageBox.information(<span class="variable language_">self</span>, <span class="string">&quot;结果&quot;</span>, <span class="string">&quot;单击了button1&quot;</span>))</span><br><span class="line">        layout = QHBoxLayout()</span><br><span class="line">        layout.addWidget(button1)</span><br><span class="line">        layout.addWidget(button2)</span><br><span class="line">        mainFrame = QWidget()</span><br><span class="line">        mainFrame.setLayout(layout)</span><br><span class="line">        <span class="variable language_">self</span>.setCentralWidget(mainFrame)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">onButtonClick</span>(<span class="params">self, m, n</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;m+n=&#x27;</span>, m + n)</span><br><span class="line">        QMessageBox.information(<span class="variable language_">self</span>, <span class="string">&#x27;结果&#x27;</span>, <span class="built_in">str</span>(m + n))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = LambdaSlotArg()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648276363255-e0eced07-bd80-4c4d-8ee4-b9d3bdc5972f.png#clientId=uef9b1ee7-2eb1-4&amp;from=paste&amp;height=218&amp;id=nhzWa&amp;originHeight=218&amp;originWidth=424&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=14224&amp;status=done&amp;style=none&amp;taskId=u9a90a8f7-3dda-404d-a04c-062e8a9731a&amp;title=&amp;width=424" alt="image.png"><br>
<a name="uP7FL"></a></p>
<h3 id="用partial对象为槽函数传递参数">用partial对象为槽函数传递参数</h3>
<p>partial介绍：和装饰器一样，它可以扩展函数的功能，但又不完成等价于装饰器。<br>使用时需要先导入partial模块<br>from functools import partial<br>partial使用：类func = functools.partial(func, <em>args, <em><em>keywords)  func为要增强的函数，args为元组类型数据（不需要在意名字，名字是什么无所谓，需要在意的是</em>），keywords为字典类型数据（不需要在意名字，名字是什么无所谓，需要在意的是</em></em>）   args和keywords这些数据为默认传入func的数据。<br>举例：<br>def add(*args):     <br>return sum(args) <br>add_100 = partial(add, 100)<br>print(add_100(1, 2, 3))  # 106<br>partial与lambda为槽函数传递参数的区别：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648277325580-a60917d7-5cfd-401a-915e-ac6c66b73f15.png#clientId=uef9b1ee7-2eb1-4&amp;from=paste&amp;height=52&amp;id=Gf5D8&amp;originHeight=52&amp;originWidth=505&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=9361&amp;status=done&amp;style=none&amp;taskId=ue3fa3b31-5604-4c51-9aa5-d2631b3577d&amp;title=&amp;width=505" alt="image.png"><br>
<a name="tdmvU"></a></p>
<h3 id="override-覆盖-槽函数">override(覆盖)槽函数</h3>
<p>举例覆盖系统自带的槽函数：KeyPressEvent 按下键盘时执行事件：<br>这段代码的功能就是新增了两个键盘对应事件：<br>当按下esc键时关闭程序<br>当按下alt键时更改窗口标题名</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">OverrideSlot</span>(<span class="title class_ inherited__">QWidget</span>) :</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(OverrideSlot, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&quot;Override(覆盖)槽函数&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">keyPressEvent</span>(<span class="params">self,e</span>) :  <span class="comment"># 覆盖系统的keyPressEvent函数（根据键盘对应事件，默认是不做事件）</span></span><br><span class="line">        <span class="keyword">if</span> e.key() == Qt.Key_Escape : <span class="comment"># 当按下ESC键时</span></span><br><span class="line">            <span class="variable language_">self</span>.close()</span><br><span class="line">        <span class="keyword">elif</span> e.key() == Qt.Key_Alt :</span><br><span class="line">            <span class="variable language_">self</span>.setWindowTitle(<span class="string">&quot;按下Alt键&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = OverrideSlot()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><a name="GRgvA"></a></p>
<h3 id="多窗口交互（1）：不使用信号与槽">多窗口交互（1）：不使用信号与槽</h3>
<p>多窗口交互介绍： 举例：在窗口1选择的内容在窗口2显示<br>如果不使用信号与槽那么就需要在窗口1直接调用窗口2的控件。<br>这种方法在编程方面更简单，但是缺点就是耦合性太强。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DateDialog</span>(<span class="title class_ inherited__">QDialog</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    窗口1.显示日期</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, parent=<span class="literal">None</span></span>):</span><br><span class="line">        <span class="built_in">super</span>(DateDialog, <span class="variable language_">self</span>).__init__(parent)</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&quot;DateDialog&quot;</span>)</span><br><span class="line">        layout = QVBoxLayout(<span class="variable language_">self</span>)</span><br><span class="line">        <span class="variable language_">self</span>.datetime = QDateTimeEdit(<span class="variable language_">self</span>)</span><br><span class="line">        <span class="variable language_">self</span>.datetime.setCalendarPopup(<span class="literal">True</span>)  <span class="comment"># 设置下拉模块</span></span><br><span class="line">        <span class="variable language_">self</span>.datetime.setDateTime(QDateTime.currentDateTime())  <span class="comment"># 设置日期为当前日期</span></span><br><span class="line">        layout.addWidget(<span class="variable language_">self</span>.datetime)</span><br><span class="line">        <span class="comment"># 使用按钮盒子类的实例</span></span><br><span class="line">        buttons = QDialogButtonBox(QDialogButtonBox.Ok | QDialogButtonBox.Cancel, Qt.Horizontal, <span class="variable language_">self</span>)</span><br><span class="line">        buttons.accepted.connect(<span class="variable language_">self</span>.accept)</span><br><span class="line">        buttons.rejected.connect(<span class="variable language_">self</span>.reject)</span><br><span class="line"></span><br><span class="line">        layout.addWidget(buttons)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">dateTime</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.datetime.dateTime()</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">getDateTime</span>(<span class="params">parent=<span class="literal">None</span></span>):</span><br><span class="line">        dialog = DateDialog(parent)</span><br><span class="line">        result = dialog.<span class="built_in">exec</span>()</span><br><span class="line">        date = dialog.dateTime()</span><br><span class="line">        <span class="keyword">return</span> (date.date(), date.time(), result == QDialog.Accepted)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MultiWindow1</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(MultiWindow1, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&quot;多窗口交互（1）：不使用信号与槽&quot;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.lineEdit = QLineEdit(<span class="variable language_">self</span>)</span><br><span class="line">        <span class="variable language_">self</span>.button1 = QPushButton(<span class="string">&quot;弹出对话框1&quot;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.button1.clicked.connect(<span class="variable language_">self</span>.onButton1Click)</span><br><span class="line">        <span class="variable language_">self</span>.button2 = QPushButton(<span class="string">&#x27;弹出对话框2&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.button2.clicked.connect(<span class="variable language_">self</span>.onButton2Click)</span><br><span class="line"></span><br><span class="line">        gridLayout = QGridLayout()</span><br><span class="line">        gridLayout.addWidget(<span class="variable language_">self</span>.lineEdit)</span><br><span class="line">        gridLayout.addWidget(<span class="variable language_">self</span>.button1)</span><br><span class="line">        gridLayout.addWidget(<span class="variable language_">self</span>.button2)</span><br><span class="line">        <span class="variable language_">self</span>.setLayout(gridLayout)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">onButton1Click</span>(<span class="params">self</span>):</span><br><span class="line">        dialog = DateDialog(<span class="variable language_">self</span>)</span><br><span class="line">        <span class="comment"># 直接访问控件</span></span><br><span class="line">        result = dialog.<span class="built_in">exec</span>()</span><br><span class="line">        date = dialog.dateTime()</span><br><span class="line">        <span class="variable language_">self</span>.lineEdit.setText(date.date().toString())</span><br><span class="line">        dialog.destroy()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">onButton2Click</span>(<span class="params">self</span>):</span><br><span class="line">        date, time, result = DateDialog.getDateTime()</span><br><span class="line">        <span class="variable language_">self</span>.lineEdit.setText(date.toString())</span><br><span class="line">        <span class="keyword">if</span> result == QDialog.Accepted:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;点击确定按钮&#x27;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;点击取消按钮&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = MultiWindow1()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648282956768-d10febfc-7333-4b4f-89b4-de7eebb0b74e.png#clientId=uef9b1ee7-2eb1-4&amp;from=paste&amp;height=152&amp;id=J91fT&amp;originHeight=152&amp;originWidth=425&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=11558&amp;status=done&amp;style=none&amp;taskId=ua0e61a51-299a-4e9e-a027-94bbbbf7aab&amp;title=&amp;width=425" alt="image.png"><br>
<a name="LUCTe"></a></p>
<h3 id="多窗口交互（2）：使用信号与槽">多窗口交互（2）：使用信号与槽</h3>
<p>如果一个窗口A和另一个窗口B交互，那么A尽量不要直接访问B窗口中的控件，应该访问B窗口中的信号，并指定与信号绑定的槽函数<br>例： 如果A直接访问B窗口的控件，一旦B窗口控件发生改变，那么A和B的代码都需要变化<br>如果A访问的是B中的信号，那么B中的控件发生了改变，只需要修改B中的代码即可。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">NewDateDialog</span>(<span class="title class_ inherited__">QDialog</span>):</span><br><span class="line">    Signal_OneParameter = pyqtSignal(<span class="built_in">str</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, parent=<span class="literal">None</span></span>):</span><br><span class="line">        <span class="built_in">super</span>(NewDateDialog, <span class="variable language_">self</span>).__init__(parent)</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&#x27;子窗口：用来发射信号&#x27;</span>)</span><br><span class="line">        <span class="comment"># 在布局中添加部件</span></span><br><span class="line">        layout = QVBoxLayout(<span class="variable language_">self</span>)</span><br><span class="line">        <span class="variable language_">self</span>.label = QLabel(<span class="variable language_">self</span>)</span><br><span class="line">        <span class="variable language_">self</span>.label.setText(<span class="string">&#x27;前者发射内置信号\n后者发射自定义信号&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.datetime_inner = QDateTimeEdit(<span class="variable language_">self</span>)</span><br><span class="line">        <span class="variable language_">self</span>.datetime_inner.setCalendarPopup(<span class="literal">True</span>)</span><br><span class="line">        <span class="variable language_">self</span>.datetime_inner.setDateTime(QDateTime.currentDateTime())</span><br><span class="line">        <span class="variable language_">self</span>.datetime_emit = QDateTimeEdit(<span class="variable language_">self</span>)</span><br><span class="line">        <span class="variable language_">self</span>.datetime_emit.setCalendarPopup(<span class="literal">True</span>)</span><br><span class="line">        <span class="variable language_">self</span>.datetime_emit.setDateTime(QDateTime.currentDateTime())</span><br><span class="line">        layout.addWidget(<span class="variable language_">self</span>.label)</span><br><span class="line">        layout.addWidget(<span class="variable language_">self</span>.datetime_inner)</span><br><span class="line">        layout.addWidget(<span class="variable language_">self</span>.datetime_emit)</span><br><span class="line">        <span class="comment"># 使用两个button(ok和cancel)分别连接accept()和reject()槽函数</span></span><br><span class="line">        buttons = QDialogButtonBox(</span><br><span class="line">            QDialogButtonBox.Ok | QDialogButtonBox.Cancel,</span><br><span class="line">            Qt.Horizontal, <span class="variable language_">self</span>)</span><br><span class="line">        buttons.accepted.connect(<span class="variable language_">self</span>.accept)</span><br><span class="line">        buttons.rejected.connect(<span class="variable language_">self</span>.reject)</span><br><span class="line">        layout.addWidget(buttons)</span><br><span class="line">        <span class="variable language_">self</span>.datetime_emit.dateTimeChanged.connect(<span class="variable language_">self</span>.emit_signal)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">emit_signal</span>(<span class="params">self</span>):</span><br><span class="line">        date_str = <span class="variable language_">self</span>.datetime_emit.dateTime().toString()</span><br><span class="line">        <span class="variable language_">self</span>.Signal_OneParameter.emit(date_str)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MultiWindow2</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, parent=<span class="literal">None</span></span>):</span><br><span class="line">        <span class="built_in">super</span>(MultiWindow2, <span class="variable language_">self</span>).__init__(parent)</span><br><span class="line">        <span class="variable language_">self</span>.resize(<span class="number">400</span>, <span class="number">90</span>)</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&#x27;多窗口交互（2）：使用信号与槽&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.open_btn = QPushButton(<span class="string">&#x27;获取时间&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.lineEdit_inner = QLineEdit(<span class="variable language_">self</span>)</span><br><span class="line">        <span class="variable language_">self</span>.lineEdit_emit = QLineEdit(<span class="variable language_">self</span>)</span><br><span class="line">        <span class="variable language_">self</span>.open_btn.clicked.connect(<span class="variable language_">self</span>.openDialog)</span><br><span class="line">        <span class="variable language_">self</span>.lineEdit_inner.setText(<span class="string">&#x27;接收子窗口内置信号的时间&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.lineEdit_emit.setText(<span class="string">&#x27;接收子窗口自定义信号的时间&#x27;</span>)</span><br><span class="line">        grid = QGridLayout()</span><br><span class="line">        grid.addWidget(<span class="variable language_">self</span>.lineEdit_inner)</span><br><span class="line">        grid.addWidget(<span class="variable language_">self</span>.lineEdit_emit)</span><br><span class="line">        grid.addWidget(<span class="variable language_">self</span>.open_btn)</span><br><span class="line">        <span class="variable language_">self</span>.setLayout(grid)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">openDialog</span>(<span class="params">self</span>):</span><br><span class="line">        dialog = NewDateDialog(<span class="variable language_">self</span>)</span><br><span class="line">        <span class="comment"># 连接子窗口的内置信号与主窗口的槽函数</span></span><br><span class="line">        dialog.datetime_inner.dateTimeChanged.connect(<span class="variable language_">self</span>.deal_inner_slot)</span><br><span class="line">        <span class="comment"># 连接子窗口的自定义信号与主窗口的槽函数</span></span><br><span class="line">        dialog.Signal_OneParameter.connect(<span class="variable language_">self</span>.deal_emit_slot)</span><br><span class="line">        dialog.show()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">deal_inner_slot</span>(<span class="params">self, date</span>):</span><br><span class="line">        <span class="variable language_">self</span>.lineEdit_inner.setText(date.toString())</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">deal_emit_slot</span>(<span class="params">self, dateStr</span>):</span><br><span class="line">        <span class="variable language_">self</span>.lineEdit_emit.setText(dateStr)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    form = MultiWindow2()</span><br><span class="line">    form.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><a name="sykiC"></a></p>
<h2 id="开发第一个基于PyQt5的桌面应用">开发第一个基于PyQt5的桌面应用</h2>
<p>PyQt5的类都是以Q开头的。<br>开发时必须使用两个类：<strong>QApplication</strong>(这个代表整个应用程序)和<strong>QWidget</strong>(这个代表应用窗口,也可以用<strong>QMainWindow</strong>，<strong>QDialog</strong>代替，详情在下面有讲)。这两个类都在PyQt5.QtWidget这个模块中。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QApplication, QWidget</span><br><span class="line"></span><br><span class="line"><span class="comment"># if语句的作用是，只有在first模块这里运行才会执行下面的语句，如果在其他模块中导入此模块不会执行下方的代码</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># sys.argv是用来获得命令行参数的，这里是创建一个程序名字叫app</span></span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    <span class="comment"># 创建一个窗口</span></span><br><span class="line">    w = QWidget()</span><br><span class="line">    <span class="comment"># 设置窗口的大小</span></span><br><span class="line">    w.resize(<span class="number">400</span>, <span class="number">200</span>)</span><br><span class="line">    <span class="comment"># 设置窗口的刚开始出现的位置</span></span><br><span class="line">    w.move(<span class="number">300</span>, <span class="number">300</span>)</span><br><span class="line">    <span class="comment"># 设置窗口的标题</span></span><br><span class="line">    w.setWindowTitle(<span class="string">&quot;第一个基于PyQt5的桌面应用&quot;</span>)</span><br><span class="line">    <span class="comment"># 显示窗口</span></span><br><span class="line">    w.show()</span><br><span class="line">    <span class="comment"># 进入程序的主循环、并通过exit函数确保主循环安全结束</span></span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>效果：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647260436304-b8cb00c3-e9d9-4f4a-a54a-f889af641c1e.png#clientId=u88a69422-e7a2-4&amp;from=paste&amp;height=239&amp;id=emFxb&amp;originHeight=239&amp;originWidth=416&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=6666&amp;status=done&amp;style=none&amp;taskId=u7237948c-a5ca-496f-943a-ba6c496f4c3&amp;title=&amp;width=416" alt="image.png"><br>
<a name="w5XG1"></a></p>
<h2 id="创建主窗口">创建主窗口</h2>
<p>有3种窗口<br>QMainWindow类生成的窗口自带菜单栏、工具栏和状态栏，中央区域还可以添加多个控件，常用来作为应用程序的主窗口<br>QWidget：所有的控件类都直接或者间接继承自 QWidget 类，它既可以用来制作窗口，也可以作为某个窗口上的控件。<br>QDialog：是对话窗口的基类，（对话窗口就是在主窗口里选择一个功能后，弹出的窗口，不关闭这个窗口是无法回到主窗口的。）没有菜单栏、工具栏、状态栏，但可以添加多个控件。<br>实际开发中，制作应用程序的主窗口可以用 QMainWindow 或者 QWdiget；制作一个提示信息的对话框就用 QDialog 或 QWidget；如果暂时无法决定，后续可能作为窗口，也可能作为控件，就选择 QWidget。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QApplication, QMainWindow</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> QIcon</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">FirstMainWin</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(FirstMainWin, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="comment"># 设置主窗口的标题</span></span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&quot;第一个主窗口应用&quot;</span>)</span><br><span class="line">        <span class="comment"># 设置主窗口的大小</span></span><br><span class="line">        <span class="variable language_">self</span>.resize(<span class="number">400</span>, <span class="number">300</span>)</span><br><span class="line">        <span class="comment"># 设置状态栏</span></span><br><span class="line">        <span class="variable language_">self</span>.status = <span class="variable language_">self</span>.statusBar()</span><br><span class="line">        <span class="variable language_">self</span>.status.showMessage(<span class="string">&#x27;只存在5秒的消息&#x27;</span>, <span class="number">5000</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># app为软件类的对象</span></span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    <span class="comment"># 设置软件窗口图标</span></span><br><span class="line">    app.setWindowIcon(QIcon(<span class="string">&#x27;./images/bool.png&#x27;</span>))</span><br><span class="line">    <span class="comment"># main为窗口类的对象</span></span><br><span class="line">    main = FirstMainWin()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>效果：其中下面的标签栏只会显示5秒钟就消失了<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647260467438-57201bd3-3ea3-4cfa-b1f0-a9ea73c2a830.png#clientId=u88a69422-e7a2-4&amp;from=paste&amp;height=339&amp;id=u7d386574&amp;originHeight=339&amp;originWidth=416&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=9090&amp;status=done&amp;style=none&amp;taskId=u23ee744b-3886-451e-8b4f-34a4d562e7f&amp;title=&amp;width=416" alt="image.png"></p>
<p><a name="RtJ28"></a></p>
<h2 id="退出应用程序">退出应用程序</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QHBoxLayout, QMainWindow, QApplication, QPushButton, QWidget</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QuitApplication</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(QuitApplication, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.resize(<span class="number">300</span>, <span class="number">120</span>)</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&quot;退出应用程序&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 添加button</span></span><br><span class="line">        <span class="variable language_">self</span>.button1 = QPushButton(<span class="string">&#x27;退出应用程序&#x27;</span>)</span><br><span class="line">        <span class="comment"># 将信号与槽关联</span></span><br><span class="line">        <span class="variable language_">self</span>.button1.clicked.connect(<span class="variable language_">self</span>.onClick_Button)</span><br><span class="line">        <span class="comment"># 创建一个水平布局</span></span><br><span class="line">        layout = QHBoxLayout()</span><br><span class="line">        <span class="comment"># 为布局添加按钮</span></span><br><span class="line">        layout.addWidget(<span class="variable language_">self</span>.button1)</span><br><span class="line">        <span class="comment"># 创建主框架</span></span><br><span class="line">        mainFrame = QWidget()</span><br><span class="line">        <span class="comment"># 将布局放到主框架上</span></span><br><span class="line">        mainFrame.setLayout(layout)</span><br><span class="line">        <span class="comment"># 使主框架设置在中央</span></span><br><span class="line">        <span class="variable language_">self</span>.setCentralWidget(mainFrame)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 按钮单击的事件（自定义的槽）</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">onClick_Button</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 得到发送信号的对象</span></span><br><span class="line">        sender = <span class="variable language_">self</span>.sender()</span><br><span class="line">        <span class="comment"># sender.text为发送信号的对象的名字</span></span><br><span class="line">        <span class="built_in">print</span>(sender.text() + <span class="string">&#x27;按钮被按下&#x27;</span>)</span><br><span class="line">        <span class="comment"># 获取APP实例对象</span></span><br><span class="line">        app = QApplication.instance()</span><br><span class="line">        <span class="comment"># 退出应用程序</span></span><br><span class="line">        app.quit()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># app为软件类的对象</span></span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    <span class="comment"># main为窗口类的对象</span></span><br><span class="line">    main = QuitApplication()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>
<p><a name="y7hpg"></a></p>
<h2 id="屏幕坐标系">屏幕坐标系</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QHBoxLayout, QMainWindow, QApplication, QPushButton, QWidget</span><br><span class="line"></span><br><span class="line">app = QApplication(sys.argv)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">onClicked_Button</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;1&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;widget.x()=%d&quot;</span> % widget.x())  <span class="comment"># 250 窗口横坐标</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;widget.y()=%d&quot;</span> % widget.y())  <span class="comment"># 200 窗口纵坐标</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;widget.width()=%d&quot;</span> % widget.width())  <span class="comment"># 300 工作区宽度</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;widget.height()=%d&quot;</span> % widget.height())  <span class="comment"># 240 工作区高度</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;2&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;widget.geometry().x() = %d&quot;</span> % widget.geometry().x())  <span class="comment"># 251 工作区横坐标</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;widget.geometry().y() = %d&quot;</span> % widget.geometry().y())  <span class="comment"># 231 工作区纵坐标</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;widget.geometry().width()=%d&quot;</span> % widget.geometry().width())  <span class="comment"># 300 工作区高度</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;widget.geometry().height()=%d&quot;</span> % widget.geometry().height())  <span class="comment"># 240 工作区宽度</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;3&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;widget.frameGeometry().x() = %d&quot;</span> % widget.frameGeometry().x())  <span class="comment"># 250 窗口横坐标</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;widget.frameGeometry().y() = %d&quot;</span> % widget.frameGeometry().y())  <span class="comment"># 200 窗口纵坐标</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;widget.frameGeometry().width()=%d&quot;</span> % widget.frameGeometry().width())  <span class="comment"># 302 窗口宽度</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;widget.frameGeometry().height()=%d&quot;</span> % widget.frameGeometry().height())  <span class="comment"># 272 窗口高度</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">widget = QWidget()</span><br><span class="line">btn = QPushButton(widget)</span><br><span class="line">btn.setText(<span class="string">&quot;按钮&quot;</span>)</span><br><span class="line">btn.clicked.connect(onClicked_Button)</span><br><span class="line">btn.move(<span class="number">24</span>, <span class="number">52</span>)</span><br><span class="line">widget.resize(<span class="number">300</span>, <span class="number">240</span>)</span><br><span class="line">widget.move(<span class="number">250</span>, <span class="number">200</span>)</span><br><span class="line">widget.setWindowTitle(<span class="string">&quot;屏幕坐标系&quot;</span>)</span><br><span class="line">widget.show()</span><br><span class="line">sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>
<p><a name="wOr0n"></a></p>
<h2 id="设置窗口和应用图标">设置窗口和应用图标</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QApplication, QMainWindow</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> QIcon</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">iconForm</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(iconForm, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.initUI()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">initUI</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 设置主窗口的标题</span></span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&quot;设置窗口图标&quot;</span>)</span><br><span class="line">        <span class="comment"># 设置主窗口的xy轴坐标以及宽和高</span></span><br><span class="line">        <span class="variable language_">self</span>.setGeometry(<span class="number">300</span>, <span class="number">300</span>, <span class="number">250</span>, <span class="number">250</span>)</span><br><span class="line">        <span class="comment"># 设置窗口的图标</span></span><br><span class="line">        <span class="variable language_">self</span>.setWindowIcon(QIcon(<span class="string">&#x27;./images/bool.png&#x27;</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># app为软件类的对象</span></span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    <span class="comment"># main为窗口类的对象</span></span><br><span class="line">    main = iconForm()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><a name="g2cqN"></a></p>
<h2 id="为控件添加提示信息">为控件添加提示信息</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 显示提示消息</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QHBoxLayout, QMainWindow, QApplication, QPushButton, QWidget, QToolTip</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> QFont</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TooltipForm</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(TooltipForm, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.initUI()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">initUI</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 设置字体类型以及字号</span></span><br><span class="line">        QToolTip.setFont(QFont(<span class="string">&#x27;SansSerif&#x27;</span>, <span class="number">12</span>))</span><br><span class="line">        <span class="comment"># 设置提示信息，其中&lt;b&gt;&lt;\b&gt;之间的内容用黑体字</span></span><br><span class="line">        <span class="variable language_">self</span>.setToolTip(<span class="string">&quot;今天是&lt;b&gt;星期五&lt;\b&gt;&quot;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.setGeometry(<span class="number">300</span>, <span class="number">300</span>, <span class="number">200</span>, <span class="number">300</span>)</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&quot;显示控件提示消息&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.button1 = QPushButton(<span class="string">&quot;我的按钮&quot;</span>)</span><br><span class="line">        <span class="comment"># 为按钮设置提示信息</span></span><br><span class="line">        <span class="variable language_">self</span>.button1.setToolTip(<span class="string">&quot;提示：这是一个按钮&quot;</span>)</span><br><span class="line">        <span class="comment"># 创建一个水平布局</span></span><br><span class="line">        layout = QHBoxLayout()</span><br><span class="line">        <span class="comment"># 为布局添加按钮</span></span><br><span class="line">        layout.addWidget(<span class="variable language_">self</span>.button1)</span><br><span class="line">        <span class="comment"># 创建主框架</span></span><br><span class="line">        mainFrame = QWidget()</span><br><span class="line">        <span class="comment"># 将布局放到主框架上</span></span><br><span class="line">        mainFrame.setLayout(layout)</span><br><span class="line">        <span class="comment"># 使主框架设置在中央</span></span><br><span class="line">        <span class="variable language_">self</span>.setCentralWidget(mainFrame)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># app为软件类的对象</span></span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    <span class="comment"># main为窗口类的对象</span></span><br><span class="line">    main = TooltipForm()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>效果：<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647322741267-6b7b60af-033d-4746-9dec-0407eba4f7d3.png#clientId=uf114e347-edf6-4&amp;from=paste&amp;height=335&amp;id=ucd4ec8a7&amp;originHeight=335&amp;originWidth=242&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=10216&amp;status=done&amp;style=none&amp;taskId=u4d5d63a5-a24b-4234-bb1b-303450c6620&amp;title=&amp;width=242" alt="image.png"><br>
<a name="LMMkD"></a></p>
<h2 id="QLabel控件的基本用法">QLabel控件的基本用法</h2>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647322924692-c67931a6-7c8c-4d3e-8f5a-b639e74ab496.png#clientId=uf114e347-edf6-4&amp;from=paste&amp;height=560&amp;id=ud107c52b&amp;originHeight=560&amp;originWidth=542&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=174991&amp;status=done&amp;style=none&amp;taskId=u2f246592-0605-46ca-b97e-f0fd5ffb03a&amp;title=&amp;width=542" alt="image.png"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647323939979-08d2fb4f-60c5-44a8-80ce-14f699a7b35d.png#clientId=uf114e347-edf6-4&amp;from=paste&amp;height=119&amp;id=ub74711d6&amp;originHeight=119&amp;originWidth=701&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=88398&amp;status=done&amp;style=none&amp;taskId=ub6be560a-b934-42b0-9f15-d2c2dc67ad6&amp;title=&amp;width=701" alt="image.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QVBoxLayout, QMainWindow, QApplication, QWidget, QLabel</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> QPalette, QPixmap</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> Qt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QLabelDemo</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(QLabelDemo, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.initUI()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">initUI</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 创建标签</span></span><br><span class="line">        label1 = QLabel(<span class="variable language_">self</span>)</span><br><span class="line">        label2 = QLabel(<span class="variable language_">self</span>)</span><br><span class="line">        label3 = QLabel(<span class="variable language_">self</span>)</span><br><span class="line">        label4 = QLabel(<span class="variable language_">self</span>)</span><br><span class="line">        <span class="comment"># 为标签1添加文本信息</span></span><br><span class="line">        label1.setText(<span class="string">&quot;&lt;font color=yellow&gt;这是一个文本标签。&lt;/font&gt;&quot;</span>)</span><br><span class="line">        <span class="comment"># 使标签填充背景</span></span><br><span class="line">        label1.setAutoFillBackground(<span class="literal">True</span>)</span><br><span class="line">        <span class="comment"># 创建调色板</span></span><br><span class="line">        palette = QPalette()</span><br><span class="line">        <span class="comment"># 设置背景色,设置颜色需要用到Qt，Qt需要from PyQt5.QtCore import Qt</span></span><br><span class="line">        palette.setColor(QPalette.Window, Qt.blue)</span><br><span class="line">        <span class="comment"># 使标签1使用调色板的颜色</span></span><br><span class="line">        label1.setPalette(palette)</span><br><span class="line">        <span class="comment"># 设置对齐方式：(居中)</span></span><br><span class="line">        label1.setAlignment(Qt.AlignCenter)</span><br><span class="line">        <span class="comment"># 将标签2设置为超链接:超链接的写法：  a  href= 链接</span></span><br><span class="line">        label2.setText(<span class="string">&quot;&lt;a href=&#x27;#&#x27;&gt;欢迎使用Python GUI程序&lt;/a&gt;&quot;</span>)</span><br><span class="line">        <span class="comment"># 标签3为图片显示</span></span><br><span class="line">        <span class="comment"># 设置标签3为居中对齐</span></span><br><span class="line">        label3.setAlignment(Qt.AlignCenter)</span><br><span class="line">        <span class="comment"># 设置标签3的提示</span></span><br><span class="line">        label3.setToolTip(<span class="string">&#x27;这是一个图片标签&#x27;</span>)</span><br><span class="line">        <span class="comment"># 设置标签3的图片</span></span><br><span class="line">        label3.setPixmap(QPixmap(<span class="string">&quot;./images/bool.png&quot;</span>))</span><br><span class="line">        <span class="comment"># 为标签4设置扩展链接功能，为True时就允许跳转到超链接内容不连接槽函数，为False时就只连接槽函数</span></span><br><span class="line">        label4.setOpenExternalLinks(<span class="literal">True</span>)</span><br><span class="line">        label4.setText(<span class="string">&quot;&lt;a href=&#x27;https://wallhaven.cc&#x27;&gt;壁纸网站&lt;/a&gt;&quot;</span>)</span><br><span class="line">        <span class="comment"># 将标签4对齐方式设置为向右对齐</span></span><br><span class="line">        label4.setAlignment(Qt.AlignRight)</span><br><span class="line">        label4.setToolTip(<span class="string">&quot;这是一个超级链接&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 创建一个垂直布局内容为4个标签</span></span><br><span class="line">        vbox = QVBoxLayout()</span><br><span class="line">        vbox.addWidget(label1)</span><br><span class="line">        vbox.addWidget(label2)</span><br><span class="line">        vbox.addWidget(label3)</span><br><span class="line">        vbox.addWidget(label4)</span><br><span class="line">        <span class="comment"># 关联槽 linkHovered为滑动到时触发，linkActivated为点击时触发</span></span><br><span class="line">        label2.linkHovered.connect(<span class="variable language_">self</span>.linkHovered)</span><br><span class="line">        label4.linkActivated.connect(<span class="variable language_">self</span>.linkClicked)</span><br><span class="line">        <span class="comment"># 添加布局</span></span><br><span class="line">        <span class="variable language_">self</span>.setLayout(vbox)</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&quot;QLabel控件演示&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">linkHovered</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;鼠标滑动到了label2标签并触发了事件&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">linkClicked</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;鼠标点击了label4标签并触发了事件&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = QLabelDemo()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>运行效果：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647332029683-3cccc7c1-4733-4589-9edc-2dbad23f3b93.png#clientId=uf114e347-edf6-4&amp;from=paste&amp;height=321&amp;id=uf73d1243&amp;originHeight=321&amp;originWidth=238&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=19629&amp;status=done&amp;style=none&amp;taskId=u105ac4f7-5915-4fde-a0eb-c9ca0fe473d&amp;title=&amp;width=238" alt="image.png"><br>
<a name="W5tbb"></a></p>
<h2 id="QLabel与伙伴控件">QLabel与伙伴控件</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建一个对话框类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QlabelBuddy</span>(<span class="title class_ inherited__">QDialog</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(QlabelBuddy, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.initUI()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">initUI</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&quot;QLabel与伙伴控件&quot;</span>)</span><br><span class="line">        <span class="comment"># &amp;的作用是热键，使用窗口时按alt+n可以快速选中Name标签</span></span><br><span class="line">        nameLabel = QLabel(<span class="string">&#x27;&amp;Name&#x27;</span>, <span class="variable language_">self</span>)</span><br><span class="line">        <span class="comment"># 添加一个文本输入框</span></span><br><span class="line">        nameLineEdit = QLineEdit(<span class="variable language_">self</span>)</span><br><span class="line">        <span class="comment"># 将nameLineEdit设置为nameLabel的伙伴控件</span></span><br><span class="line">        nameLabel.setBuddy(nameLineEdit)</span><br><span class="line"></span><br><span class="line">        passwordnameLabel = QLabel(<span class="string">&#x27;&amp;password&#x27;</span>, <span class="variable language_">self</span>)</span><br><span class="line">        passwordnameLineEdit = QLineEdit(<span class="variable language_">self</span>)</span><br><span class="line">        passwordnameLabel.setBuddy(passwordnameLineEdit)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 创建按钮</span></span><br><span class="line">        btnOK = QPushButton(<span class="string">&quot;&amp;OK&quot;</span>)</span><br><span class="line">        btnCancel = QPushButton(<span class="string">&quot;&amp;Cancel&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 创建栅格布局</span></span><br><span class="line">        mainLayout = QGridLayout(<span class="variable language_">self</span>)</span><br><span class="line">        <span class="comment"># 设置栅格布局  addWidget后面的参数的意思： 第一个为控件名，第二个为创建的位置，数值为行列的下标，最后两个控制的是长度与宽度。</span></span><br><span class="line">        mainLayout.addWidget(nameLabel, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">        mainLayout.addWidget(nameLineEdit, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">        mainLayout.addWidget(passwordnameLabel, <span class="number">1</span>, <span class="number">0</span>)</span><br><span class="line">        mainLayout.addWidget(passwordnameLineEdit, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">        mainLayout.addWidget(btnOK, <span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line">        mainLayout.addWidget(btnCancel, <span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># app为软件类的对象</span></span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = QlabelBuddy()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>效果：<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647335276347-8744e246-c810-475d-a523-ff6582882290.png#clientId=uf114e347-edf6-4&amp;from=paste&amp;height=136&amp;id=u744a9efa&amp;originHeight=136&amp;originWidth=248&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=4084&amp;status=done&amp;style=none&amp;taskId=u73285f56-9388-41f6-bd13-f5a96779720&amp;title=&amp;width=248" alt="image.png"><br>
<a name="oWzUx"></a></p>
<h2 id="QLIneEdit">QLIneEdit</h2>
<p><a name="rFs3x"></a></p>
<h3 id="QLineEdit控件和回显模式">QLineEdit控件和回显模式</h3>
<p>QLineEdit控件上一节使用过，就是这个<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647340548242-61d3ebb1-b041-4dc3-a45b-0a515ead59e8.png#clientId=uf114e347-edf6-4&amp;from=paste&amp;height=70&amp;id=u8cef439b&amp;originHeight=70&amp;originWidth=241&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=1263&amp;status=done&amp;style=none&amp;taskId=u2f912d74-e9d6-430d-b955-8295ec95e49&amp;title=&amp;width=241" alt="image.png">生成可编辑的文字框。<br>EchoMode回显模式<br>回显模式有四种：<br>1.Normal 就是正常的输入后显示输出<br>2.NoEcho 意思是输入后什么都不显示在屏幕上，但是机器能够读取到。<br>3.Password 意思是输入后以符号表示输入。<br>4.PasswordEchoOnEdit 意思是编辑时显示正常，不编辑时显示符号。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QLineEditEchoMode</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(QLineEditEchoMode, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.initUI()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">initUI</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&quot;文本输入框的回显模式&quot;</span>)</span><br><span class="line">        <span class="comment"># 创建一个表单布局</span></span><br><span class="line">        formLayout = QFormLayout()</span><br><span class="line">        <span class="comment"># 创建4个可输入文本框</span></span><br><span class="line">        normalLineEdit = QLineEdit()</span><br><span class="line">        noEchoLineEdit = QLineEdit()</span><br><span class="line">        passworldLineEdit = QLineEdit()</span><br><span class="line">        passwordEchoOnEditLineEdit = QLineEdit()</span><br><span class="line">        <span class="comment"># 为表单布局添加文字和可输入文本框</span></span><br><span class="line">        formLayout.addRow(<span class="string">&quot;Normal&quot;</span>, normalLineEdit)</span><br><span class="line">        formLayout.addRow(<span class="string">&quot;NoEcho&quot;</span>, noEchoLineEdit)</span><br><span class="line">        formLayout.addRow(<span class="string">&quot;Passworld&quot;</span>, passworldLineEdit)</span><br><span class="line">        formLayout.addRow(<span class="string">&quot;PasswordEchoOnEdit&quot;</span>, passwordEchoOnEditLineEdit)</span><br><span class="line">        <span class="comment"># 为文本框添加提示信息</span></span><br><span class="line">        normalLineEdit.setPlaceholderText(<span class="string">&quot;Normal&quot;</span>)</span><br><span class="line">        noEchoLineEdit.setPlaceholderText(<span class="string">&quot;NoEcho&quot;</span>)</span><br><span class="line">        passworldLineEdit.setPlaceholderText(<span class="string">&quot;Password&quot;</span>)</span><br><span class="line">        passwordEchoOnEditLineEdit.setPlaceholderText(<span class="string">&quot;PasswordEchoOnEdit&quot;</span>)</span><br><span class="line">        <span class="comment"># 为文本框设置回显模式</span></span><br><span class="line">        normalLineEdit.setEchoMode(QLineEdit.Normal)</span><br><span class="line">        noEchoLineEdit.setEchoMode(QLineEdit.NoEcho)</span><br><span class="line">        passworldLineEdit.setEchoMode(QLineEdit.Password)</span><br><span class="line">        passwordEchoOnEditLineEdit.setEchoMode(QLineEdit.PasswordEchoOnEdit)</span><br><span class="line">        <span class="comment"># 赋予布局</span></span><br><span class="line">        <span class="variable language_">self</span>.setLayout(formLayout)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># app为软件类的对象</span></span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    <span class="comment"># main为窗口类的对象</span></span><br><span class="line">    main = QLineEditEchoMode()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>效果：<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647344702540-17fd4432-be8d-40d7-9cae-6c9af0339174.png#clientId=uf114e347-edf6-4&amp;from=paste&amp;height=159&amp;id=udbea8816&amp;originHeight=159&amp;originWidth=285&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=9089&amp;status=done&amp;style=none&amp;taskId=u612440e5-7533-48d9-8b0d-adee25d86a7&amp;title=&amp;width=285" alt="image.png"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647344718175-1c00274b-5146-4c63-ad43-c293a76f44f4.png#clientId=uf114e347-edf6-4&amp;from=paste&amp;height=159&amp;id=uce166ccf&amp;originHeight=159&amp;originWidth=285&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=8596&amp;status=done&amp;style=none&amp;taskId=u90024915-b0c3-4a16-84d0-cf8c07a26e7&amp;title=&amp;width=285" alt="image.png"><br>其中passwordechoonedit是输入是为数字切换到其他框后就变成圆圈，noecho是已经输入了但是不显示在屏幕上<br>
<a name="l7K1J"></a></p>
<h3 id="限制QLineEdit控件的输入（校验器）">限制QLineEdit控件的输入（校验器）</h3>
<p>限制举例： 只能输入整数、浮点数或满足一定条件的字符串</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Validator翻译名字叫校验器，因此导入这三个分别是校验整型，模块，正则表达式的。</span></span><br><span class="line"><span class="comment"># QRegExp是正则表达式需要的</span></span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> QIntValidator, QDoubleValidator, QRegExpValidator</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> QRegExp</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QLineEditValidator</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(QLineEditValidator, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.initUI()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">initUI</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&quot;校验器&quot;</span>)</span><br><span class="line">        <span class="comment"># 创建表单布局</span></span><br><span class="line">        formLayout = QFormLayout()</span><br><span class="line">        <span class="comment"># 创建三个输入框</span></span><br><span class="line">        intLineEdit = QLineEdit()</span><br><span class="line">        doubleLineEdit = QLineEdit()</span><br><span class="line">        validatorLineEdit = QLineEdit()</span><br><span class="line">        <span class="comment"># 为布局添加控件</span></span><br><span class="line">        formLayout.addRow(<span class="string">&quot;整数类型&quot;</span>, intLineEdit)</span><br><span class="line">        formLayout.addRow(<span class="string">&quot;浮点类型&quot;</span>, doubleLineEdit)</span><br><span class="line">        formLayout.addRow(<span class="string">&quot;数字和字母&quot;</span>, validatorLineEdit)</span><br><span class="line">        <span class="comment"># 为输入框添加提示信息</span></span><br><span class="line">        intLineEdit.setPlaceholderText(<span class="string">&quot;整型&quot;</span>)</span><br><span class="line">        doubleLineEdit.setPlaceholderText(<span class="string">&quot;浮点型&quot;</span>)</span><br><span class="line">        validatorLineEdit.setPlaceholderText(<span class="string">&quot;字母和数字&quot;</span>)</span><br><span class="line">        <span class="comment"># 创建校验器</span></span><br><span class="line">        <span class="comment"># 整数校验器 限制范围为1~99</span></span><br><span class="line">        intValidator = QIntValidator()</span><br><span class="line">        intValidator.setRange(<span class="number">1</span>, <span class="number">99</span>)</span><br><span class="line">        <span class="comment"># 浮点校验器 限制范围为-360~360</span></span><br><span class="line">        doubleValidator = QDoubleValidator()</span><br><span class="line">        doubleValidator.setRange(-<span class="number">360</span>, <span class="number">360</span>)</span><br><span class="line">        <span class="comment"># 设置浮点数显示模式为标准的模式</span></span><br><span class="line">        doubleValidator.setNotation(QDoubleValidator.StandardNotation)</span><br><span class="line">        <span class="comment"># 设置浮点数精度为2位</span></span><br><span class="line">        doubleValidator.setDecimals(<span class="number">2</span>)</span><br><span class="line">        <span class="comment"># 数字和字母校验器</span></span><br><span class="line">        <span class="comment"># reg为正则表达式</span></span><br><span class="line">        reg = QRegExp(<span class="string">&quot;[a-zA-Z0-9]+$&quot;</span>)</span><br><span class="line">        validator = QRegExpValidator()</span><br><span class="line">        validator.setRegExp(reg)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 将校验器与输入框进行绑定</span></span><br><span class="line">        intLineEdit.setValidator(intValidator)</span><br><span class="line">        doubleLineEdit.setValidator(doubleValidator)</span><br><span class="line">        validatorLineEdit.setValidator(validator)</span><br><span class="line">        <span class="comment"># 设置布局</span></span><br><span class="line">        <span class="variable language_">self</span>.setLayout(formLayout)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># app为软件类的对象</span></span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = QLineEditValidator()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647605511430-c77497f0-0f6a-47cd-90af-80a1221ae564.png#clientId=ub4e90a3e-b8bb-4&amp;from=paste&amp;height=133&amp;id=u446c7ef2&amp;originHeight=133&amp;originWidth=237&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=5380&amp;status=done&amp;style=none&amp;taskId=ub7dec920-03c5-4062-9f9e-16239c206fa&amp;title=&amp;width=237" alt="image.png"><br>
<a name="mHpQu"></a></p>
<h3 id="使用掩码限制QLineEdit控件的输入">使用掩码限制QLineEdit控件的输入</h3>
<p>字符	含义<br>A	ASCII字母字符是必须输入的（A-Z，a-z）<br>a	ASCII字母字符是允许输入的，但不是必须输入的<br>N	ASCII字母字符是必须输入的（A-Z，a-z，0-9）<br>n	ASCII字母字符是允许输入的，但不是必须输入的<br>X	任何字符都是必须输入<br>x	任何字符都是允许输入的，但不是必须输入的<br>9	ASCII数字字符是必须输入的（0-9）<br>0	ASCII数字字符是允许输入的，但不是必须输入的<br>D	ASCII数字字符是必须输入的（1-9）<br>d	ASCII数字字符是允许输入的，但不是必须的（1-9）<br>#	ASCII数字字符与加减字符是允许输入的，但不是必须的<br>H	十六进制格式字符是必须输入的（A-F，a-f，0-9）<br>h	十六进制格式字符允许输入，但不是必须的<br>B	二进制格式字符是必须输入的（0,1）<br>b	二进制格式字符是允许输入的，但不是必须的<br>&gt;	所有字母字符都大写<br>&lt;	所有字母字符都小写<br>！	关闭大小写转换<br>\	使用‘\’转义上面列出的字符</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QLIneEditMask</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(QLIneEditMask, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.initUI()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">initUI</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&quot;用掩码限制QLineEdit控件的输入&quot;</span>)</span><br><span class="line">        formlayout = QFormLayout()</span><br><span class="line"></span><br><span class="line">        ipLineEdit = QLineEdit()</span><br><span class="line">        macLineEdit = QLineEdit()</span><br><span class="line">        dateLineEdit = QLineEdit()</span><br><span class="line">        licenseLineEdit = QLineEdit()</span><br><span class="line">        <span class="comment"># 为输入框设置掩码限制输入</span></span><br><span class="line">        <span class="comment"># 掩码中分号后面为当没有输入时默认的显示信息</span></span><br><span class="line">        ipLineEdit.setInputMask(<span class="string">&#x27;000.000.000.000;_&#x27;</span>)</span><br><span class="line">        macLineEdit.setInputMask(<span class="string">&#x27;HH:HH:HH:HH:HH:HH;_&#x27;</span>)</span><br><span class="line">        dateLineEdit.setInputMask(<span class="string">&#x27;0000-00-00&#x27;</span>)</span><br><span class="line">        licenseLineEdit.setInputMask(<span class="string">&#x27;&gt;AAAAA-AAAAA-AAAAA-AAAAA-AAAAA;#&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        formlayout.addRow(<span class="string">&#x27;数字掩码&#x27;</span>, ipLineEdit)</span><br><span class="line">        formlayout.addRow(<span class="string">&#x27;Mac掩码&#x27;</span>, macLineEdit)</span><br><span class="line">        formlayout.addRow(<span class="string">&#x27;日期掩码&#x27;</span>, dateLineEdit)</span><br><span class="line">        formlayout.addRow(<span class="string">&#x27;许可证掩码&#x27;</span>, licenseLineEdit)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.setLayout(formlayout)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># app为软件类的对象</span></span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = QLIneEditMask()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647606809007-851ef42c-6a0f-4b9a-8e27-6a9c469ece23.png#clientId=ub4e90a3e-b8bb-4&amp;from=paste&amp;height=159&amp;id=udef11c6c&amp;originHeight=159&amp;originWidth=237&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=7157&amp;status=done&amp;style=none&amp;taskId=uca9aa79d-2463-428d-9a3f-3a01c6df5cd&amp;title=&amp;width=237" alt="image.png"><br>
<a name="NpcZh"></a></p>
<h3 id="QLineEdit控件综合案例">QLineEdit控件综合案例</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> Qt</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QLineEditDemo</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(QLineEditDemo, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.initUI()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">initUI</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 创建输入框1并使用int校验器</span></span><br><span class="line">        edit1 = QLineEdit()</span><br><span class="line">        edit1.setValidator(QIntValidator())</span><br><span class="line">        edit1.setMaxLength(<span class="number">4</span>)  <span class="comment"># 设置最大位数</span></span><br><span class="line">        edit1.setAlignment(Qt.AlignRight)  <span class="comment"># 使输入框1的数值向右对齐</span></span><br><span class="line">        edit1.setFont(QFont(<span class="string">&#x27;Arial&#x27;</span>, <span class="number">10</span>))</span><br><span class="line">        <span class="comment"># 创建输入框2并使用double校验器</span></span><br><span class="line">        <span class="comment"># 这个教程中有bug，实测不能设置数字范围以及精度，因此改了一下</span></span><br><span class="line">        <span class="comment"># edit2.setValidator(QDoubleValidator(0.99,99,2,)) # 为输入框2设置校验器并提供数字范围以及精度为2(教程中讲的有bug)</span></span><br><span class="line">        edit2 = QLineEdit()</span><br><span class="line">        doubleValidator = QDoubleValidator()</span><br><span class="line">        doubleValidator.setRange(<span class="number">0.99</span>, <span class="number">99</span>)</span><br><span class="line">        <span class="comment"># 设置浮点数显示模式为标准的模式</span></span><br><span class="line">        doubleValidator.setNotation(QDoubleValidator.StandardNotation)</span><br><span class="line">        <span class="comment"># 设置浮点数精度为2位</span></span><br><span class="line">        doubleValidator.setDecimals(<span class="number">2</span>)</span><br><span class="line">        edit2.setValidator(doubleValidator)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 创建输入框3并使用掩码校验</span></span><br><span class="line">        edit3 = QLineEdit()</span><br><span class="line">        edit3.setInputMask(<span class="string">&quot;99_9999_999999;#&quot;</span>)</span><br><span class="line">        <span class="comment"># 创建输入框4并与槽连接</span></span><br><span class="line">        edit4 = QLineEdit()</span><br><span class="line">        edit4.textChanged.connect(<span class="variable language_">self</span>.textChanged)  <span class="comment"># 当文本改变的时候执行槽的方法</span></span><br><span class="line">        <span class="comment"># 创建输入框5并使用密码回显模式并与槽连接</span></span><br><span class="line">        edit5 = QLineEdit()</span><br><span class="line">        edit5.setEchoMode(QLineEdit.Password)</span><br><span class="line">        edit5.editingFinished.connect(<span class="variable language_">self</span>.enterPress)  <span class="comment"># 当文本输入时执行槽的方法</span></span><br><span class="line">        <span class="comment"># 创建输入框6并将输入框设置为只读模式</span></span><br><span class="line">        edit6 = QLineEdit()</span><br><span class="line">        edit6.setReadOnly(<span class="literal">True</span>)</span><br><span class="line">        <span class="comment"># 创建表单布局</span></span><br><span class="line">        formlayout = QFormLayout()</span><br><span class="line">        formlayout.addRow(<span class="string">&quot;整数校验&quot;</span>, edit1)</span><br><span class="line">        formlayout.addRow(<span class="string">&quot;浮点数校验&quot;</span>, edit2)</span><br><span class="line">        formlayout.addRow(<span class="string">&quot;Input Mask&quot;</span>, edit3)</span><br><span class="line">        formlayout.addRow(<span class="string">&quot;文本变化&quot;</span>, edit4)</span><br><span class="line">        formlayout.addRow(<span class="string">&quot;密码&quot;</span>, edit5)</span><br><span class="line">        formlayout.addRow(<span class="string">&quot;只读&quot;</span>, edit6)</span><br><span class="line">        <span class="variable language_">self</span>.setLayout(formlayout)</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&quot;QLineEdit综合案例&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">textChanged</span>(<span class="params">self, text</span>):  <span class="comment"># 当文本输入内容发生变化时执行</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;输入的内容:&#x27;</span> + text)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">enterPress</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;已输入值&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># app为软件类的对象</span></span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    <span class="comment"># main为窗口类的对象</span></span><br><span class="line">    main = QLineEditDemo()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647611094512-9f599869-0e7e-4a33-a625-2442899e5e4a.png#clientId=ub4e90a3e-b8bb-4&amp;from=paste&amp;height=213&amp;id=ub6644fee&amp;originHeight=213&amp;originWidth=254&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=9618&amp;status=done&amp;style=none&amp;taskId=u8f3467d7-1b75-404e-8395-3b41320dd60&amp;title=&amp;width=254" alt="image.png"><br>
<a name="RQfPd"></a></p>
<h2 id="使用QTextEdit控件输入多行文本">使用QTextEdit控件输入多行文本</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QTextEditDemo</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(QTextEditDemo, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.initUI()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">initUI</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&quot;QTextEdit控件演示&quot;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.resize(<span class="number">300</span>, <span class="number">320</span>)</span><br><span class="line">        <span class="variable language_">self</span>.textEdit = QTextEdit()</span><br><span class="line">        <span class="comment"># 设置按钮 因为需要绑定信号与槽，所以需要使用self.来使槽能够调用属性</span></span><br><span class="line">        buttonText = QPushButton(<span class="string">&quot;显示文本&quot;</span>)</span><br><span class="line">        buttonHTML = QPushButton(<span class="string">&quot;显示HTML&quot;</span>)</span><br><span class="line">        buttonToText = QPushButton(<span class="string">&quot;获取文本&quot;</span>)</span><br><span class="line">        buttonToHTML = QPushButton(<span class="string">&quot;获取HTML&quot;</span>)</span><br><span class="line">        <span class="comment"># 设置垂直布局</span></span><br><span class="line">        layout = QVBoxLayout()</span><br><span class="line">        layout.addWidget(<span class="variable language_">self</span>.textEdit)</span><br><span class="line">        layout.addWidget(buttonText)</span><br><span class="line">        layout.addWidget(buttonToText)</span><br><span class="line">        layout.addWidget(buttonHTML)</span><br><span class="line">        layout.addWidget(buttonToHTML)</span><br><span class="line">        <span class="variable language_">self</span>.setLayout(layout)</span><br><span class="line">        <span class="comment"># 绑定信号与槽</span></span><br><span class="line">        buttonText.clicked.connect(<span class="variable language_">self</span>.onClick_ButtonText)</span><br><span class="line">        buttonToText.clicked.connect(<span class="variable language_">self</span>.onClick_ButtonToText)</span><br><span class="line">        buttonHTML.clicked.connect(<span class="variable language_">self</span>.onClick_ButtonHTML)</span><br><span class="line">        buttonToHTML.clicked.connect(<span class="variable language_">self</span>.onClick_ButtonToHTML)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">onClick_ButtonText</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 设置一般文本</span></span><br><span class="line">        <span class="variable language_">self</span>.textEdit.setPlainText(<span class="string">&#x27;Hello World,世界你好吗？&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">onClick_ButtonToText</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 获取一般文本</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="variable language_">self</span>.textEdit.toPlainText())</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">onClick_ButtonHTML</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 设置html文本 颜色为蓝色 大小为5 输出Hello World</span></span><br><span class="line">        <span class="variable language_">self</span>.textEdit.setHtml(<span class="string">&#x27;&lt;font color=&quot;blue&quot; size=&quot;5&quot;&gt;Hello World&lt;/font&gt;&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">onClick_ButtonToHTML</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 获取html文本</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="variable language_">self</span>.textEdit.toHtml())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># app为软件类的对象</span></span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    <span class="comment"># main为窗口类的对象</span></span><br><span class="line">    main = QTextEditDemo()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647666258725-6943fb4c-5e58-4542-99c9-589d525f5fcd.png#clientId=u28f4b901-98ba-4&amp;from=paste&amp;height=359&amp;id=u8eace0f4&amp;originHeight=359&amp;originWidth=316&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=8597&amp;status=done&amp;style=none&amp;taskId=u721cac9b-2515-4023-9fbf-d307f09f146&amp;title=&amp;width=316" alt="image.png"><br>
<a name="zczSK"></a></p>
<h2 id="按钮控件">按钮控件</h2>
<p>按钮控件有<br>QPushButton 普通按钮<br>AToolButton 工具条按钮<br>QRadioButton 单选按钮<br>QCheckBox 复选框<br>
<a name="lM0uU"></a></p>
<h3 id="QPushButton">QPushButton</h3>
<p>使用lambda表达式，可以在连接信号与槽时，将信号自身的信息作为参数传递给槽</p>
<p>也可以通过sender来获得信号自身的信息（这样还不需要定义为成员变量了。）<br>举例：<br>self.button1.clicked.connect(lambda: self.whichButton(self.button1))改成<br>button1.clicked.connect(self.whichButton)<br>whichButton函数中通过<br># 得到发送信号的对象<br>sender = self.sender()<br># sender.text为发送信号的对象的名字<br>print(sender.text() + ‘按钮被按下’)<br>这里的from PyQt5.QtCore import *好像并没有什么用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QPushButtonDemo</span>(<span class="title class_ inherited__">QDialog</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(QPushButtonDemo, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.initUI()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">initUI</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&quot;QPushButtonDemo&quot;</span>)</span><br><span class="line">        layout = QVBoxLayout()</span><br><span class="line">        <span class="comment"># 创建按钮1,设置为成员变量是因为其他函数需要调用</span></span><br><span class="line">        <span class="variable language_">self</span>.button1 = QPushButton(<span class="string">&#x27;第一个按钮&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.button1.setText(<span class="string">&#x27;First Button1&#x27;</span>)</span><br><span class="line">        <span class="comment"># 设置按钮1的check属性</span></span><br><span class="line">        <span class="variable language_">self</span>.button1.setCheckable(<span class="literal">True</span>)</span><br><span class="line">        <span class="comment"># 设置按钮处于选中状态</span></span><br><span class="line">        <span class="variable language_">self</span>.button1.toggle()</span><br><span class="line">        <span class="comment"># 单击按钮时调用方法</span></span><br><span class="line">        <span class="variable language_">self</span>.button1.clicked.connect(<span class="variable language_">self</span>.buttonState)</span><br><span class="line">        <span class="comment"># 之所以使用lambda函数是因为clicked返回的是bool类型的，调用的方法使用的是字符串类型</span></span><br><span class="line">        <span class="comment"># 使用lamba函数可以将按钮的信息作为参数传给槽</span></span><br><span class="line">        <span class="variable language_">self</span>.button1.clicked.connect(<span class="keyword">lambda</span>: <span class="variable language_">self</span>.whichButton(<span class="variable language_">self</span>.button1))</span><br><span class="line">        layout.addWidget(<span class="variable language_">self</span>.button1)</span><br><span class="line">        <span class="comment"># 创建按钮2</span></span><br><span class="line">        button2 = QPushButton(<span class="string">&quot;图像按钮&quot;</span>)</span><br><span class="line">        <span class="comment"># 教程中设置图像按钮时是button2.setIcon(QIcon(QPixmap(&#x27;./images/bool.png&#x27;)))但是跟这个没什么区别</span></span><br><span class="line">        button2.setIcon(QIcon(<span class="string">&#x27;./images/bool.png&#x27;</span>))</span><br><span class="line">        button2.clicked.connect(<span class="keyword">lambda</span>: <span class="variable language_">self</span>.whichButton(button2))</span><br><span class="line">        layout.addWidget(button2)</span><br><span class="line">        <span class="comment"># 创建按钮3 将按钮3设置为不可用的按钮</span></span><br><span class="line">        button3 = QPushButton(<span class="string">&quot;不可用的按钮&quot;</span>)</span><br><span class="line">        button3.setEnabled(<span class="literal">False</span>)</span><br><span class="line">        layout.addWidget(button3)</span><br><span class="line">        <span class="comment"># 创建按钮4 将按钮4设置为默认按钮并设置热键通过alt+m可以快速调用</span></span><br><span class="line">        button4 = QPushButton(<span class="string">&quot;&amp;MyButton&quot;</span>)</span><br><span class="line">        button4.setDefault(<span class="literal">True</span>)</span><br><span class="line">        button4.clicked.connect(<span class="keyword">lambda</span>: <span class="variable language_">self</span>.whichButton(button4))</span><br><span class="line">        layout.addWidget(button4)</span><br><span class="line">        <span class="variable language_">self</span>.setLayout(layout)</span><br><span class="line">        <span class="variable language_">self</span>.resize(<span class="number">400</span>, <span class="number">300</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">buttonState</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.button1.isChecked():</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;按钮1已经被选中&#x27;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;按钮1未被选中&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">whichButton</span>(<span class="params">self, btn</span>):</span><br><span class="line">        <span class="comment"># btn为使用此方法的按钮信息，通过lambda函数传入</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;被单击的按钮是&lt;&quot;</span> + btn.text() + <span class="string">&#x27;&gt;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># app为软件类的对象</span></span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    <span class="comment"># main为窗口类的对象</span></span><br><span class="line">    main = QPushButtonDemo()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647673938430-c31da309-2dbc-49d7-9ae6-960285bacd1e.png#clientId=u28f4b901-98ba-4&amp;from=paste&amp;height=339&amp;id=u63da6496&amp;originHeight=339&amp;originWidth=416&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=11689&amp;status=done&amp;style=none&amp;taskId=ud11314c3-130e-4dbc-9c84-add94d8fdd1&amp;title=&amp;width=416" alt="image.png"><br>
<a name="L4I75"></a></p>
<h3 id="QRadioButton">QRadioButton</h3>
<p><br>单选按钮：<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647674234735-309c9635-df44-4d07-ae00-724b5dc6f3f4.png#clientId=u28f4b901-98ba-4&amp;from=paste&amp;height=109&amp;id=uf21e659a&amp;originHeight=109&amp;originWidth=264&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=35253&amp;status=done&amp;style=none&amp;taskId=u2c677f32-9091-4804-b6e5-e2a2f25159d&amp;title=&amp;width=264" alt="image.png"><br>单选按钮需要放在一个容器里，这样它们之间才能产生联系<br>这里from PyQt5.QtGui import *<br>from PyQt5.QtCore import *<br>也是没什么用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QRadioButtonDemo</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(QRadioButtonDemo, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.initUI()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">initUI</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&quot;QRadioButton&quot;</span>)</span><br><span class="line">        layout = QHBoxLayout()</span><br><span class="line"></span><br><span class="line">        button1 = QRadioButton(<span class="string">&#x27;单选按钮1&#x27;</span>)</span><br><span class="line">        <span class="comment"># 将单选按钮1设置为默认选中</span></span><br><span class="line">        button1.setChecked(<span class="literal">True</span>)</span><br><span class="line">        <span class="comment"># 选中单选按钮1时执行buttonState方法</span></span><br><span class="line">        button1.toggled.connect(<span class="variable language_">self</span>.buttonState)</span><br><span class="line">        layout.addWidget(button1)</span><br><span class="line"></span><br><span class="line">        button2 = QRadioButton(<span class="string">&quot;单选按钮2&quot;</span>)</span><br><span class="line">        button2.toggled.connect(<span class="variable language_">self</span>.buttonState)</span><br><span class="line">        layout.addWidget(button2)</span><br><span class="line">        <span class="variable language_">self</span>.setLayout(layout)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">buttonState</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 使用radioButton变量存放发送者的信息</span></span><br><span class="line">        radioButton = <span class="variable language_">self</span>.sender()</span><br><span class="line">        <span class="keyword">if</span> radioButton.isChecked() == <span class="literal">True</span> :</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;&lt;&#x27;</span>+radioButton.text()+<span class="string">&#x27;&gt;被选中&#x27;</span>)</span><br><span class="line">        <span class="keyword">else</span> :</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;&lt;&#x27;</span>+radioButton.text()+<span class="string">&#x27;&gt;被取消选中状态&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># app为软件类的对象</span></span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    <span class="comment"># main为窗口类的对象</span></span><br><span class="line">    main = QRadioButtonDemo()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647677957043-dcced7dc-d016-48de-b23b-3a1502390c6f.png#clientId=u28f4b901-98ba-4&amp;from=paste&amp;height=77&amp;id=u541d5106&amp;originHeight=77&amp;originWidth=198&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=3343&amp;status=done&amp;style=none&amp;taskId=u59331d03-e94a-4d3a-8503-bafa1179d7d&amp;title=&amp;width=198" alt="image.png"><br>
<a name="aBRqm"></a></p>
<h3 id="QCheckBox">QCheckBox</h3>
<p>QCheckBox控件有三种状态<br>未选中:0   半选中:1   选中:2<br>这三种状态可以通过checkState方法来获取到<br>要想拥有半选中状态需要为定义的复选框使用setTristate(True)方法.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QCheckBoxDemo</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(QCheckBoxDemo, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.initUI()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">initUI</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&quot;复选框控件演示&quot;</span>)</span><br><span class="line">        <span class="comment"># 创建水平布局</span></span><br><span class="line">        layout = QHBoxLayout()</span><br><span class="line">        <span class="comment"># 创建复选框1</span></span><br><span class="line">        <span class="variable language_">self</span>.checkBox1 = QCheckBox(<span class="string">&#x27;复选框控件1&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.checkBox1.setChecked(<span class="literal">True</span>)</span><br><span class="line">        <span class="variable language_">self</span>.checkBox1.stateChanged.connect(<span class="keyword">lambda</span>: <span class="variable language_">self</span>.checkBoxState(<span class="variable language_">self</span>.checkBox1))</span><br><span class="line">        layout.addWidget(<span class="variable language_">self</span>.checkBox1)</span><br><span class="line">        <span class="comment"># 创建复选框2</span></span><br><span class="line">        <span class="variable language_">self</span>.checkBox2 = QCheckBox(<span class="string">&#x27;复选框控件2&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.checkBox2.stateChanged.connect(<span class="keyword">lambda</span>: <span class="variable language_">self</span>.checkBoxState(<span class="variable language_">self</span>.checkBox1))</span><br><span class="line">        layout.addWidget(<span class="variable language_">self</span>.checkBox2)</span><br><span class="line">        <span class="comment"># 创建复选框3</span></span><br><span class="line">        <span class="variable language_">self</span>.checkBox3 = QCheckBox(<span class="string">&#x27;半选中&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.checkBox3.setTristate(<span class="literal">True</span>)  <span class="comment"># 设置复选框3能够处于半选中状态</span></span><br><span class="line">        <span class="variable language_">self</span>.checkBox3.setCheckState(Qt.PartiallyChecked)  <span class="comment"># 设置复选框3初始为半选中状态</span></span><br><span class="line">        <span class="variable language_">self</span>.checkBox3.stateChanged.connect(<span class="keyword">lambda</span>: <span class="variable language_">self</span>.checkBoxState(<span class="variable language_">self</span>.checkBox1))</span><br><span class="line">        layout.addWidget(<span class="variable language_">self</span>.checkBox3)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.setLayout(layout)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">checkBoxState</span>(<span class="params">self, cb</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        输出三个复选框的的名字加上是否被选中加上选择的状态(0,1,2)</span></span><br><span class="line"><span class="string">        :param cb:</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        check1Status = <span class="variable language_">self</span>.checkBox1.text() + <span class="string">&#x27;,isChecked=&#x27;</span> + <span class="built_in">str</span>(<span class="variable language_">self</span>.checkBox1.isChecked()) + <span class="string">&#x27;,checkState=&#x27;</span> + <span class="built_in">str</span>(</span><br><span class="line">            <span class="variable language_">self</span>.checkBox1.checkState()) + <span class="string">&#x27;\n&#x27;</span></span><br><span class="line">        check2Status = <span class="variable language_">self</span>.checkBox2.text() + <span class="string">&#x27;,isChecked=&#x27;</span> + <span class="built_in">str</span>(<span class="variable language_">self</span>.checkBox2.isChecked()) + <span class="string">&#x27;,checkState=&#x27;</span> + <span class="built_in">str</span>(</span><br><span class="line">            <span class="variable language_">self</span>.checkBox2.checkState()) + <span class="string">&#x27;\n&#x27;</span></span><br><span class="line">        check3Status = <span class="variable language_">self</span>.checkBox3.text() + <span class="string">&#x27;,isChecked=&#x27;</span> + <span class="built_in">str</span>(<span class="variable language_">self</span>.checkBox3.isChecked()) + <span class="string">&#x27;,checkState=&#x27;</span> + <span class="built_in">str</span>(</span><br><span class="line">            <span class="variable language_">self</span>.checkBox3.checkState()) + <span class="string">&#x27;\n&#x27;</span></span><br><span class="line">        <span class="built_in">print</span>(check1Status + check2Status + check3Status)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># app为软件类的对象</span></span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    <span class="comment"># main为窗口类的对象</span></span><br><span class="line">    main = QCheckBoxDemo()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647681221592-9a1414c8-a22e-47b2-a459-bb8f2666f237.png#clientId=u28f4b901-98ba-4&amp;from=paste&amp;height=77&amp;id=u39dc109f&amp;originHeight=77&amp;originWidth=287&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=4775&amp;status=done&amp;style=none&amp;taskId=u647fa383-42d1-4659-9ce6-5abf6573b6d&amp;title=&amp;width=287" alt="image.png"><br>
<a name="B2ijm"></a></p>
<h2 id="下拉列表控件-QComboBox">下拉列表控件(QComboBox)</h2>
<p>下拉列表属于这种<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647681358516-aa5cf54c-8d6a-476f-bb78-9d387bf4f12a.png#clientId=u28f4b901-98ba-4&amp;from=paste&amp;height=238&amp;id=u543a692b&amp;originHeight=238&amp;originWidth=365&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=89913&amp;status=done&amp;style=none&amp;taskId=udbe1e715-0b02-4a22-9d7b-afc5a11cdd7&amp;title=&amp;width=365" alt="image.png"><br>这节学习</p>
<ol>
<li>如何将列表项添加到QComboBox控件中</li>
<li>如何获取选中的列表项</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QCheckBoxDemo</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(QCheckBoxDemo, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.initUI()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">initUI</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&quot;下拉列表控件演示&quot;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.resize(<span class="number">300</span>, <span class="number">100</span>)</span><br><span class="line">        layout = QVBoxLayout()</span><br><span class="line">        <span class="variable language_">self</span>.label = QLabel(<span class="string">&quot;请选择编程语言&quot;</span>)  <span class="comment"># 标签的默认文本</span></span><br><span class="line">        <span class="variable language_">self</span>.cb = QComboBox()  <span class="comment"># 创建下拉列表</span></span><br><span class="line">        <span class="comment"># 为列表添加单项</span></span><br><span class="line">        <span class="variable language_">self</span>.cb.addItem(<span class="string">&#x27;C++&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.cb.addItem(<span class="string">&#x27;Python&#x27;</span>)</span><br><span class="line">        <span class="comment"># 为列表添加多项</span></span><br><span class="line">        <span class="variable language_">self</span>.cb.addItems([<span class="string">&#x27;Java&#x27;</span>, <span class="string">&#x27;C#&#x27;</span>, <span class="string">&#x27;Ruby&#x27;</span>])</span><br><span class="line">        <span class="comment"># 当列表选项改变时发出信号执行槽</span></span><br><span class="line">        <span class="variable language_">self</span>.cb.currentIndexChanged.connect(<span class="variable language_">self</span>.selectionChange)</span><br><span class="line">        layout.addWidget(<span class="variable language_">self</span>.label)</span><br><span class="line">        layout.addWidget(<span class="variable language_">self</span>.cb)</span><br><span class="line">        <span class="variable language_">self</span>.setLayout(layout)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">selectionChange</span>(<span class="params">self, i</span>):  <span class="comment"># 默认传递两个参数,第二个i对应的是选项的索引值</span></span><br><span class="line">        <span class="comment"># 将标签设置为列表的当前选项文本并调整文字大小.</span></span><br><span class="line">        <span class="variable language_">self</span>.label.setText(<span class="variable language_">self</span>.cb.currentText())</span><br><span class="line">        <span class="variable language_">self</span>.label.adjustSize()</span><br><span class="line">        <span class="keyword">for</span> count <span class="keyword">in</span> <span class="built_in">range</span>(<span class="variable language_">self</span>.cb.count()):  <span class="comment"># 遍历输出列表中的选项序号与文本</span></span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;item&#x27;</span> + <span class="built_in">str</span>(count) + <span class="string">&#x27;=&#x27;</span> + <span class="variable language_">self</span>.cb.itemText(count))</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;current index&#x27;</span>, i, <span class="string">&#x27;selection changed&#x27;</span>, <span class="variable language_">self</span>.cb.currentText())  <span class="comment"># 输出当前选择的选项文本</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># app为软件类的对象</span></span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    <span class="comment"># main为窗口类的对象</span></span><br><span class="line">    main = QCheckBoxDemo()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>效果:<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647687903514-08797613-40a3-454f-9b8d-d89cfbe3fde1.png#clientId=u28f4b901-98ba-4&amp;from=paste&amp;height=139&amp;id=ua94889d6&amp;originHeight=139&amp;originWidth=316&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=4976&amp;status=done&amp;style=none&amp;taskId=u1a9cd5ed-5498-49d6-a7a0-b6ac308b95b&amp;title=&amp;width=316" alt="image.png"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647687918905-ce231147-15a8-4117-9286-47f81ec969ea.png#clientId=u28f4b901-98ba-4&amp;from=paste&amp;height=196&amp;id=u400ca2fa&amp;originHeight=196&amp;originWidth=582&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=21687&amp;status=done&amp;style=none&amp;taskId=u6341eb52-6fe5-4107-8794-30cbb9479aa&amp;title=&amp;width=582" alt="image.png"><br>
<a name="DQh0H"></a></p>
<h2 id="滑块控件-QSlider">滑块控件(QSlider)</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QSliderDemo</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(QSliderDemo, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.initUI()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">initUI</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&quot;滑块控件演示&quot;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.resize(<span class="number">300</span>, <span class="number">700</span>)</span><br><span class="line">        layout = QVBoxLayout()</span><br><span class="line">        <span class="variable language_">self</span>.label = QLabel(<span class="string">&#x27;你好 PyQt5&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.label.setAlignment(Qt.AlignCenter)</span><br><span class="line">        layout.addWidget(<span class="variable language_">self</span>.label)</span><br><span class="line"></span><br><span class="line">        slider = QSlider(Qt.Horizontal)  <span class="comment"># 创建水平滑块</span></span><br><span class="line">        slider.setMinimum(<span class="number">12</span>)  <span class="comment"># 设置最小值</span></span><br><span class="line">        slider.setMaximum(<span class="number">48</span>)  <span class="comment"># 设置最大值</span></span><br><span class="line">        slider.setSingleStep(<span class="number">3</span>)  <span class="comment"># 设置步长</span></span><br><span class="line">        slider.setValue(<span class="number">18</span>)  <span class="comment"># 设置初始值</span></span><br><span class="line">        slider.setTickPosition(QSlider.TicksBelow)  <span class="comment"># 设置刻度的位置在滑块下方</span></span><br><span class="line">        slider.setTickInterval(<span class="number">6</span>)  <span class="comment"># 设置刻度的间隔</span></span><br><span class="line">        slider.valueChanged.connect(<span class="variable language_">self</span>.valueChange)</span><br><span class="line">        layout.addWidget(slider)</span><br><span class="line"></span><br><span class="line">        slider1 = QSlider(Qt.Vertical)  <span class="comment"># 创建竖直滑块</span></span><br><span class="line">        slider1.setMinimum(<span class="number">10</span>)</span><br><span class="line">        slider1.setMaximum(<span class="number">60</span>)</span><br><span class="line">        slider1.setSingleStep(<span class="number">5</span>)</span><br><span class="line">        slider1.setValue(<span class="number">30</span>)</span><br><span class="line">        slider1.setTickPosition(QSlider.TicksLeft)  <span class="comment"># 设置竖直滑块的刻度的位置在滑块左边</span></span><br><span class="line">        slider1.setTickInterval(<span class="number">2</span>)  <span class="comment"># 设置刻度的间隔</span></span><br><span class="line">        slider1.valueChanged.connect(<span class="variable language_">self</span>.valueChange)</span><br><span class="line">        layout.addWidget(slider1)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.setLayout(layout)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">valueChange</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;当前值:%s&#x27;</span> % <span class="variable language_">self</span>.sender().value())</span><br><span class="line">        size = <span class="variable language_">self</span>.sender().value()</span><br><span class="line">        <span class="variable language_">self</span>.label.setFont(QFont(<span class="string">&#x27;Arial&#x27;</span>, size))  <span class="comment"># 通过滑块的值的改变来改变字体的大小</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># app为软件类的对象</span></span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    <span class="comment"># main为窗口类的对象</span></span><br><span class="line">    main = QSliderDemo()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>效果:<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647690764835-6ed3c0db-a0d7-419d-9efa-5f9cf623c992.png#clientId=u28f4b901-98ba-4&amp;from=paste&amp;height=739&amp;id=u8679cdc2&amp;originHeight=739&amp;originWidth=440&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=22247&amp;status=done&amp;style=none&amp;taskId=u3dab22f9-0243-40bc-bcf5-14ecd6a967a&amp;title=&amp;width=440" alt="image.png">竖直滑块和水平滑块都能够更改Qlabel(你好PyQt5)的大小<br>
<a name="S5oPZ"></a></p>
<h2 id="计数器控件-QSpinBox-翻译结果是选值框">计数器控件(QSpinBox)(翻译结果是选值框)</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QSpinBoxDemo</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(QSpinBoxDemo, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.initUI()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">initUI</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&quot;滑块控件演示&quot;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.resize(<span class="number">300</span>, <span class="number">100</span>)</span><br><span class="line">        layout = QVBoxLayout()</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.label = QLabel(<span class="string">&#x27;当前值&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.label.setAlignment(Qt.AlignCenter)</span><br><span class="line">        layout.addWidget(<span class="variable language_">self</span>.label)</span><br><span class="line"></span><br><span class="line">        spinbox = QSpinBox()  <span class="comment"># 创建计数器</span></span><br><span class="line">        spinbox.setValue(<span class="number">18</span>)  <span class="comment"># 设置初始值</span></span><br><span class="line">        spinbox.setRange(<span class="number">10</span>, <span class="number">999</span>)  <span class="comment"># 设置计数器的范围</span></span><br><span class="line">        spinbox.setSingleStep(<span class="number">3</span>)  <span class="comment"># 设置步长</span></span><br><span class="line">        spinbox.valueChanged.connect(<span class="variable language_">self</span>.valueChange)  <span class="comment"># 当计数器数值改变时执行valueChange方法</span></span><br><span class="line">        layout.addWidget(spinbox)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.setLayout(layout)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">valueChange</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.label.setText(<span class="string">&#x27;当前值:%s&#x27;</span> % <span class="variable language_">self</span>.sender().value())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># app为软件类的对象</span></span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    <span class="comment"># main为窗口类的对象</span></span><br><span class="line">    main = QSpinBoxDemo()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>效果:<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647692991619-40d975a6-0d7b-4afd-a980-11bfc3498eb2.png#clientId=u28f4b901-98ba-4&amp;from=paste&amp;height=135&amp;id=ub775bccf&amp;originHeight=135&amp;originWidth=316&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=4294&amp;status=done&amp;style=none&amp;taskId=u368719d1-cbb4-428e-ac2f-b3db56c2350&amp;title=&amp;width=316" alt="image.png"><br>
<a name="rlcBp"></a></p>
<h2 id="对话框">对话框</h2>
<p>对话框的分类:</p>
<ul>
<li>QMessageBox 消息对话框</li>
<li>QColorDialog 颜色对话框</li>
<li>QFileDialog 文件的打开与保存</li>
<li>QFontDialog 设置字体的对话框</li>
<li>QInputDialog 获取用户输入信息的对话框</li>
</ul>
<p>新建的对话框的类都需要继承QDialog<br>对话框的特点是没有菜单栏,对话框可以设置为执行时不能进行同一软件下对话框之外的操作<br>
<a name="aKlYl"></a></p>
<h3 id="使用QDialog显示通用对话框">使用QDialog显示通用对话框</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QDialogDemo</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(QDialogDemo, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.initUI()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">initUI</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&#x27;QDialog案例&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.resize(<span class="number">300</span>, <span class="number">200</span>)</span><br><span class="line">        button = QPushButton(<span class="variable language_">self</span>)</span><br><span class="line">        button.setText(<span class="string">&#x27;弹出对话框&#x27;</span>)</span><br><span class="line">        button.move(<span class="number">50</span>, <span class="number">50</span>)</span><br><span class="line">        button.clicked.connect(<span class="variable language_">self</span>.showDialog)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">showDialog</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 创建对话框</span></span><br><span class="line">        dialog = QDialog()</span><br><span class="line">        button = QPushButton(<span class="string">&#x27;确定&#x27;</span>, dialog)  <span class="comment"># 为dialog（对话框）添加按钮控件</span></span><br><span class="line">        button.clicked.connect(dialog.close)  <span class="comment"># 点击对话框的按钮时关闭对话框</span></span><br><span class="line">        button.move(<span class="number">50</span>, <span class="number">50</span>)</span><br><span class="line">        dialog.setWindowTitle(<span class="string">&#x27;对话框&#x27;</span>)</span><br><span class="line">        dialog.setWindowModality(Qt.ApplicationModal)  <span class="comment"># 使出现对话框时，其他窗口不可使用</span></span><br><span class="line">        dialog.<span class="built_in">exec</span>()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = QDialogDemo()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647741798473-304c1759-7878-4540-b88b-fd28dccff625.png#clientId=u4e370659-cca8-4&amp;from=paste&amp;height=288&amp;id=uae488d51&amp;originHeight=288&amp;originWidth=537&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=20282&amp;status=done&amp;style=none&amp;taskId=u624b1c3e-8214-4ca7-be9e-9b9676a9bc0&amp;title=&amp;width=537" alt="image.png"><br>
<a name="qzS3i"></a></p>
<h3 id="QMessageBox信息对话框">QMessageBox信息对话框</h3>
<p>看这个知乎链接<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/29795495">https://zhuanlan.zhihu.com/p/29795495</a>比教程详细多了<br>有多种不同类型的对话框</p>
<ul>
<li>关于对话框   QMessageBox.about</li>
<li>错误对话框   QMessageBox.critical</li>
<li>警告对话框   QMessageBox.warning</li>
<li>提问对话框   QMessageBox.question</li>
<li>消息对话框   QMessageBox.information</li>
</ul>
<p>有两点差异</p>
<ol>
<li>显示的对话框图标可能不同</li>
<li>显示的按钮是不一样的（关于对话框一般显示1个按钮，其他对话框一般显示2个）</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QMessageBoxDemo</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(QMessageBoxDemo, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.initUI()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">initUI</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&#x27;QDialog案例&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.resize(<span class="number">300</span>, <span class="number">400</span>)</span><br><span class="line">        layout = QVBoxLayout()</span><br><span class="line"></span><br><span class="line">        button1 = QPushButton()</span><br><span class="line">        button1.setText(<span class="string">&#x27;显示关于对话框&#x27;</span>)</span><br><span class="line">        button1.clicked.connect(<span class="variable language_">self</span>.showDialog)</span><br><span class="line"></span><br><span class="line">        button2 = QPushButton()</span><br><span class="line">        button2.setText(<span class="string">&#x27;显示消息对话框&#x27;</span>)</span><br><span class="line">        button2.clicked.connect(<span class="variable language_">self</span>.showDialog)</span><br><span class="line"></span><br><span class="line">        button3 = QPushButton()</span><br><span class="line">        button3.setText(<span class="string">&#x27;显示警告对话框&#x27;</span>)</span><br><span class="line">        button3.clicked.connect(<span class="variable language_">self</span>.showDialog)</span><br><span class="line"></span><br><span class="line">        button4 = QPushButton()</span><br><span class="line">        button4.setText(<span class="string">&#x27;显示错误对话框&#x27;</span>)</span><br><span class="line">        button4.clicked.connect(<span class="variable language_">self</span>.showDialog)</span><br><span class="line"></span><br><span class="line">        button5 = QPushButton()</span><br><span class="line">        button5.setText(<span class="string">&#x27;显示提问对话框&#x27;</span>)</span><br><span class="line">        button5.clicked.connect(<span class="variable language_">self</span>.showDialog)</span><br><span class="line"></span><br><span class="line">        layout.addWidget(button1)</span><br><span class="line">        layout.addWidget(button2)</span><br><span class="line">        layout.addWidget(button3)</span><br><span class="line">        layout.addWidget(button4)</span><br><span class="line">        layout.addWidget(button5)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.setLayout(layout)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">showDialog</span>(<span class="params">self</span>):</span><br><span class="line">        text = <span class="variable language_">self</span>.sender().text()</span><br><span class="line">        <span class="keyword">if</span> text == <span class="string">&quot;显示关于对话框&quot;</span>:</span><br><span class="line">            reply = QMessageBox.about(<span class="variable language_">self</span>, <span class="string">&#x27;关于&#x27;</span>, <span class="string">&#x27;这是一个关于对话框&#x27;</span>)  <span class="comment"># 弹出一个关于对话框，第二个参数为对话框的标题，第三个参数为对话框的内容</span></span><br><span class="line">            <span class="built_in">print</span>(reply == QMessageBox.Yes)</span><br><span class="line">        <span class="keyword">elif</span> text == <span class="string">&quot;显示消息对话框&quot;</span>:</span><br><span class="line">            QMessageBox.information(<span class="variable language_">self</span>, <span class="string">&#x27;消息&#x27;</span>, <span class="string">&#x27;这是一个消息对话框&#x27;</span>, QMessageBox.Yes | QMessageBox.No, QMessageBox.Yes)  <span class="comment"># 这个QMessageBox.Yes | QMessageBox.No意思是他有Yes和No按钮，最后的QMessageBox.Yes的意思是默认选择Yes</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">elif</span> text == <span class="string">&quot;显示警告对话框&quot;</span>:</span><br><span class="line">            QMessageBox.warning(<span class="variable language_">self</span>, <span class="string">&#x27;警告&#x27;</span>, <span class="string">&#x27;这是一个警告对话框&#x27;</span>, QMessageBox.Yes | QMessageBox.No, QMessageBox.Yes)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">elif</span> text == <span class="string">&quot;显示错误对话框&quot;</span>:</span><br><span class="line">            QMessageBox.critical(<span class="variable language_">self</span>, <span class="string">&#x27;错误&#x27;</span>, <span class="string">&#x27;这是一个错误对话框&#x27;</span>, QMessageBox.Yes | QMessageBox.No, QMessageBox.Yes)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">elif</span> text == <span class="string">&quot;显示提问对话框&quot;</span>:</span><br><span class="line">            QMessageBox.question(<span class="variable language_">self</span>, <span class="string">&#x27;提问&#x27;</span>, <span class="string">&#x27;这是一个提问对话框&#x27;</span>, QMessageBox.Yes | QMessageBox.No, QMessageBox.Yes)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = QMessageBoxDemo()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647744675657-38e04312-6d78-4736-b387-d94c844aae1b.png#clientId=u4e370659-cca8-4&amp;from=paste&amp;height=439&amp;id=u6aa76e96&amp;originHeight=439&amp;originWidth=316&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=12295&amp;status=done&amp;style=none&amp;taskId=uc7bf08e8-d755-4bf8-98c0-861c5f5aceb&amp;title=&amp;width=316" alt="image.png"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647744665719-d11a4070-2e87-4aa0-b421-84de38f8ae24.png#clientId=u4e370659-cca8-4&amp;from=paste&amp;height=124&amp;id=u4735fea4&amp;originHeight=124&amp;originWidth=167&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=4122&amp;status=done&amp;style=none&amp;taskId=u9db41eee-e5b2-4889-801f-d3e7a5c3f4a&amp;title=&amp;width=167" alt="image.png"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647744636330-1fa61872-5620-436f-b3d2-d3e6c3a79a6a.png#clientId=u4e370659-cca8-4&amp;from=paste&amp;height=133&amp;id=u51e0392d&amp;originHeight=133&amp;originWidth=197&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=5211&amp;status=done&amp;style=none&amp;taskId=u262e5d4d-6027-40cd-bc53-beb2c6d61bd&amp;title=&amp;width=197" alt="image.png"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647744650821-aa9632f1-b2fd-4f5b-8e9d-3550d6fa9809.png#clientId=u4e370659-cca8-4&amp;from=paste&amp;height=133&amp;id=ud1708086&amp;originHeight=133&amp;originWidth=197&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=4795&amp;status=done&amp;style=none&amp;taskId=u46a9af48-89a3-4d14-acde-01f54d6b6c0&amp;title=&amp;width=197" alt="image.png"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647744686758-64c78887-f3f0-42e6-848e-c87334ad87e9.png#clientId=u4e370659-cca8-4&amp;from=paste&amp;height=133&amp;id=ud77c6196&amp;originHeight=133&amp;originWidth=197&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=5094&amp;status=done&amp;style=none&amp;taskId=u030437d5-a97a-4e63-8a85-e5af483005a&amp;title=&amp;width=197" alt="image.png"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647744691455-7d25c925-f16a-4ce9-bd0c-1bd5aa2a56ef.png#clientId=u4e370659-cca8-4&amp;from=paste&amp;height=133&amp;id=u0e42e3ce&amp;originHeight=133&amp;originWidth=197&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=5758&amp;status=done&amp;style=none&amp;taskId=u1145ecb2-47f8-40ec-a15b-47c94863224&amp;title=&amp;width=197" alt="image.png"><br>
<a name="cINki"></a></p>
<h3 id="QInputDialog输入对话框">QInputDialog输入对话框</h3>
<p>输入对话框，特点是允许显示带输入的控件，例如输入列表，输入文本，输入整数（计数器）</p>
<ul>
<li>QInputDialog.getItem 显示输入列表（QComboBox）</li>
<li>QInputDialog.getText 显示输入文本</li>
<li>QInputDialog.getInt 显示输入整数（计数器）</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QInputDialogDemo</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(QInputDialogDemo, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.initUI()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">initUI</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&#x27;输入对话框&#x27;</span>)</span><br><span class="line">        layout = QFormLayout()</span><br><span class="line"></span><br><span class="line">        button1 = QPushButton(<span class="string">&#x27;获取列表中的选项&#x27;</span>)</span><br><span class="line">        button1.clicked.connect(<span class="variable language_">self</span>.getItem)</span><br><span class="line">        <span class="variable language_">self</span>.lineEdit1 = QLineEdit()</span><br><span class="line">        layout.addRow(button1, <span class="variable language_">self</span>.lineEdit1)</span><br><span class="line"></span><br><span class="line">        button2 = QPushButton(<span class="string">&#x27;获取字符串&#x27;</span>)</span><br><span class="line">        button2.clicked.connect(<span class="variable language_">self</span>.getText)</span><br><span class="line">        <span class="variable language_">self</span>.lineEdit2 = QLineEdit()</span><br><span class="line">        layout.addRow(button2, <span class="variable language_">self</span>.lineEdit2)</span><br><span class="line"></span><br><span class="line">        button3 = QPushButton(<span class="string">&#x27;获取整数&#x27;</span>)</span><br><span class="line">        button3.clicked.connect(<span class="variable language_">self</span>.getInt)</span><br><span class="line">        <span class="variable language_">self</span>.lineEdit3 = QLineEdit()</span><br><span class="line">        layout.addRow(button3, <span class="variable language_">self</span>.lineEdit3)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.setLayout(layout)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">getItem</span>(<span class="params">self</span>):</span><br><span class="line">        items = (<span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;C++&#x27;</span>, <span class="string">&#x27;Ruby&#x27;</span>, <span class="string">&#x27;Python&#x27;</span>, <span class="string">&#x27;Java&#x27;</span>,)</span><br><span class="line">        <span class="comment"># 使用两个数接收QInputDialog.getItem的返回值，因为这个方法的返回值是一个元组，下方的同理</span></span><br><span class="line">        item, ok = QInputDialog.getItem(<span class="variable language_">self</span>, <span class="string">&#x27;请选择编程语言&#x27;</span>, <span class="string">&#x27;语言列表&#x27;</span>, items)</span><br><span class="line">        <span class="keyword">if</span> ok <span class="keyword">and</span> item:</span><br><span class="line">            <span class="variable language_">self</span>.lineEdit1.setText(item)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">getText</span>(<span class="params">self</span>):</span><br><span class="line">        text, ok = QInputDialog.getText(<span class="variable language_">self</span>, <span class="string">&#x27;文本输入框&#x27;</span>, <span class="string">&#x27;输入姓名&#x27;</span>)</span><br><span class="line">        <span class="keyword">if</span> ok <span class="keyword">and</span> text:</span><br><span class="line">            <span class="variable language_">self</span>.lineEdit2.setText(text)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">getInt</span>(<span class="params">self</span>):</span><br><span class="line">        num, ok = QInputDialog.getInt(<span class="variable language_">self</span>, <span class="string">&#x27;整数输入框&#x27;</span>, <span class="string">&#x27;输入数字&#x27;</span>)</span><br><span class="line">        <span class="keyword">if</span> ok <span class="keyword">and</span> num:</span><br><span class="line">            <span class="variable language_">self</span>.lineEdit3.setText(<span class="built_in">str</span>(num))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = QInputDialogDemo()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647750584476-10029fd1-af45-455e-97b6-630f8623feac.png#clientId=u4e370659-cca8-4&amp;from=paste&amp;height=146&amp;id=ud1c0fd75&amp;originHeight=146&amp;originWidth=457&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=10933&amp;status=done&amp;style=none&amp;taskId=uf5b7730f-3662-4dcc-a46e-4211c2b423d&amp;title=&amp;width=457" alt="image.png"><br>
<a name="rC3c8"></a></p>
<h3 id="QFontDialog字体对话框">QFontDialog字体对话框</h3>
<p>字体对话框，显示字体列表，用于进行字体的设置。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QFontDialogDemo</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(QFontDialogDemo, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.initUI()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">initUI</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&#x27;Font Dialog例子&#x27;</span>)</span><br><span class="line">        layout = QVBoxLayout()</span><br><span class="line">        <span class="variable language_">self</span>.fontButton = QPushButton(<span class="string">&quot;选择字体&quot;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.fontButton.clicked.connect(<span class="variable language_">self</span>.getFont)</span><br><span class="line"></span><br><span class="line">        layout.addWidget(<span class="variable language_">self</span>.fontButton)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.fontLabel = QLabel(<span class="string">&quot;Hello,测试字体例子&quot;</span>)</span><br><span class="line"></span><br><span class="line">        layout.addWidget(<span class="variable language_">self</span>.fontLabel)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.setLayout(layout)</span><br><span class="line">        <span class="variable language_">self</span>.resize(<span class="number">300</span>,<span class="number">200</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">getFont</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># QFontDialog.getFont返回值为一个元组，第一个数为字体，第二个数为布尔类型。</span></span><br><span class="line">        font, ok = QFontDialog.getFont()</span><br><span class="line">        <span class="keyword">if</span> ok :</span><br><span class="line">            <span class="variable language_">self</span>.fontLabel.setFont(font)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = QFontDialogDemo()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647752794901-d5404c4d-312d-4bbe-a346-00d47c7c056c.png#clientId=u4e370659-cca8-4&amp;from=paste&amp;height=401&amp;id=u27b3dcfa&amp;originHeight=401&amp;originWidth=808&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=33819&amp;status=done&amp;style=none&amp;taskId=u25642424-1e4f-4208-8b23-66e084eb255&amp;title=&amp;width=808" alt="image.png"><br>
<a name="GbkBU"></a></p>
<h3 id="QColorDialog-颜色对话框">QColorDialog 颜色对话框</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QFontDialogDemo</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(QFontDialogDemo, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.initUI()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">initUI</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&#x27;Color Dialog例子&#x27;</span>)</span><br><span class="line">        layout = QVBoxLayout()</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.colorButton = QPushButton(<span class="string">&#x27;设置字体颜色&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.colorButton.clicked.connect(<span class="variable language_">self</span>.getColor)</span><br><span class="line">        layout.addWidget(<span class="variable language_">self</span>.colorButton)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.colorButton1 = QPushButton(<span class="string">&#x27;设置背景颜色&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.colorButton1.clicked.connect(<span class="variable language_">self</span>.getBGColor)</span><br><span class="line">        layout.addWidget(<span class="variable language_">self</span>.colorButton1)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.colorlabel = QLabel(<span class="string">&#x27;Hello,测试颜色例子&#x27;</span>)</span><br><span class="line">        layout.addWidget(<span class="variable language_">self</span>.colorlabel)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.setLayout(layout)</span><br><span class="line">        <span class="variable language_">self</span>.resize(<span class="number">300</span>, <span class="number">200</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">getColor</span>(<span class="params">self</span>):</span><br><span class="line">        color = QColorDialog.getColor()  <span class="comment"># color为弹出选择的颜色对话框</span></span><br><span class="line">        p = QPalette()  <span class="comment"># 创建调色板对象</span></span><br><span class="line">        p.setColor(QPalette.WindowText, color)  <span class="comment"># 调色板存取颜色对话框中选择的颜色并将其应用于文字</span></span><br><span class="line">        <span class="variable language_">self</span>.colorlabel.setPalette(p)  <span class="comment"># 设置调色板应用的控件</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">getBGColor</span>(<span class="params">self</span>):</span><br><span class="line">        color = QColorDialog.getColor()  <span class="comment"># color为弹出选择的颜色对话框</span></span><br><span class="line">        p = QPalette()  <span class="comment"># 创建调色板对象</span></span><br><span class="line">        p.setColor(QPalette.Window, color)  <span class="comment"># 调色板存取颜色对话框中选择的颜色并将其应用于控件背景</span></span><br><span class="line">        <span class="variable language_">self</span>.colorlabel.setAutoFillBackground(<span class="literal">True</span>)  <span class="comment"># 设置标签控件背景能够被设置颜色</span></span><br><span class="line">        <span class="variable language_">self</span>.colorlabel.setPalette(p)  <span class="comment"># 设置调色板应用的控件</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = QFontDialogDemo()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647759831393-b97cfeaf-fdde-47f9-923b-fd3ce889f0de.png#clientId=u4e370659-cca8-4&amp;from=paste&amp;height=429&amp;id=u7f78f7c7&amp;originHeight=429&amp;originWidth=823&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=116263&amp;status=done&amp;style=none&amp;taskId=uc1526a67-6b59-4e06-b8a1-2cc085d14ef&amp;title=&amp;width=823" alt="image.png"><br>
<a name="IEm5r"></a></p>
<h3 id="QFileDialog-文件对话框">QFileDialog 文件对话框</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QColorDialogDemo</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(QColorDialogDemo, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.initUI()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">initUI</span>(<span class="params">self</span>):</span><br><span class="line">        layout = QVBoxLayout()</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.button1 = QPushButton(<span class="string">&#x27;加载图片&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.button1.clicked.connect(<span class="variable language_">self</span>.loadImage)</span><br><span class="line">        layout.addWidget(<span class="variable language_">self</span>.button1)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.imageLabel = QLabel()  <span class="comment"># 负责显示选择的图标文件</span></span><br><span class="line">        layout.addWidget(<span class="variable language_">self</span>.imageLabel)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.button2 = QPushButton(<span class="string">&#x27;加载文本文件&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.button2.clicked.connect(<span class="variable language_">self</span>.loadText)</span><br><span class="line">        layout.addWidget(<span class="variable language_">self</span>.button2)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.contents = QTextEdit()  <span class="comment"># 负责显示文本文件 显示多行文本</span></span><br><span class="line">        layout.addWidget(<span class="variable language_">self</span>.contents)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&#x27;文件对话框演示&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.setLayout(layout)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">loadImage</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 其中&#x27;打开文件&#x27;设置的是文件框的窗口标题，&#x27;.&#x27;的意思是从默认初始路径为当前路径，第三个设置的是选用的文件格式（注释加格式）</span></span><br><span class="line">        <span class="comment"># getOpenFileName 返回的是两个值 第一个值为选择的路径，第二个值为文件格式（注释加格式）</span></span><br><span class="line">        frame, _ = QFileDialog.getOpenFileName(<span class="variable language_">self</span>, <span class="string">&#x27;打开文件&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;图像文件(*.jpg *.png)&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.imageLabel.setPixmap(QPixmap(frame))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">loadText</span>(<span class="params">self</span>):</span><br><span class="line">        dialog = QFileDialog()</span><br><span class="line">        dialog.setFileMode(QFileDialog.AnyFile)  <span class="comment"># 设置文件的打开格式</span></span><br><span class="line">        dialog.setFilter(QDir.Files)</span><br><span class="line">        <span class="keyword">if</span> dialog.<span class="built_in">exec</span>():  <span class="comment"># 显示对话框</span></span><br><span class="line">            filenames = dialog.selectedFiles()  </span><br><span class="line">            <span class="comment"># f指定的是选中的文件中的第一个，编码为utf-8，模式是r</span></span><br><span class="line">            f = <span class="built_in">open</span>(filenames[<span class="number">0</span>], encoding=<span class="string">&#x27;utf-8&#x27;</span>, mode=<span class="string">&#x27;r&#x27;</span>)  </span><br><span class="line">            <span class="comment"># 使用 with as 操作已经打开的文件对象（本身就是上下文管理器），</span></span><br><span class="line">            <span class="comment"># 无论期间是否抛出异常，都能保证 with as 语句执行完毕后自动关闭已经打开的文件。</span></span><br><span class="line">            <span class="keyword">with</span> f:  </span><br><span class="line">                data = f.read()</span><br><span class="line">                <span class="variable language_">self</span>.contents.setText(data)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = QColorDialogDemo()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647764805681-988c3af1-4dee-4849-b1f9-476de90c6765.png#clientId=u4e370659-cca8-4&amp;from=paste&amp;height=524&amp;id=u0157be5e&amp;originHeight=524&amp;originWidth=1269&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=83035&amp;status=done&amp;style=none&amp;taskId=u96b03aec-8283-4eba-b859-d107c944518&amp;title=&amp;width=1269" alt="image.png"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647763166488-5027d991-4de4-4399-8478-cf23db7c262b.png#clientId=u4e370659-cca8-4&amp;from=paste&amp;height=540&amp;id=ua15c1b1f&amp;originHeight=540&amp;originWidth=960&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=42346&amp;status=done&amp;style=none&amp;taskId=ueb0bce77-bee5-4b3c-a04a-d376d706163&amp;title=&amp;width=960" alt="image.png"><br>
<a name="YgXBD"></a></p>
<h2 id="绘图API">绘图API</h2>
<p>绘图API包括</p>
<ul>
<li>文本</li>
<li>各种图形（直线，点，椭圆，弧，扇形，多边形等）</li>
<li>图像</li>
</ul>
<p>框架：<br>所有的方法都是在QPainter这个类中，因此框架就是<br>painter = QPainter（）</p>
<p>painter.bengin（）</p>
<p>绘制内容</p>
<p>painter.end（）</p>
<p>必须在painterEvent事件方法中绘制各种元素（当窗口放大和缩小时都需要重新绘制，窗口方法和缩小时都会自动调用painterEvent事件）<br>
<a name="CdmTU"></a></p>
<h3 id="DrawText在窗口上绘制文本">DrawText在窗口上绘制文本</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QApplication,QWidget</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> QPainter,QColor,QFont</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> Qt</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DrawText</span>(<span class="title class_ inherited__">QWidget</span>) :</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(DrawText, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&#x27;在窗口上绘制文本&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.resize(<span class="number">500</span>,<span class="number">400</span>)</span><br><span class="line">        <span class="variable language_">self</span>.text = <span class="string">&quot;Python从菜鸟到高手&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">paintEvent</span>(<span class="params">self, event</span>):</span><br><span class="line">        painter = QPainter(<span class="variable language_">self</span>)</span><br><span class="line">        painter.begin(<span class="variable language_">self</span>)</span><br><span class="line">        painter.setPen(QColor(<span class="number">150</span>,<span class="number">43</span>,<span class="number">5</span>)) <span class="comment"># 设置画笔</span></span><br><span class="line">        painter.setFont(QFont(<span class="string">&#x27;SimSun&#x27;</span>,<span class="number">25</span>)) <span class="comment"># 设置字体</span></span><br><span class="line">        <span class="comment"># 实现绘画字体的方法，第一个为绘制区域，第二个为绘制的对齐模式（居中），第三个为绘制的内容</span></span><br><span class="line">        painter.drawText(event.rect(),Qt.AlignCenter,<span class="variable language_">self</span>.text)</span><br><span class="line">        painter.end()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = DrawText()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647767314230-fcaa2055-526c-4024-90c9-e1f8c9ebec69.png#clientId=u4e370659-cca8-4&amp;from=paste&amp;height=439&amp;id=u06ff6d5e&amp;originHeight=439&amp;originWidth=516&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=15033&amp;status=done&amp;style=none&amp;taskId=u97b34c7e-c726-4916-bc66-77528dfe7ea&amp;title=&amp;width=516" alt="image.png"><br>
<a name="Y2Fsg"></a></p>
<h3 id="DrawPoint在窗口上绘制正弦曲线">DrawPoint在窗口上绘制正弦曲线</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys, math</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> Qt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DrawPoints</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(DrawPoints, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.resize(<span class="number">300</span>, <span class="number">300</span>)</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&quot;在窗口上用像素点绘制两个周期的正弦曲线&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">paintEvent</span>(<span class="params">self, event</span>):</span><br><span class="line">        painter = QPainter()</span><br><span class="line">        painter.begin(<span class="variable language_">self</span>)</span><br><span class="line">        painter.setPen(Qt.blue)</span><br><span class="line">        size = <span class="variable language_">self</span>.size()</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000</span>):  <span class="comment"># 1000次循环，绘制1000个点</span></span><br><span class="line">            <span class="comment"># 计算绘图点的坐标（x,y）</span></span><br><span class="line">            x = <span class="built_in">int</span>(<span class="number">100</span> * (-<span class="number">1</span> + <span class="number">2.0</span> * i / <span class="number">1000</span>) + size.width() / <span class="number">2.0</span>)</span><br><span class="line">            y = <span class="built_in">int</span>(-<span class="number">50</span> * math.sin((x - size.width() / <span class="number">2.0</span>) * math.pi / <span class="number">50</span>) + size.height() / <span class="number">2.0</span>)</span><br><span class="line">            painter.drawPoint(x, y)</span><br><span class="line"></span><br><span class="line">        painter.end()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = DrawPoints()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647780741419-ff4d4c54-22bb-4ac5-bbb4-65ee2fddd08a.png#clientId=u4e370659-cca8-4&amp;from=paste&amp;height=339&amp;id=u8768c8ad&amp;originHeight=339&amp;originWidth=316&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=8291&amp;status=done&amp;style=none&amp;taskId=u42252bea-bea1-48fc-bf31-f58963d8333&amp;title=&amp;width=316" alt="image.png"><br>
<a name="CX3Jr"></a></p>
<h2 id="拖动和剪贴板操作">拖动和剪贴板操作</h2>
<p><strong>拖动：</strong><br>将A控件拖入到B： 将A设置为可拖动，将B设置为可以接收其他控件的拖动<br>A.setDragEnabled(True)<br>B.setAcceptDrops(True)<br>对于接收拖动的控件B需要两个事件<br>1.dragEnterEvent 将A拖到B触发<br>2.dropEvent         在B的区域放下A时触发</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys, math</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyComboBox</span>(<span class="title class_ inherited__">QComboBox</span>) :  <span class="comment"># 定义为可以接收拖拽的下拉列表控件</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(MyComboBox, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.setAcceptDrops(<span class="literal">True</span>)  <span class="comment">#  将此控件设置为可接受拖动</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">dragEnterEvent</span>(<span class="params">self, e</span>):</span><br><span class="line">        <span class="built_in">print</span>(e)</span><br><span class="line">        <span class="keyword">if</span> e.mimeData().hasText():  <span class="comment"># 判断拖拽内容是否存在文本</span></span><br><span class="line">            e.accept()  <span class="comment"># 接收文本</span></span><br><span class="line">        <span class="keyword">else</span> :</span><br><span class="line">            e.ignore()  <span class="comment">#  忽略</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">dropEvent</span>(<span class="params">self, e</span>):</span><br><span class="line">        <span class="variable language_">self</span>.addItem(e.mimeData().text()) <span class="comment"># 添加文本</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DrapDropDemo</span>(<span class="title class_ inherited__">QWidget</span>) :</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(DrapDropDemo, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        formlayout = QFormLayout()</span><br><span class="line">        formlayout.addRow(QLabel(<span class="string">&quot;请将左边的文本拖拽到右边的下拉列表中&quot;</span>))</span><br><span class="line"></span><br><span class="line">        lineEdit = QLineEdit()</span><br><span class="line">        lineEdit.setDragEnabled(<span class="literal">True</span>)  <span class="comment"># 让文本输入框可被拖动</span></span><br><span class="line">        combo = MyComboBox()</span><br><span class="line">        formlayout.addRow(lineEdit,combo)</span><br><span class="line">        <span class="variable language_">self</span>.setLayout(formlayout)</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&quot;拖拽案例&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = DrapDropDemo()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>
<p>效果：<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647932457628-30bd9cbe-0913-45b0-b306-6b8d99b5a4eb.png#clientId=u633cd362-899e-4&amp;from=paste&amp;height=129&amp;id=u7af95515&amp;originHeight=129&amp;originWidth=243&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=5566&amp;status=done&amp;style=none&amp;taskId=u5184f5a0-ba43-49d2-af4e-3e28bbfe4df&amp;title=&amp;width=243" alt="image.png"><br><strong>使用剪贴板</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ClipBoard</span>(<span class="title class_ inherited__">QDialog</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(ClipBoard, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        textCopyButton = QPushButton(<span class="string">&#x27;复制文本&#x27;</span>)</span><br><span class="line">        textPasteButton = QPushButton(<span class="string">&#x27;粘贴文本&#x27;</span>)</span><br><span class="line">        htmlCopyButton = QPushButton(<span class="string">&#x27;复制HTML&#x27;</span>)</span><br><span class="line">        htmlPasteButton = QPushButton(<span class="string">&#x27;粘贴HTML&#x27;</span>)</span><br><span class="line">        imageCopyButton = QPushButton(<span class="string">&#x27;复制图像&#x27;</span>)</span><br><span class="line">        imagePasteButton = QPushButton(<span class="string">&#x27;粘贴图像&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.textLabel = QLabel(<span class="string">&#x27;默认文本&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.imageLabel = QLabel()</span><br><span class="line">        <span class="variable language_">self</span>.imageLabel.setPixmap(QPixmap(<span class="string">&#x27;./images/bool.png&#x27;</span>))</span><br><span class="line"></span><br><span class="line">        layout = QGridLayout()</span><br><span class="line">        layout.addWidget(textCopyButton, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">        layout.addWidget(imageCopyButton, <span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line">        layout.addWidget(htmlCopyButton, <span class="number">0</span>, <span class="number">2</span>)</span><br><span class="line">        layout.addWidget(textPasteButton, <span class="number">1</span>, <span class="number">0</span>)</span><br><span class="line">        layout.addWidget(imagePasteButton, <span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">        layout.addWidget(htmlPasteButton, <span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">        layout.addWidget(<span class="variable language_">self</span>.textLabel, <span class="number">2</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">        layout.addWidget(<span class="variable language_">self</span>.imageLabel, <span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">        <span class="variable language_">self</span>.setLayout(layout)</span><br><span class="line"></span><br><span class="line">        textCopyButton.clicked.connect(<span class="variable language_">self</span>.copyText)</span><br><span class="line">        textPasteButton.clicked.connect(<span class="variable language_">self</span>.pasteText)</span><br><span class="line">        htmlCopyButton.clicked.connect(<span class="variable language_">self</span>.copyHtml)</span><br><span class="line">        htmlPasteButton.clicked.connect(<span class="variable language_">self</span>.pasteHtml)</span><br><span class="line">        imageCopyButton.clicked.connect(<span class="variable language_">self</span>.copyImage)</span><br><span class="line">        imagePasteButton.clicked.connect(<span class="variable language_">self</span>.pasteImage)</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&#x27;剪贴板演示&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">copyText</span>(<span class="params">self</span>):</span><br><span class="line">        clipboard = QApplication.clipboard()  <span class="comment"># 创建剪贴板对象</span></span><br><span class="line">        clipboard.setText(<span class="string">&#x27;hello world&#x27;</span>)  <span class="comment"># 设置剪贴板的内容</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">pasteText</span>(<span class="params">self</span>):</span><br><span class="line">        clipboard = QApplication.clipboard()</span><br><span class="line">        <span class="variable language_">self</span>.textLabel.setText(clipboard.text())  <span class="comment"># 将剪贴板内容赋予文字标签</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">copyImage</span>(<span class="params">self</span>):</span><br><span class="line">        clipboard = QApplication.clipboard()</span><br><span class="line">        clipboard.setPixmap(QPixmap(<span class="string">&#x27;../images/bool.png&#x27;</span>)) <span class="comment"># 教程中是一个“.”但是只有是“..”才能正常复制粘贴</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">pasteImage</span>(<span class="params">self</span>):</span><br><span class="line">        clipboard = QApplication.clipboard()</span><br><span class="line">        <span class="variable language_">self</span>.imageLabel.setPixmap(clipboard.pixmap())</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">copyHtml</span>(<span class="params">self</span>):</span><br><span class="line">        mimeData = QMimeData()  <span class="comment"># 创建特殊数据类型对象</span></span><br><span class="line">        mimeData.setHtml(<span class="string">&#x27;&lt;b&gt;Bold and &lt;font color=red&gt;Red&lt;/font&gt;&lt;/b&gt;&#x27;</span>)</span><br><span class="line">        clipboard = QApplication.clipboard()</span><br><span class="line">        clipboard.setMimeData(mimeData)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">pasteHtml</span>(<span class="params">self</span>):</span><br><span class="line">        clipboard = QApplication.clipboard()</span><br><span class="line">        mimeData = clipboard.mimeData()</span><br><span class="line">        <span class="keyword">if</span> mimeData.hasHtml():</span><br><span class="line">            <span class="variable language_">self</span>.textLabel.setText(mimeData.html())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = ClipBoard()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>** **<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647947572643-536a80a1-64ea-4e9e-a3e1-6c50bd743c4d.png#clientId=uee23daa4-d12d-4&amp;from=paste&amp;height=319&amp;id=u774e6f72&amp;originHeight=319&amp;originWidth=400&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=21320&amp;status=done&amp;style=none&amp;taskId=u438e5d60-6d62-4a70-9d74-ebadda2d29a&amp;title=&amp;width=400" alt="image.png"><br>
<a name="Zq2O3"></a></p>
<h2 id="菜单栏、工具栏和状态栏">菜单栏、工具栏和状态栏</h2>
<p><a name="Mkc71"></a></p>
<h3 id="菜单栏">菜单栏</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Menu</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(Menu, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        bar = <span class="variable language_">self</span>.menuBar()  <span class="comment"># 得到窗口的菜单栏</span></span><br><span class="line">        file = bar.addMenu(<span class="string">&quot;文件&quot;</span>)  <span class="comment"># 为菜单栏添加菜单</span></span><br><span class="line">        file.addAction(<span class="string">&quot;新建&quot;</span>)  <span class="comment"># 为菜单添加子菜单</span></span><br><span class="line">        save = QAction(<span class="string">&quot;保存&quot;</span>, <span class="variable language_">self</span>)  <span class="comment"># 另一种创建菜单的方式，self代表的是当前窗口</span></span><br><span class="line">        save.setShortcut(<span class="string">&quot;Ctrl + S&quot;</span>)  <span class="comment"># 为菜单设置快捷键</span></span><br><span class="line">        file.addAction(save)  <span class="comment"># 将save设置为file的子菜单</span></span><br><span class="line">        save.triggered.connect(<span class="variable language_">self</span>.process)  <span class="comment"># 当触发save菜单时执行process</span></span><br><span class="line">        quit = QAction(<span class="string">&quot;退出&quot;</span>, <span class="variable language_">self</span>)</span><br><span class="line">        file.addAction(quit)</span><br><span class="line">        edit = bar.addMenu(<span class="string">&quot;Edit&quot;</span>)</span><br><span class="line">        edit.addAction(<span class="string">&quot;copy&quot;</span>)</span><br><span class="line">        edit.addAction(<span class="string">&quot;paste&quot;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.resize(<span class="number">300</span>, <span class="number">200</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process</span>(<span class="params">self, a</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="variable language_">self</span>.sender().text())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = Menu()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>效果：<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647951107335-180f6843-86a1-4e80-87fe-d440fdf9f102.png#clientId=uee23daa4-d12d-4&amp;from=paste&amp;height=235&amp;id=u124d5d69&amp;originHeight=235&amp;originWidth=352&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=7917&amp;status=done&amp;style=none&amp;taskId=udba9a388-9b50-4866-9a88-ac5f16f3601&amp;title=&amp;width=352" alt="image.png">点击保存后会执行自定义的process函数输出“保存”<br>
<a name="rDrsx"></a></p>
<h3 id="工具栏">工具栏</h3>
<p>工具栏是这样的<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647954376192-ec8a5f93-e51e-4a96-bac9-19ee9db06ec1.png#clientId=uee23daa4-d12d-4&amp;from=paste&amp;height=212&amp;id=u6b3eaf18&amp;originHeight=212&amp;originWidth=364&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=43881&amp;status=done&amp;style=none&amp;taskId=u441fd563-a655-4305-8806-300ead5c7a5&amp;title=&amp;width=364" alt="image.png"><br>工具栏有三种显示方式</p>
<ol>
<li>只显示图标</li>
<li>只显示文本</li>
<li>同时显示文本和图标</li>
</ol>
<p>ToolButtonIconOnly  只显示图标<br>ToolButtonTextOnly   只显示文本<br>ToolButtonTextBesideIcon   文本显示在图标旁边<br>ToolButtonTextUnderIcon   文本显示在图标下边<br>ToolButtonFollowStyle 默认模式，文本作为图标的提示出现<br>设置显示方式：<br>tb2.setToolButtonStyle(Qt.ToolButtonTextUnderIcon)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ToolBar</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(ToolBar, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.initUI()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">initUI</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&#x27;工具栏例子&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.resize(<span class="number">300</span>, <span class="number">200</span>)</span><br><span class="line">        tb1 = <span class="variable language_">self</span>.addToolBar(<span class="string">&quot;File&quot;</span>)  <span class="comment"># 创建一个工具栏</span></span><br><span class="line">        new = QAction(QIcon(<span class="string">&#x27;../images/icon4.png&#x27;</span>), <span class="string">&quot;new&quot;</span>, <span class="variable language_">self</span>)  <span class="comment"># 为工具栏添加工具，第一个参数为图标，第二个参数为文本</span></span><br><span class="line">        tb1.addAction(new)  <span class="comment"># 将new工具添加到工具栏（tb1）上</span></span><br><span class="line">        <span class="built_in">open</span> = QAction(QIcon(<span class="string">&#x27;../images/icon1.png&#x27;</span>), <span class="string">&quot;open&quot;</span>, <span class="variable language_">self</span>)</span><br><span class="line">        tb1.addAction(<span class="built_in">open</span>)</span><br><span class="line">        save = QAction(QIcon(<span class="string">&#x27;../images/icon2.png&#x27;</span>), <span class="string">&quot;save&quot;</span>, <span class="variable language_">self</span>)</span><br><span class="line">        tb1.addAction(save)</span><br><span class="line"></span><br><span class="line">        tb2 = <span class="variable language_">self</span>.addToolBar(<span class="string">&quot;File1&quot;</span>)  <span class="comment"># 创建第二个工具栏</span></span><br><span class="line">        new1 = QAction(QIcon(<span class="string">&#x27;../images/icon3.png&#x27;</span>), <span class="string">&quot;新建&quot;</span>, <span class="variable language_">self</span>)</span><br><span class="line">        tb2.addAction(new1)</span><br><span class="line"></span><br><span class="line">        tb2.setToolButtonStyle(Qt.ToolButtonTextUnderIcon)  <span class="comment"># 设置工具的显示方式（针对图标和文本）</span></span><br><span class="line">        tb1.actionTriggered.connect(<span class="variable language_">self</span>.toolbtnpressed)  <span class="comment"># 当触发工具时执行函数</span></span><br><span class="line">        tb2.actionTriggered.connect(<span class="variable language_">self</span>.toolbtnpressed)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">toolbtnpressed</span>(<span class="params">self, a</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;按下的工具栏按钮是&quot;</span>, a.text())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = ToolBar()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1647955724563-f8a2fdab-2a6d-4136-99fb-aafb29329646.png#clientId=uee23daa4-d12d-4&amp;from=paste&amp;height=244&amp;id=u162996e1&amp;originHeight=244&amp;originWidth=503&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=17762&amp;status=done&amp;style=none&amp;taskId=uad09a1e2-830c-437a-9bd7-a677711b366&amp;title=&amp;width=503" alt="image.png"><br>
<a name="ePggH"></a></p>
<h3 id="状态栏">状态栏</h3>
<p>状态栏是在窗口下方用来显示状态文本信息的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">StatusBar</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(StatusBar, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.initUI()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">initUI</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&#x27;状态栏演示&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.resize(<span class="number">300</span>, <span class="number">200</span>)</span><br><span class="line">        bar = <span class="variable language_">self</span>.menuBar()</span><br><span class="line">        file = bar.addMenu(<span class="string">&quot;File&quot;</span>)</span><br><span class="line">        file.addAction(<span class="string">&quot;show&quot;</span>)</span><br><span class="line">        file.triggered.connect(<span class="variable language_">self</span>.processTrigger)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.setCentralWidget(QTextEdit())  <span class="comment"># 设置中心控件为文本框</span></span><br><span class="line">        <span class="variable language_">self</span>.statusBar = QStatusBar()  <span class="comment"># 创建状态栏</span></span><br><span class="line">        <span class="variable language_">self</span>.setStatusBar(<span class="variable language_">self</span>.statusBar)  <span class="comment"># 设置状态栏</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">processTrigger</span>(<span class="params">self, q</span>):</span><br><span class="line">        <span class="keyword">if</span> q.text() == <span class="string">&quot;show&quot;</span>:</span><br><span class="line">            <span class="variable language_">self</span>.statusBar.showMessage(q.text() + <span class="string">&#x27;菜单被点击了&#x27;</span>, <span class="number">5000</span>)  <span class="comment"># 设置状态栏的显示文本和时间（5s）</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = StatusBar()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648001233589-16f827ad-d8a8-4bbc-9284-0f6b8ee67b76.png#clientId=uf7da44c7-654a-4&amp;from=paste&amp;height=239&amp;id=u712c45b1&amp;originHeight=239&amp;originWidth=316&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=7525&amp;status=done&amp;style=none&amp;taskId=uad0fca6d-7940-4c86-933e-a9408d596bb&amp;title=&amp;width=316" alt="image.png"><br>
<a name="Wc45g"></a></p>
<h2 id="表格布局">表格布局</h2>
<p><a name="E7ejM"></a></p>
<h3 id="QTableView控件-显示二维表数据">QTableView控件 显示二维表数据</h3>
<p><strong>显示二维表数据</strong><br>MCV数据处理方法： <br>M:Model   V: Viewer  C: Controller<br>将每个信息都分开创建再联系到一起，目的是将后端的数据和前端页面的耦合度降低，使一个数据可以被多次使用</p>
<p>声明表格模型，创建表格的首行标题，设置表格的数据，声明表格控件，关联表格控件与模型，最终将表格控件添加到布局中。<br><strong>总而言之就是根据数据创建模型，控件由模型构成。</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TableView</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(TableView, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&#x27;QTableView表格视图控件演示&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.resize(<span class="number">500</span>, <span class="number">300</span>)</span><br><span class="line">        <span class="variable language_">self</span>.model = QStandardItemModel(<span class="number">4</span>, <span class="number">3</span>)  <span class="comment"># 设置表格的行列</span></span><br><span class="line">        <span class="variable language_">self</span>.model.setHorizontalHeaderLabels([<span class="string">&#x27;id&#x27;</span>, <span class="string">&#x27;姓名&#x27;</span>, <span class="string">&#x27;年龄&#x27;</span>])  <span class="comment"># 设置水平标题</span></span><br><span class="line">        <span class="variable language_">self</span>.tableview = QTableView()  <span class="comment"># 创建表格视图控件</span></span><br><span class="line">        <span class="variable language_">self</span>.tableview.setModel(<span class="variable language_">self</span>.model)  <span class="comment"># 关联表格视图控件和表格</span></span><br><span class="line"></span><br><span class="line">        item11 = QStandardItem(<span class="string">&#x27;10&#x27;</span>)  <span class="comment"># 创建数据</span></span><br><span class="line">        item12 = QStandardItem(<span class="string">&#x27;雷神&#x27;</span>)</span><br><span class="line">        item13 = QStandardItem(<span class="string">&#x27;2000&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.model.setItem(<span class="number">0</span>, <span class="number">0</span>, item11)  <span class="comment"># 关联数据与表格</span></span><br><span class="line">        <span class="variable language_">self</span>.model.setItem(<span class="number">0</span>, <span class="number">1</span>, item12)</span><br><span class="line">        <span class="variable language_">self</span>.model.setItem(<span class="number">0</span>, <span class="number">2</span>, item13)</span><br><span class="line"></span><br><span class="line">        item31 = QStandardItem(<span class="string">&#x27;30&#x27;</span>)  <span class="comment"># 创建数据</span></span><br><span class="line">        item32 = QStandardItem(<span class="string">&#x27;死亡女神&#x27;</span>)</span><br><span class="line">        item33 = QStandardItem(<span class="string">&#x27;3000&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.model.setItem(<span class="number">2</span>, <span class="number">0</span>, item31)  <span class="comment"># 关联数据与表格</span></span><br><span class="line">        <span class="variable language_">self</span>.model.setItem(<span class="number">2</span>, <span class="number">1</span>, item32)</span><br><span class="line">        <span class="variable language_">self</span>.model.setItem(<span class="number">2</span>, <span class="number">2</span>, item33)</span><br><span class="line">        layout = QVBoxLayout()</span><br><span class="line">        layout.addWidget(<span class="variable language_">self</span>.tableview)</span><br><span class="line">        <span class="variable language_">self</span>.setLayout(layout)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = TableView()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648040018431-eb8dca1f-5f75-4747-bfa5-1d02f38cf801.png#clientId=ub98e5d78-2f47-4&amp;from=paste&amp;height=339&amp;id=u82cedebe&amp;originHeight=339&amp;originWidth=516&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=12172&amp;status=done&amp;style=none&amp;taskId=uaccca19f-8001-460b-8834-5c23336027b&amp;title=&amp;width=516" alt="image.png"><br>
<a name="pOArw"></a></p>
<h3 id="QTableWidget-扩展的表格控件">QTableWidget 扩展的表格控件</h3>
<p>QTableWidget是QTableView的子类，相比父类添加了其他方法<br>每一个Cell（单元格）是一个QTableWidgetItem</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TableWidgetDemo</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(TableWidgetDemo, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.initUI()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">initUI</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&#x27;QTableWidget演示&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.resize(<span class="number">430</span>, <span class="number">230</span>)</span><br><span class="line">        layout = QVBoxLayout()</span><br><span class="line"></span><br><span class="line">        tablewidget = QTableWidget()</span><br><span class="line">        tablewidget.setRowCount(<span class="number">4</span>)  <span class="comment"># 设置表格行数</span></span><br><span class="line">        tablewidget.setColumnCount(<span class="number">3</span>)  <span class="comment"># 设置表格列数</span></span><br><span class="line"></span><br><span class="line">        layout.addWidget(tablewidget)</span><br><span class="line"></span><br><span class="line">        tablewidget.setHorizontalHeaderLabels([<span class="string">&#x27;姓名&#x27;</span>, <span class="string">&#x27;年龄&#x27;</span>, <span class="string">&#x27;籍贯&#x27;</span>])  <span class="comment"># 设置水平标题</span></span><br><span class="line">        nameItem = QTableWidgetItem(<span class="string">&#x27;小明&#x27;</span>)  <span class="comment"># 创建表格的项</span></span><br><span class="line">        tablewidget.setItem(<span class="number">0</span>, <span class="number">0</span>, nameItem)  <span class="comment"># 将项添加到表格中</span></span><br><span class="line">        ageItem = QTableWidgetItem(<span class="string">&#x27;24&#x27;</span>)</span><br><span class="line">        tablewidget.setItem(<span class="number">0</span>, <span class="number">1</span>, ageItem)</span><br><span class="line">        jgItem = QTableWidgetItem(<span class="string">&#x27;北京&#x27;</span>)</span><br><span class="line">        tablewidget.setItem(<span class="number">0</span>, <span class="number">2</span>, jgItem)</span><br><span class="line">        <span class="comment"># 设置表格为禁止编辑</span></span><br><span class="line">        tablewidget.setEditTriggers(QAbstractItemView.NoEditTriggers)</span><br><span class="line">        <span class="comment"># 是选择表格项时是一行一行的选择的</span></span><br><span class="line">        tablewidget.setSelectionBehavior(QAbstractItemView.SelectRows)</span><br><span class="line">        <span class="comment"># 设置表格的行与列的大小是根据项的内容自动匹配的</span></span><br><span class="line">        tablewidget.resizeColumnsToContents()</span><br><span class="line">        tablewidget.resizeRowsToContents()</span><br><span class="line">        <span class="comment"># 设置表格的水平标题与垂直标题不可见</span></span><br><span class="line">        tablewidget.verticalHeader().setVisible(<span class="literal">False</span>)</span><br><span class="line">        <span class="comment"># tablewidget.horizontalHeader().setVisible(False)</span></span><br><span class="line">        <span class="comment"># 设置表格的垂直标题</span></span><br><span class="line">        tablewidget.setVerticalHeaderLabels([<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>])</span><br><span class="line">        <span class="comment"># 隐藏表格线</span></span><br><span class="line">        tablewidget.setShowGrid(<span class="literal">False</span>)</span><br><span class="line">        <span class="variable language_">self</span>.setLayout(layout)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = TableWidgetDemo()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648088448877-2b967c1f-088f-4b00-87ba-905c7e704b6c.png#clientId=u0a1365fb-5932-4&amp;from=paste&amp;height=269&amp;id=ub36e29fc&amp;originHeight=269&amp;originWidth=446&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=10326&amp;status=done&amp;style=none&amp;taskId=uc4134548-8c79-4a2b-93c1-b23e92557b7&amp;title=&amp;width=446" alt="image.png"><br>
<a name="k0eYh"></a></p>
<h3 id="QListView控件-显示列数据">QListView控件  显示列数据</h3>
<p>先声明列数据控件，再声明列数据模型，然后声明列数据，然后将列数据与列数据模型关联起来，然后再把列数据控件与列数据模型关联起来。最终将列数据控件添加到布局中。<br><strong>总而言之就是根据数据创建模型，控件由模型构成。</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ListViewDemo</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(ListViewDemo, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&#x27;QListView 例子&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.resize(<span class="number">300</span>, <span class="number">270</span>)</span><br><span class="line">        layout = QVBoxLayout()</span><br><span class="line">        listview = QListView()  <span class="comment"># 创建列数据控件</span></span><br><span class="line">        listModel = QStringListModel()  <span class="comment"># 创建列数据模型</span></span><br><span class="line">        <span class="variable language_">self</span>.<span class="built_in">list</span> = [<span class="string">&#x27;列表项1&#x27;</span>, <span class="string">&#x27;列表项2&#x27;</span>, <span class="string">&#x27;列表项3&#x27;</span>]</span><br><span class="line">        listModel.setStringList(<span class="variable language_">self</span>.<span class="built_in">list</span>)  <span class="comment"># 关联模型与数据</span></span><br><span class="line">        listview.setModel(listModel)  <span class="comment"># 关联控件和模型</span></span><br><span class="line">        listview.clicked.connect(<span class="variable language_">self</span>.clicked)</span><br><span class="line">        layout.addWidget(listview)</span><br><span class="line">        <span class="variable language_">self</span>.setLayout(layout)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">clicked</span>(<span class="params">self, item</span>):</span><br><span class="line">        <span class="comment"># 输出一个信息框，第一个意思是信息框属于QWidget类型，第二个设置信息框的标题，第三个为信息</span></span><br><span class="line">        QMessageBox.information(<span class="variable language_">self</span>, <span class="string">&#x27;QListView&#x27;</span>, <span class="string">&#x27;您选择了:&#x27;</span> + <span class="variable language_">self</span>.<span class="built_in">list</span>[item.row()])  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = ListViewDemo()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648041209428-4e27352f-2c72-494a-9d69-b8650be86ec6.png#clientId=ub98e5d78-2f47-4&amp;from=paste&amp;height=305&amp;id=u356e8527&amp;originHeight=305&amp;originWidth=302&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=13309&amp;status=done&amp;style=none&amp;taskId=u98e194b6-3567-4284-b130-64c001c433e&amp;title=&amp;width=302" alt="image.png"><br>
<a name="tPESG"></a></p>
<h3 id="QListWidget-扩展的列表控件">QListWidget 扩展的列表控件</h3>
<p>QListWidget是QListView的子类<br>子类在父类的基础上添加了很多API</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ListWidgetDemo</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, parent=<span class="literal">None</span></span>):</span><br><span class="line">        <span class="built_in">super</span>(ListWidgetDemo, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&#x27;QListWidget 例子&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.resize(<span class="number">300</span>, <span class="number">270</span>)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.listwidget = QListWidget()  <span class="comment"># 创建ListWedget控件的实例</span></span><br><span class="line">        <span class="variable language_">self</span>.listwidget.addItem(<span class="string">&#x27;item1&#x27;</span>)  <span class="comment"># 直接为实例添加数据</span></span><br><span class="line">        <span class="variable language_">self</span>.listwidget.addItem(<span class="string">&#x27;item2&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.listwidget.addItem(<span class="string">&#x27;item3&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.listwidget.addItem(<span class="string">&#x27;item4&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.listwidget.addItem(<span class="string">&#x27;item5&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.listwidget.itemClicked.connect(<span class="variable language_">self</span>.clicked)</span><br><span class="line">        <span class="variable language_">self</span>.setCentralWidget(<span class="variable language_">self</span>.listwidget)  <span class="comment"># 将列表控件设置为中心控件</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">clicked</span>(<span class="params">self, Index</span>):</span><br><span class="line">        QMessageBox.information(<span class="variable language_">self</span>, <span class="string">&#x27;QListWidget&#x27;</span>, <span class="string">&#x27;您选择了：&#x27;</span> + <span class="variable language_">self</span>.listwidget.item(<span class="variable language_">self</span>.listwidget.row(Index)).text())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = ListWidgetDemo()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648043406674-cdbcc6c4-ead8-49a3-85fd-d9c10552dbfa.png#clientId=ub98e5d78-2f47-4&amp;from=paste&amp;height=309&amp;id=u606a7692&amp;originHeight=309&amp;originWidth=316&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=13411&amp;status=done&amp;style=none&amp;taskId=u4ee368ec-57ac-4c52-ae47-8af03e38aa3&amp;title=&amp;width=316" alt="image.png"><br>
<a name="H200e"></a></p>
<h2 id="容器控件">容器控件</h2>
<p><a name="ct1m0"></a></p>
<h3 id="QTabWidget选项卡控件">QTabWidget选项卡控件</h3>
<p>QTabWidget被继承后，可以在QTabWidget容器中添加多个tab（选项卡），然后可以为不同选项卡设置不同的窗口。<br>选项卡控件介绍：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648089012732-a45c4cea-9eca-4fc0-ab6a-362765e8de93.png#clientId=u0a1365fb-5932-4&amp;from=paste&amp;height=704&amp;id=ud9df96e9&amp;originHeight=704&amp;originWidth=924&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=181751&amp;status=done&amp;style=none&amp;taskId=uf5f5d812-7091-43f6-a283-5fbbbce2626&amp;title=&amp;width=924" alt="image.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TabWidgetDemo</span>(<span class="title class_ inherited__">QTabWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(TabWidgetDemo, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&quot;选项卡控件：QTabWidget&quot;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.resize(<span class="number">400</span>, <span class="number">300</span>)</span><br><span class="line">        <span class="comment"># 创建选项卡窗口</span></span><br><span class="line">        <span class="variable language_">self</span>.tab1 = QWidget()</span><br><span class="line">        <span class="variable language_">self</span>.tab2 = QWidget()</span><br><span class="line">        <span class="variable language_">self</span>.tab3 = QWidget()</span><br><span class="line">        <span class="comment"># 关联窗口和选项卡</span></span><br><span class="line">        <span class="variable language_">self</span>.addTab(<span class="variable language_">self</span>.tab1, <span class="string">&quot;选项卡1&quot;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.addTab(<span class="variable language_">self</span>.tab2, <span class="string">&quot;选项卡2&quot;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.addTab(<span class="variable language_">self</span>.tab3, <span class="string">&quot;选项卡3&quot;</span>)</span><br><span class="line">        <span class="comment"># 设置窗口的属性</span></span><br><span class="line">        <span class="variable language_">self</span>.tab1UI()</span><br><span class="line">        <span class="variable language_">self</span>.tab2UI()</span><br><span class="line">        <span class="variable language_">self</span>.tab3UI()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">tab1UI</span>(<span class="params">self</span>):</span><br><span class="line">        layout = QFormLayout()</span><br><span class="line">        layout.addRow(<span class="string">&#x27;姓名&#x27;</span>, QLineEdit())</span><br><span class="line">        layout.addRow(<span class="string">&#x27;地址&#x27;</span>, QLineEdit())</span><br><span class="line">        <span class="variable language_">self</span>.setTabText(<span class="number">0</span>, <span class="string">&#x27;联系方式&#x27;</span>)  <span class="comment"># 设置下标为0的选项卡的标题</span></span><br><span class="line">        <span class="variable language_">self</span>.tab1.setLayout(layout)  <span class="comment"># 设置选项卡的布局</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">tab2UI</span>(<span class="params">self</span>):</span><br><span class="line">        layout = QFormLayout()</span><br><span class="line">        sex = QHBoxLayout()</span><br><span class="line">        sex.addWidget(QRadioButton(<span class="string">&#x27;男&#x27;</span>))</span><br><span class="line">        sex.addWidget(QRadioButton(<span class="string">&#x27;女&#x27;</span>))</span><br><span class="line">        layout.addRow(QLabel(<span class="string">&#x27;性别&#x27;</span>), sex)</span><br><span class="line">        layout.addRow(<span class="string">&#x27;生日&#x27;</span>, QLineEdit())</span><br><span class="line">        <span class="variable language_">self</span>.setTabText(<span class="number">1</span>, <span class="string">&#x27;个人详细信息&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.tab2.setLayout(layout)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">tab3UI</span>(<span class="params">self</span>):</span><br><span class="line">        layout = QHBoxLayout()</span><br><span class="line">        layout.addWidget(QLabel(<span class="string">&#x27;科目&#x27;</span>))</span><br><span class="line">        layout.addWidget(QCheckBox(<span class="string">&#x27;物理&#x27;</span>))</span><br><span class="line">        layout.addWidget(QCheckBox(<span class="string">&#x27;高数&#x27;</span>))</span><br><span class="line">        <span class="variable language_">self</span>.setTabText(<span class="number">2</span>, <span class="string">&quot;教育程度&quot;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.tab3.setLayout(layout)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = TabWidgetDemo()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648090800485-7283343c-7ae1-4146-b441-a4956681fa47.png#clientId=u0a1365fb-5932-4&amp;from=paste&amp;height=339&amp;id=u717d3c54&amp;originHeight=339&amp;originWidth=416&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=8817&amp;status=done&amp;style=none&amp;taskId=u58c21134-62b8-4cac-b572-eefbf0be8c9&amp;title=&amp;width=416" alt="image.png"><br>
<a name="HPQ5l"></a></p>
<h3 id="QStackedWidget-堆栈窗口控件">QStackedWidget 堆栈窗口控件</h3>
<p>堆栈窗口控件就是用来存放多个窗口的容器，然后可以通过setCurrentIndex(index)方法来显示对应序号的窗口</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">StackedExample</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(StackedExample, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.setGeometry(<span class="number">300</span>, <span class="number">50</span>, <span class="number">10</span>, <span class="number">10</span>)</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&quot;堆栈窗口控件：QStackedWidget&quot;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.resize(<span class="number">400</span>, <span class="number">300</span>)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.<span class="built_in">list</span> = QListWidget()</span><br><span class="line">        <span class="variable language_">self</span>.<span class="built_in">list</span>.insertItem(<span class="number">0</span>, <span class="string">&#x27;联系方式&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.<span class="built_in">list</span>.insertItem(<span class="number">1</span>, <span class="string">&#x27;个人信息&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.<span class="built_in">list</span>.insertItem(<span class="number">2</span>, <span class="string">&#x27;教育程度&#x27;</span>)</span><br><span class="line">        <span class="comment"># 创建三个用来堆栈的窗口</span></span><br><span class="line">        <span class="variable language_">self</span>.stack1 = QWidget()</span><br><span class="line">        <span class="variable language_">self</span>.stack2 = QWidget()</span><br><span class="line">        <span class="variable language_">self</span>.stack3 = QWidget()</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.tab1UI()</span><br><span class="line">        <span class="variable language_">self</span>.tab2UI()</span><br><span class="line">        <span class="variable language_">self</span>.tab3UI()</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.stack = QStackedWidget()  <span class="comment"># 创建堆栈窗口控件</span></span><br><span class="line">        <span class="variable language_">self</span>.stack.addWidget(<span class="variable language_">self</span>.stack1)  <span class="comment"># 将创建的窗口放入堆栈窗口控件中</span></span><br><span class="line">        <span class="variable language_">self</span>.stack.addWidget(<span class="variable language_">self</span>.stack2)</span><br><span class="line">        <span class="variable language_">self</span>.stack.addWidget(<span class="variable language_">self</span>.stack3)</span><br><span class="line">        <span class="comment"># 创建水平布局左边为列表控件 右边为堆栈窗口控件</span></span><br><span class="line">        hbox = QHBoxLayout()</span><br><span class="line">        hbox.addWidget(<span class="variable language_">self</span>.<span class="built_in">list</span>)</span><br><span class="line">        hbox.addWidget(<span class="variable language_">self</span>.stack)</span><br><span class="line">        <span class="variable language_">self</span>.setLayout(hbox)</span><br><span class="line">        <span class="variable language_">self</span>.<span class="built_in">list</span>.currentRowChanged.connect(<span class="variable language_">self</span>.display)  <span class="comment"># 当改变选择的列表行时调用display函数，来显示对应的堆栈中的窗口</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">tab1UI</span>(<span class="params">self</span>):</span><br><span class="line">        layout = QFormLayout()</span><br><span class="line">        layout.addRow(<span class="string">&#x27;姓名&#x27;</span>, QLineEdit())</span><br><span class="line">        layout.addRow(<span class="string">&#x27;地址&#x27;</span>, QLineEdit())</span><br><span class="line">        <span class="variable language_">self</span>.stack1.setLayout(layout)  <span class="comment"># 为stack1窗口添加布局</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">tab2UI</span>(<span class="params">self</span>):</span><br><span class="line">        layout = QFormLayout()</span><br><span class="line">        sex = QHBoxLayout()</span><br><span class="line">        sex.addWidget(QRadioButton(<span class="string">&#x27;男&#x27;</span>))</span><br><span class="line">        sex.addWidget(QRadioButton(<span class="string">&#x27;女&#x27;</span>))</span><br><span class="line">        layout.addRow(QLabel(<span class="string">&#x27;性别&#x27;</span>), sex)</span><br><span class="line">        layout.addRow(<span class="string">&#x27;生日&#x27;</span>, QLineEdit())</span><br><span class="line">        <span class="variable language_">self</span>.stack2.setLayout(layout)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">tab3UI</span>(<span class="params">self</span>):</span><br><span class="line">        layout = QHBoxLayout()</span><br><span class="line">        layout.addWidget(QLabel(<span class="string">&#x27;科目&#x27;</span>))</span><br><span class="line">        layout.addWidget(QCheckBox(<span class="string">&#x27;物理&#x27;</span>))</span><br><span class="line">        layout.addWidget(QCheckBox(<span class="string">&#x27;高数&#x27;</span>))</span><br><span class="line">        <span class="variable language_">self</span>.stack3.setLayout(layout)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">display</span>(<span class="params">self, index</span>):</span><br><span class="line">        <span class="variable language_">self</span>.stack.setCurrentIndex(index)  <span class="comment"># 根据序号切换显示堆栈中的对应窗口</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = StackedExample()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648096644277-d9ed0652-90a8-44a5-8716-db535ad1db2b.png#clientId=u0a1365fb-5932-4&amp;from=paste&amp;height=339&amp;id=u028fd2d4&amp;originHeight=339&amp;originWidth=416&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=13718&amp;status=done&amp;style=none&amp;taskId=u7c26c10f-f482-4cea-8156-1c757b2edbe&amp;title=&amp;width=416" alt="image.png"><br>
<a name="NwSni"></a></p>
<h3 id="QDockWidget停靠控件">QDockWidget停靠控件</h3>
<p>停靠控件用来创建那些平时使用的软件中的可以自由拖动与固定的那些窗口</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DockDemo</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(DockDemo, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&#x27;停靠控件（QDockWidget）&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.resize(<span class="number">400</span>, <span class="number">300</span>)</span><br><span class="line">        layout = QHBoxLayout()</span><br><span class="line">        <span class="variable language_">self</span>.items = QDockWidget(<span class="string">&#x27;Dockable&#x27;</span>, <span class="variable language_">self</span>)  <span class="comment"># 创建停靠窗口并设置名字</span></span><br><span class="line">        <span class="variable language_">self</span>.listWidget = QListWidget()</span><br><span class="line">        <span class="variable language_">self</span>.listWidget.addItem(<span class="string">&#x27;item1&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.listWidget.addItem(<span class="string">&#x27;item2&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.listWidget.addItem(<span class="string">&#x27;item3&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.items.setWidget(<span class="variable language_">self</span>.listWidget)  <span class="comment"># 将列表控件设置到停靠窗口上</span></span><br><span class="line">        <span class="variable language_">self</span>.setCentralWidget(QLineEdit())  <span class="comment"># 设置中心控件为文本框</span></span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.items.setFloating(<span class="literal">True</span>)  <span class="comment"># 设置停靠窗口默认是悬浮状态</span></span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.addDockWidget(Qt.RightDockWidgetArea, <span class="variable language_">self</span>.items)  <span class="comment"># 添加停靠窗口并设置为默认停靠右侧</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = DockDemo()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648098692621-5e5f163f-cd6f-46b1-850e-fa1b7858a81f.png#clientId=u0a1365fb-5932-4&amp;from=paste&amp;height=339&amp;id=uc867dc67&amp;originHeight=339&amp;originWidth=416&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=11483&amp;status=done&amp;style=none&amp;taskId=u3c594ff8-a28f-4b6f-a14b-e50e71c4b69&amp;title=&amp;width=416" alt="image.png"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648098700284-bf7a14b0-9520-424d-a8d2-8dcdacd46cc1.png#clientId=u0a1365fb-5932-4&amp;from=paste&amp;height=339&amp;id=ucb7ed843&amp;originHeight=339&amp;originWidth=416&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=11969&amp;status=done&amp;style=none&amp;taskId=uac01a939-cf81-48d0-a2a9-3bdabc7cf97&amp;title=&amp;width=416" alt="image.png"><br>
<a name="viU6m"></a></p>
<h3 id="容纳多文档窗口">容纳多文档窗口</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MultiWindows</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    count = <span class="number">0</span>  <span class="comment"># 记录窗口数</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, parent=<span class="literal">None</span></span>):</span><br><span class="line">        <span class="built_in">super</span>(MultiWindows, <span class="variable language_">self</span>).__init__(parent)</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&#x27;容纳多文档的窗口&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.mdi = QMdiArea()  <span class="comment"># 用来存放多文档的控件</span></span><br><span class="line">        <span class="variable language_">self</span>.setCentralWidget(<span class="variable language_">self</span>.mdi)</span><br><span class="line">        bar = <span class="variable language_">self</span>.menuBar()</span><br><span class="line">        file = bar.addMenu(<span class="string">&#x27;File&#x27;</span>)</span><br><span class="line">        file.addAction(<span class="string">&#x27;New&#x27;</span>)</span><br><span class="line">        file.addAction(<span class="string">&#x27;cascade&#x27;</span>)  <span class="comment"># 用来设置层叠方式</span></span><br><span class="line">        file.addAction(<span class="string">&#x27;Tiled&#x27;</span>)  <span class="comment"># 用来设置平铺方式</span></span><br><span class="line">        file.triggered.connect(<span class="variable language_">self</span>.windowacation)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">windowacation</span>(<span class="params">self, q</span>):</span><br><span class="line">        <span class="built_in">print</span>(q.text())</span><br><span class="line">        <span class="keyword">if</span> q.text() == <span class="string">&quot;New&quot;</span>:</span><br><span class="line">            MultiWindows.count = MultiWindows.count + <span class="number">1</span>  <span class="comment"># 用来统计创建的窗口个数</span></span><br><span class="line">            sub = QMdiSubWindow()  <span class="comment"># 创建子窗口对象</span></span><br><span class="line">            sub.setWidget(QTextEdit())</span><br><span class="line">            sub.setWindowTitle(<span class="string">&#x27;子窗口&#x27;</span> + <span class="built_in">str</span>(MultiWindows.count))</span><br><span class="line">            <span class="variable language_">self</span>.mdi.addSubWindow(sub)</span><br><span class="line">            sub.show()</span><br><span class="line">        <span class="keyword">elif</span> q.text() == <span class="string">&quot;cascade&quot;</span>:</span><br><span class="line">            <span class="variable language_">self</span>.mdi.cascadeSubWindows()</span><br><span class="line">        <span class="keyword">elif</span> q.text() == <span class="string">&quot;Tiled&quot;</span>:</span><br><span class="line">            <span class="variable language_">self</span>.mdi.tileSubWindows()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = MultiWindows()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>new时：新建窗口<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648102793095-e5973c74-e66d-41ad-85c5-70d32913d4e0.png#clientId=u0a1365fb-5932-4&amp;from=paste&amp;height=759&amp;id=ud0fddb13&amp;originHeight=759&amp;originWidth=1296&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=44400&amp;status=done&amp;style=none&amp;taskId=u582a7f95-5bea-4b95-93c8-ac8a191b9b8&amp;title=&amp;width=1296" alt="image.png"><br>cascade时： 层叠<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648102811665-6e66d50f-71f1-420b-8190-e972a59251a0.png#clientId=u0a1365fb-5932-4&amp;from=paste&amp;height=759&amp;id=u576a177c&amp;originHeight=759&amp;originWidth=1296&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=45726&amp;status=done&amp;style=none&amp;taskId=ue11a42f9-0d6b-4fd4-849e-ba9805657c8&amp;title=&amp;width=1296" alt="image.png"><br>Tiled时  平铺<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648102832436-9c225cff-d611-4aab-8ab5-6c4b15484aea.png#clientId=u0a1365fb-5932-4&amp;from=paste&amp;height=759&amp;id=u48907feb&amp;originHeight=759&amp;originWidth=1296&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=47111&amp;status=done&amp;style=none&amp;taskId=u32c80d48-bb4d-4a85-9cdf-5cb01dec8f3&amp;title=&amp;width=1296" alt="image.png"><br>
<a name="tegeQ"></a></p>
<h3 id="QScrollBar滚动条控件">QScrollBar滚动条控件</h3>
<ol>
<li>通过滚动条值的变化控制其他控件状态的变化</li>
<li>通过滚动条值的变化控制控件位置的变化</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ScrollBar</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(ScrollBar, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.initUI()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">initUI</span>(<span class="params">self</span>):</span><br><span class="line">        hbox = QHBoxLayout()</span><br><span class="line">        <span class="variable language_">self</span>.label = QLabel(<span class="string">&#x27;拖动滚动条去改变文字颜色&#x27;</span>)</span><br><span class="line">        hbox.addWidget(<span class="variable language_">self</span>.label)</span><br><span class="line">        <span class="variable language_">self</span>.scrollbar1 = QScrollBar()  <span class="comment"># 创建滚动条</span></span><br><span class="line">        <span class="variable language_">self</span>.scrollbar1.setMaximum(<span class="number">255</span>)  <span class="comment"># 设置滚动条尽头对应的最大值</span></span><br><span class="line">        <span class="variable language_">self</span>.scrollbar1.sliderMoved.connect(<span class="variable language_">self</span>.sliderMoved)  <span class="comment"># 当滚动条的滑块移动时触发</span></span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.scrollbar2 = QScrollBar()</span><br><span class="line">        <span class="variable language_">self</span>.scrollbar2.setMaximum(<span class="number">255</span>)</span><br><span class="line">        <span class="variable language_">self</span>.scrollbar2.sliderMoved.connect(<span class="variable language_">self</span>.sliderMoved)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.scrollbar3 = QScrollBar()</span><br><span class="line">        <span class="variable language_">self</span>.scrollbar3.setMaximum(<span class="number">255</span>)</span><br><span class="line">        <span class="variable language_">self</span>.scrollbar3.sliderMoved.connect(<span class="variable language_">self</span>.sliderMoved)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.scrollbar4 = QScrollBar()</span><br><span class="line">        <span class="variable language_">self</span>.scrollbar4.setMaximum(<span class="number">255</span>)</span><br><span class="line">        <span class="variable language_">self</span>.scrollbar4.sliderMoved.connect(<span class="variable language_">self</span>.sliderMoved1)</span><br><span class="line"></span><br><span class="line">        hbox.addWidget(<span class="variable language_">self</span>.scrollbar1)</span><br><span class="line">        hbox.addWidget(<span class="variable language_">self</span>.scrollbar2)</span><br><span class="line">        hbox.addWidget(<span class="variable language_">self</span>.scrollbar3)</span><br><span class="line">        hbox.addWidget(<span class="variable language_">self</span>.scrollbar4)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.setGeometry(<span class="number">300</span>, <span class="number">300</span>, <span class="number">300</span>, <span class="number">200</span>)  <span class="comment"># 设置窗口的大小</span></span><br><span class="line">        <span class="variable language_">self</span>.setLayout(hbox)</span><br><span class="line">        <span class="variable language_">self</span>.y = <span class="variable language_">self</span>.label.pos().y()  <span class="comment"># 保留当前标签的坐标</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">sliderMoved</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="variable language_">self</span>.scrollbar1.value(), <span class="variable language_">self</span>.scrollbar2.value(), <span class="variable language_">self</span>.scrollbar3.value())</span><br><span class="line">        palette = QPalette()  <span class="comment"># 创建调色板</span></span><br><span class="line">        c = QColor(<span class="variable language_">self</span>.scrollbar1.value(), <span class="variable language_">self</span>.scrollbar2.value(), <span class="variable language_">self</span>.scrollbar3.value(), <span class="number">255</span>)  <span class="comment"># c 用来存取颜色</span></span><br><span class="line">        palette.setColor(QPalette.Foreground, c)</span><br><span class="line">        <span class="variable language_">self</span>.label.setPalette(palette)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">sliderMoved1</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.label.moce(<span class="variable language_">self</span>.label.x(), <span class="variable language_">self</span>.y + <span class="variable language_">self</span>.scrollbar4.value())  <span class="comment"># 通过改变滑块改变标签的y坐标</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = ScrollBar()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648121419531-6276247b-f5d0-45e3-ae79-eda7ac8a7115.png#clientId=u7d3b531b-6483-4&amp;from=paste&amp;height=239&amp;id=u3bc7edf0&amp;originHeight=239&amp;originWidth=316&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=7863&amp;status=done&amp;style=none&amp;taskId=u5e6f2c03-a183-48b0-9483-007ac1e6493&amp;title=&amp;width=316" alt="image.png">从左到右前三个滑块分别控制rgb三通道数值（0~255），第四个滑块控制标签的y坐标<br>
<a name="qx90H"></a></p>
<h2 id="多线程与定时器">多线程与定时器</h2>
<p>多线程的作用：对于比较耗时的任务如果使用单线程可能会造成阻塞，因此通过多线程可以使耗时的任务不影响其他任务的进行。<br>
<a name="zqrW5"></a></p>
<h3 id="QTimer定时器控件">QTimer定时器控件</h3>
<p>定时器控件可以用来动态显示当前时间，每一秒都在调用函数更新。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QWidget, QPushButton, QApplication, QListWidget, QGridLayout, QLabel</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> QTimer, QDateTime</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ShowTime</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(ShowTime, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&#x27;动态显示当前时间&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.label = QLabel(<span class="string">&#x27;显示当前时间&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.startBtn = QPushButton(<span class="string">&#x27;开始&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.endBtn = QPushButton(<span class="string">&#x27;结束&#x27;</span>)</span><br><span class="line">        layout = QGridLayout()  <span class="comment"># 使用网格布局</span></span><br><span class="line">        <span class="variable language_">self</span>.timer = QTimer()  <span class="comment"># 创建定时器</span></span><br><span class="line">        <span class="variable language_">self</span>.timer.timeout.connect(<span class="variable language_">self</span>.showTime)  <span class="comment"># 定时器开启时调用showTime 需要手动开启</span></span><br><span class="line"></span><br><span class="line">        layout.addWidget(<span class="variable language_">self</span>.label, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">        layout.addWidget(<span class="variable language_">self</span>.startBtn, <span class="number">1</span>, <span class="number">0</span>)</span><br><span class="line">        layout.addWidget(<span class="variable language_">self</span>.endBtn, <span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.startBtn.clicked.connect(<span class="variable language_">self</span>.startTimer)</span><br><span class="line">        <span class="variable language_">self</span>.endBtn.clicked.connect(<span class="variable language_">self</span>.endTimer)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.setLayout(layout)</span><br><span class="line">        <span class="variable language_">self</span>.resize(<span class="number">400</span>, <span class="number">300</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">showTime</span>(<span class="params">self</span>):</span><br><span class="line">        time = QDateTime.currentDateTime()  <span class="comment"># 获取当前的时间</span></span><br><span class="line">        <span class="comment"># 设置时间显示的格式 年月日 时分秒 星期几（如果是ddd代表意思是周几）</span></span><br><span class="line">        timeDisplay = time.toString(<span class="string">&quot;yyyy-MM-dd hh:mm:ss dddd&quot;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.label.setText(timeDisplay)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">startTimer</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.timer.start(<span class="number">1000</span>)  <span class="comment"># 经过1秒后开启定时器</span></span><br><span class="line">        <span class="variable language_">self</span>.startBtn.setEnabled(<span class="literal">False</span>)  <span class="comment"># 设置开始按钮不可用</span></span><br><span class="line">        <span class="variable language_">self</span>.endBtn.setEnabled(<span class="literal">True</span>)  <span class="comment"># 设置停止按钮可用</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">endTimer</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.timer.stop()  <span class="comment"># 停止定时器</span></span><br><span class="line">        <span class="variable language_">self</span>.startBtn.setEnabled(<span class="literal">True</span>)  <span class="comment"># 设置开始按钮不可用</span></span><br><span class="line">        <span class="variable language_">self</span>.endBtn.setEnabled(<span class="literal">False</span>)  <span class="comment"># 设置停止按钮可用</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = ShowTime()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648125327315-e665ba98-47e5-4772-8d0b-6ee2923928bc.png#clientId=u7d3b531b-6483-4&amp;from=paste&amp;height=339&amp;id=udcf63b4a&amp;originHeight=339&amp;originWidth=416&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=9965&amp;status=done&amp;style=none&amp;taskId=u0b6260ca-0cb7-408d-b037-b0fe8d090cb&amp;title=&amp;width=416" alt="image.png"><br>
<a name="lbFfY"></a></p>
<h3 id="QTimer-singleShot让程序定时关闭">QTimer.singleShot让程序定时关闭</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    label = QLabel(<span class="string">&#x27;&lt;font color=red size=140&gt;&lt;b&gt;Hello World,窗口在5秒后自动关闭！&lt;/b&gt;&lt;/font&gt;&#x27;</span>)</span><br><span class="line">    <span class="comment"># 设置窗口样式</span></span><br><span class="line">    label.setWindowFlags(Qt.SplashScreen | Qt.FramelessWindowHint)</span><br><span class="line">    label.show()</span><br><span class="line">    QTimer.singleShot(<span class="number">5000</span>, app.quit)  <span class="comment"># 5秒后自动关掉程序</span></span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648126681626-3def3955-aed2-46b8-979c-af33dcc8dbd6.png#clientId=u7d3b531b-6483-4&amp;from=paste&amp;height=81&amp;id=u82e33c09&amp;originHeight=81&amp;originWidth=537&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=11401&amp;status=done&amp;style=none&amp;taskId=ucdaad9e0-2579-464c-b123-a75c799af4e&amp;title=&amp;width=537" alt="image.png"><br>
<a name="Ge8mX"></a></p>
<h3 id="QThread-线程类">QThread 线程类</h3>
<p>线程类可以实现计数器<br>QLCDNumber ： 模拟LCD显示效果的控件<br>WorkThread(继承自QThread): 自定义信号，实现在不同线程中信息的交互。之前使用的都是空间变化的系统信号。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">sec = <span class="number">0</span>  <span class="comment"># 用来计数</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">WorkThread</span>(<span class="title class_ inherited__">QThread</span>):  <span class="comment"># 工作线程</span></span><br><span class="line">    timer = pyqtSignal()  <span class="comment"># 将timer设定为信号，每隔一秒发送</span></span><br><span class="line">    end = pyqtSignal()  <span class="comment"># 将end设定为信号，计数完成后发送</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">run</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            <span class="variable language_">self</span>.sleep(<span class="number">1</span>)  <span class="comment"># 休眠一秒（每一秒中循环一次）</span></span><br><span class="line">            <span class="keyword">if</span> sec == <span class="number">5</span>:</span><br><span class="line">                <span class="variable language_">self</span>.end.emit()  <span class="comment"># 计数达到5时发送end信号</span></span><br><span class="line">            <span class="variable language_">self</span>.timer.emit()  <span class="comment"># 每秒发送一次timer信号</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Counter</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, parent=<span class="literal">None</span></span>):</span><br><span class="line">        <span class="built_in">super</span>(Counter, <span class="variable language_">self</span>).__init__(parent)</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&quot;使用线程类（QThread）编写计数器&quot;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.resize(<span class="number">300</span>, <span class="number">120</span>)</span><br><span class="line">        layout = QVBoxLayout()</span><br><span class="line">        <span class="variable language_">self</span>.lcdNumber = QLCDNumber()</span><br><span class="line">        layout.addWidget(<span class="variable language_">self</span>.lcdNumber)</span><br><span class="line">        button = QPushButton(<span class="string">&#x27;开始计数&#x27;</span>)</span><br><span class="line">        layout.addWidget(button)</span><br><span class="line">        <span class="variable language_">self</span>.workThread = WorkThread()  <span class="comment"># 创建工作线程类</span></span><br><span class="line">        <span class="variable language_">self</span>.workThread.timer.connect(<span class="variable language_">self</span>.countTime)  <span class="comment"># 将timer工作线程信号与countTime绑定</span></span><br><span class="line">        <span class="variable language_">self</span>.workThread.end.connect(<span class="variable language_">self</span>.end)</span><br><span class="line">        button.clicked.connect(<span class="variable language_">self</span>.work)</span><br><span class="line">        <span class="variable language_">self</span>.setLayout(layout)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">countTime</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">global</span> sec  <span class="comment"># 使用全局变量sec</span></span><br><span class="line">        sec += <span class="number">1</span></span><br><span class="line">        <span class="variable language_">self</span>.lcdNumber.display(sec)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">end</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 弹出对话框</span></span><br><span class="line">        QMessageBox.information(<span class="variable language_">self</span>,<span class="string">&#x27;消息&#x27;</span>,<span class="string">&#x27;计数结束&#x27;</span>,QMessageBox.Ok)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">work</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.workThread.start()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = Counter()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648174750885-a4da1dfa-cf42-4acf-bd09-1ffb2be65381.png#clientId=u85b976bf-ff46-4&amp;from=paste&amp;height=162&amp;id=u0174a0b1&amp;originHeight=162&amp;originWidth=431&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=9383&amp;status=done&amp;style=none&amp;taskId=ufa04bed6-08ee-4052-9b19-66186fdea9b&amp;title=&amp;width=431" alt="image.png"><br>
<a name="V1PZP"></a></p>
<h2 id="窗口">窗口</h2>
<p><a name="NQIV0"></a></p>
<h3 id="设置窗口风格">设置窗口风格</h3>
<p>pyqt5窗口一共有三种风格<br>可以通过print(QStyleFactory.keys())来显示pyqt5窗口风格的种类：<br>‘windowsvista’, ‘Windows’, ‘Fusion’<br>可以通过QApplication.setStyle(窗口风格)来设置窗口控件的风格。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5 <span class="keyword">import</span> QtCore</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">WindowStyle</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(WindowStyle, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        horizontalLayout = QHBoxLayout()</span><br><span class="line">        <span class="variable language_">self</span>.styleLabel = QLabel(<span class="string">&#x27;设置窗口风格：&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.styleComboBox = QComboBox()</span><br><span class="line">        <span class="comment"># 将三种风格添加到列表中</span></span><br><span class="line">        <span class="variable language_">self</span>.styleComboBox.addItems(QStyleFactory.keys())</span><br><span class="line">        <span class="comment"># 输出当前的窗口风格</span></span><br><span class="line">        <span class="built_in">print</span>(QApplication.style().objectName())</span><br><span class="line">        <span class="comment"># 根据当前的窗口风格得到对应的序号</span></span><br><span class="line">        index = <span class="variable language_">self</span>.styleComboBox.findText(QApplication.style().objectName(), QtCore.Qt.MatchFixedString)</span><br><span class="line">        <span class="comment"># 设置列表中默认对应的窗口风格</span></span><br><span class="line">        <span class="variable language_">self</span>.styleComboBox.setCurrentIndex(index)</span><br><span class="line">        <span class="variable language_">self</span>.styleComboBox.activated[<span class="built_in">str</span>].connect(<span class="variable language_">self</span>.handleStyleChanged)</span><br><span class="line">        horizontalLayout.addWidget(<span class="variable language_">self</span>.styleLabel)</span><br><span class="line">        horizontalLayout.addWidget(<span class="variable language_">self</span>.styleComboBox)</span><br><span class="line">        <span class="variable language_">self</span>.setLayout(horizontalLayout)</span><br><span class="line">        <span class="variable language_">self</span>.resize(<span class="number">200</span>, <span class="number">100</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">handleStyleChanged</span>(<span class="params">self, style</span>):</span><br><span class="line">        QApplication.setStyle(style)  <span class="comment"># 设置窗口风格</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = WindowStyle()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648292348729-480fe1e9-45ca-46c7-890c-3825fa95a2bf.png#clientId=uef9b1ee7-2eb1-4&amp;from=paste&amp;height=139&amp;id=u35fd062b&amp;originHeight=139&amp;originWidth=230&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=4941&amp;status=done&amp;style=none&amp;taskId=u7adbd98f-4e40-41c2-9e27-22994fcab53&amp;title=&amp;width=230" alt="image.png"><br>
<a name="An0vE"></a></p>
<h3 id="设置窗口样式-setWindowFlags">设置窗口样式 setWindowFlags</h3>
<p>窗口样式的调整主要针对窗口边框、标题栏以及窗口本身的样式<br>使用setWindowFlags设置窗口样式，可以使用参数介绍：<br>Qt.WindowMaximizeButtonHint(设置激活窗口的最大化按钮（右上角那个按钮）)<br>Qt.WindowCloseButtonHint(设置激活窗口的关闭按钮（右上角那个按钮）)<br>Qt.WindowMinimizeButtonHint(设置激活窗口的最小化按钮（右上角那个按钮）)<br>Qt.WindowStaysOnTopHint(设置窗口始终在窗口最前方显示)<br>Qt.FramelessWindowHint(设置窗口为无边框)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">WindowPattern</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(WindowPattern, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&quot;设置窗口的样式&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.setWindowFlags(Qt.WindowMaximizeButtonHint | Qt.WindowStaysOnTopHint | Qt.FramelessWindowHint)</span><br><span class="line">        <span class="variable language_">self</span>.setObjectName(<span class="string">&quot;MainWindow&quot;</span>)</span><br><span class="line">        <span class="comment"># 通过类CSS语言设置窗口背景图片</span></span><br><span class="line">        <span class="variable language_">self</span>.setStyleSheet(<span class="string">&quot;#MainWindow&#123;border-image:url(../images/bool.png);&#125;&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = WindowPattern()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648293603816-08c8f46a-2594-448a-b532-1ed12cde9bd8.png#clientId=uef9b1ee7-2eb1-4&amp;from=paste&amp;height=137&amp;id=ud3743a58&amp;originHeight=137&amp;originWidth=296&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=15892&amp;status=done&amp;style=none&amp;taskId=uf7e17d95-167e-4db7-bd35-128f4a23aa1&amp;title=&amp;width=296" alt="image.png"><br>
<a name="WKnVs"></a></p>
<h3 id="用代码设置窗口的最大化和最小化">用代码设置窗口的最大化和最小化</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">WindowMaxMin</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, parent=<span class="literal">None</span></span>):</span><br><span class="line">        <span class="built_in">super</span>(WindowMaxMin, <span class="variable language_">self</span>).__init__(parent)</span><br><span class="line">        <span class="variable language_">self</span>.resize(<span class="number">300</span>, <span class="number">400</span>)</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&#x27;用代码控制窗口的最大化和最小化&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        layout = QVBoxLayout()</span><br><span class="line"></span><br><span class="line">        maxButton1 = QPushButton(<span class="string">&#x27;窗口最大化1&#x27;</span>)</span><br><span class="line">        maxButton1.clicked.connect(<span class="variable language_">self</span>.maximized1)  <span class="comment"># 自定义的最大化方法，最大化的同时会将标题栏也覆盖掉</span></span><br><span class="line">        maxButton2 = QPushButton(<span class="string">&#x27;窗口最大化2&#x27;</span>)</span><br><span class="line">        maxButton2.clicked.connect(<span class="variable language_">self</span>.showMaximized)  <span class="comment"># 调用库中的最大化方法跟正常的最大化形式相同</span></span><br><span class="line">        minButton = QPushButton(<span class="string">&#x27;窗口最小化&#x27;</span>)</span><br><span class="line">        minButton.clicked.connect(<span class="variable language_">self</span>.showMinimized)</span><br><span class="line"></span><br><span class="line">        layout.addWidget(maxButton1)</span><br><span class="line">        layout.addWidget(maxButton2)</span><br><span class="line">        layout.addWidget(minButton)</span><br><span class="line">        <span class="variable language_">self</span>.setLayout(layout)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">maximized1</span>(<span class="params">self</span>):</span><br><span class="line">        desktop = QApplication.desktop()  <span class="comment"># 获取当前窗口</span></span><br><span class="line">        rect = desktop.availableGeometry()  <span class="comment"># 将窗口的最大区域大小赋予rect(0,0,1920,1040)</span></span><br><span class="line">        <span class="variable language_">self</span>.setGeometry(rect)  <span class="comment"># 设置工作区大小，也就是将工作区大小设置为最大（会导致标题栏无法显示在屏幕上）</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    main = WindowMaxMin()</span><br><span class="line">    main.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2022/png/2623605/1648295805823-924a1f12-70de-45da-b275-4507602209be.png#clientId=uef9b1ee7-2eb1-4&amp;from=paste&amp;height=439&amp;id=u13e1ba6d&amp;originHeight=439&amp;originWidth=316&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=10699&amp;status=done&amp;style=none&amp;taskId=u862641aa-7fac-421a-bbf4-3a0fe8cc786&amp;title=&amp;width=316" alt="image.png"></p>
</article><div class="post-copyright"><div class="post-copyright__title"><span class="post-copyright-info"><h>PyQt5</h></span></div><div class="post-copyright__type"><span class="post-copyright-info"><a href="http://example.com/2023/08/29/PySide2-PyQt5/">http://example.com/2023/08/29/PySide2-PyQt5/</a></span></div><div class="post-copyright-m"><div class="post-copyright-m-info"><div class="post-copyright-a"><h>作者</h><div class="post-copyright-cc-info"><h>RuiChen</h></div></div><div class="post-copyright-c"><h>发布于</h><div class="post-copyright-cc-info"><h>2023-08-29</h></div></div><div class="post-copyright-u"><h>更新于</h><div class="post-copyright-cc-info"><h>2024-07-28</h></div></div><div class="post-copyright-c"><h>许可协议</h><div class="post-copyright-cc-info"><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a rel="noopener" target="_blank" title="CC BY-NC-SA 4.0" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></div></div></div></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/PyQt5/"><div class="tags-punctuation"><svg class="faa-tada icon" style="height:1.1em;width:1.1em;fill:currentColor;position:relative;top:2px;margin-right:3px" aria-hidden="true"><use xlink:href="#icon-sekuaibiaoqian"></use></svg></div>PyQt5</a></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/08/29/UnrealEngine-UE4-BenCloward%E6%95%99%E7%A8%8B/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/violet-chen/image_lib/blob/main/img%20(76).jpg?raw=true" onerror="onerror=null;src='/assets/r2.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">UE4 BenCloward教程</div></div></a></div><div class="next-post pull-right"><a href="/2023/08/29/PySide2-pyside2-for-maya/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/violet-chen/image_lib/blob/main/img%20(18).jpg?raw=true" onerror="onerror=null;src='/assets/r2.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">pyside2 for maya</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><svg class="meta_icon" style="width:22px;height:22px;position:relative;top:5px"><use xlink:href="#icon-mulu1"></use></svg><span style="font-weight:bold">目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text"></span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">PyQt5的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%83%E5%B1%80"><span class="toc-text">布局</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%9D%E5%AF%B9%E5%B8%83%E5%B1%80"><span class="toc-text">绝对布局</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B0%B4%E5%B9%B3%E7%9B%92%E5%B8%83%E5%B1%80QHBoxLayout"><span class="toc-text">水平盒布局QHBoxLayout</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E6%8E%A7%E4%BB%B6%E7%9A%84%E5%AF%B9%E9%BD%90%E6%96%B9%E5%BC%8F"><span class="toc-text">设置控件的对齐方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9E%82%E7%9B%B4%E7%9B%92%E5%B8%83%E5%B1%80QVBoxLayout"><span class="toc-text">垂直盒布局QVBoxLayout</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E5%B8%83%E5%B1%80%E7%9A%84%E4%BC%B8%E7%BC%A9%E9%87%8FaddStretch"><span class="toc-text">设置布局的伸缩量addStretch</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A9%E6%8C%89%E9%92%AE%E6%B0%B8%E8%BF%9C%E5%9C%A8%E7%AA%97%E5%8F%A3%E7%9A%84%E5%8F%B3%E4%B8%8B%E8%A7%92"><span class="toc-text">让按钮永远在窗口的右下角</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%85%E6%A0%BC%E5%B8%83%E5%B1%80QGridLayout"><span class="toc-text">栅格布局QGridLayout</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E5%BE%AA%E7%8E%AF%E6%96%B9%E5%BC%8F%E5%AE%9E%E7%8E%B0%E8%AE%A1%E7%AE%97%E5%99%A8"><span class="toc-text">用循环方式实现计算器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9B%E8%A1%8C%E8%A1%A8%E5%8D%95UI%E8%AE%BE%E8%AE%A1"><span class="toc-text">进行表单UI设计</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%A8%E5%8D%95%E5%B8%83%E5%B1%80QFormLayout"><span class="toc-text">表单布局QFormLayout</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8B%96%E5%8A%A8%E6%8E%A7%E4%BB%B6%E4%B9%8B%E9%97%B4%E7%9A%84%E8%BE%B9%E7%95%8C%EF%BC%88QSplitter%EF%BC%89"><span class="toc-text">拖动控件之间的边界（QSplitter）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%A1%E5%8F%B7%E5%92%8C%E6%A7%BD"><span class="toc-text">信号和槽</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#connect-%E5%87%BD%E6%95%B0%E5%AE%9E%E7%8E%B0%E4%BF%A1%E5%8F%B7%E5%92%8C%E6%A7%BD"><span class="toc-text">connect()函数实现信号和槽</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E5%90%8C%E6%8E%A7%E4%BB%B6%E5%AF%B9%E5%BA%94%E7%9A%84%E4%BF%A1%E5%8F%B7"><span class="toc-text">不同控件对应的信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BF%A1%E5%8F%B7pyqtSignal"><span class="toc-text">生成自定义信号pyqtSignal</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E7%B1%BB%E6%B7%BB%E5%8A%A0%E5%A4%9A%E4%B8%AA%E4%BF%A1%E5%8F%B7"><span class="toc-text">为类添加多个信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%A1%E5%8F%B7%E5%92%8C%E6%A7%BD%E7%9A%84N%E5%AF%B9N%E8%BF%9E%E6%8E%A5%E5%92%8C%E6%96%AD%E5%BC%80%E8%BF%9E%E6%8E%A5"><span class="toc-text">信号和槽的N对N连接和断开连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E7%AA%97%E5%8F%A3%E6%B7%BB%E5%8A%A0%E4%BF%A1%E5%8F%B7"><span class="toc-text">为窗口添加信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E7%BA%BF%E7%A8%8B%E6%9B%B4%E6%96%B0UI%E6%95%B0%E6%8D%AE%EF%BC%88%E5%9C%A8%E4%B8%A4%E4%B8%AA%E7%BA%BF%E7%A8%8B%E4%B8%AD%E4%BC%A0%E9%80%92%E6%95%B0%E6%8D%AE%EF%BC%89"><span class="toc-text">多线程更新UI数据（在两个线程中传递数据）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%A1%E5%8F%B7%E4%B8%8E%E6%A7%BD%E8%87%AA%E5%8A%A8%E8%BF%9E%E6%8E%A5"><span class="toc-text">信号与槽自动连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F%E4%B8%BA%E6%A7%BD%E5%87%BD%E6%95%B0%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0"><span class="toc-text">用Lambda表达式为槽函数传递参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8partial%E5%AF%B9%E8%B1%A1%E4%B8%BA%E6%A7%BD%E5%87%BD%E6%95%B0%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0"><span class="toc-text">用partial对象为槽函数传递参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#override-%E8%A6%86%E7%9B%96-%E6%A7%BD%E5%87%BD%E6%95%B0"><span class="toc-text">override(覆盖)槽函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E7%AA%97%E5%8F%A3%E4%BA%A4%E4%BA%92%EF%BC%881%EF%BC%89%EF%BC%9A%E4%B8%8D%E4%BD%BF%E7%94%A8%E4%BF%A1%E5%8F%B7%E4%B8%8E%E6%A7%BD"><span class="toc-text">多窗口交互（1）：不使用信号与槽</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E7%AA%97%E5%8F%A3%E4%BA%A4%E4%BA%92%EF%BC%882%EF%BC%89%EF%BC%9A%E4%BD%BF%E7%94%A8%E4%BF%A1%E5%8F%B7%E4%B8%8E%E6%A7%BD"><span class="toc-text">多窗口交互（2）：使用信号与槽</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%9F%BA%E4%BA%8EPyQt5%E7%9A%84%E6%A1%8C%E9%9D%A2%E5%BA%94%E7%94%A8"><span class="toc-text">开发第一个基于PyQt5的桌面应用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%BB%E7%AA%97%E5%8F%A3"><span class="toc-text">创建主窗口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%80%E5%87%BA%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F"><span class="toc-text">退出应用程序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B1%8F%E5%B9%95%E5%9D%90%E6%A0%87%E7%B3%BB"><span class="toc-text">屏幕坐标系</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E7%AA%97%E5%8F%A3%E5%92%8C%E5%BA%94%E7%94%A8%E5%9B%BE%E6%A0%87"><span class="toc-text">设置窗口和应用图标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA%E6%8E%A7%E4%BB%B6%E6%B7%BB%E5%8A%A0%E6%8F%90%E7%A4%BA%E4%BF%A1%E6%81%AF"><span class="toc-text">为控件添加提示信息</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#QLabel%E6%8E%A7%E4%BB%B6%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95"><span class="toc-text">QLabel控件的基本用法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#QLabel%E4%B8%8E%E4%BC%99%E4%BC%B4%E6%8E%A7%E4%BB%B6"><span class="toc-text">QLabel与伙伴控件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#QLIneEdit"><span class="toc-text">QLIneEdit</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#QLineEdit%E6%8E%A7%E4%BB%B6%E5%92%8C%E5%9B%9E%E6%98%BE%E6%A8%A1%E5%BC%8F"><span class="toc-text">QLineEdit控件和回显模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%99%90%E5%88%B6QLineEdit%E6%8E%A7%E4%BB%B6%E7%9A%84%E8%BE%93%E5%85%A5%EF%BC%88%E6%A0%A1%E9%AA%8C%E5%99%A8%EF%BC%89"><span class="toc-text">限制QLineEdit控件的输入（校验器）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%8E%A9%E7%A0%81%E9%99%90%E5%88%B6QLineEdit%E6%8E%A7%E4%BB%B6%E7%9A%84%E8%BE%93%E5%85%A5"><span class="toc-text">使用掩码限制QLineEdit控件的输入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QLineEdit%E6%8E%A7%E4%BB%B6%E7%BB%BC%E5%90%88%E6%A1%88%E4%BE%8B"><span class="toc-text">QLineEdit控件综合案例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8QTextEdit%E6%8E%A7%E4%BB%B6%E8%BE%93%E5%85%A5%E5%A4%9A%E8%A1%8C%E6%96%87%E6%9C%AC"><span class="toc-text">使用QTextEdit控件输入多行文本</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%89%E9%92%AE%E6%8E%A7%E4%BB%B6"><span class="toc-text">按钮控件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#QPushButton"><span class="toc-text">QPushButton</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QRadioButton"><span class="toc-text">QRadioButton</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QCheckBox"><span class="toc-text">QCheckBox</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8B%E6%8B%89%E5%88%97%E8%A1%A8%E6%8E%A7%E4%BB%B6-QComboBox"><span class="toc-text">下拉列表控件(QComboBox)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%BB%91%E5%9D%97%E6%8E%A7%E4%BB%B6-QSlider"><span class="toc-text">滑块控件(QSlider)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%A1%E6%95%B0%E5%99%A8%E6%8E%A7%E4%BB%B6-QSpinBox-%E7%BF%BB%E8%AF%91%E7%BB%93%E6%9E%9C%E6%98%AF%E9%80%89%E5%80%BC%E6%A1%86"><span class="toc-text">计数器控件(QSpinBox)(翻译结果是选值框)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E8%AF%9D%E6%A1%86"><span class="toc-text">对话框</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8QDialog%E6%98%BE%E7%A4%BA%E9%80%9A%E7%94%A8%E5%AF%B9%E8%AF%9D%E6%A1%86"><span class="toc-text">使用QDialog显示通用对话框</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QMessageBox%E4%BF%A1%E6%81%AF%E5%AF%B9%E8%AF%9D%E6%A1%86"><span class="toc-text">QMessageBox信息对话框</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QInputDialog%E8%BE%93%E5%85%A5%E5%AF%B9%E8%AF%9D%E6%A1%86"><span class="toc-text">QInputDialog输入对话框</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QFontDialog%E5%AD%97%E4%BD%93%E5%AF%B9%E8%AF%9D%E6%A1%86"><span class="toc-text">QFontDialog字体对话框</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QColorDialog-%E9%A2%9C%E8%89%B2%E5%AF%B9%E8%AF%9D%E6%A1%86"><span class="toc-text">QColorDialog 颜色对话框</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QFileDialog-%E6%96%87%E4%BB%B6%E5%AF%B9%E8%AF%9D%E6%A1%86"><span class="toc-text">QFileDialog 文件对话框</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%98%E5%9B%BEAPI"><span class="toc-text">绘图API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#DrawText%E5%9C%A8%E7%AA%97%E5%8F%A3%E4%B8%8A%E7%BB%98%E5%88%B6%E6%96%87%E6%9C%AC"><span class="toc-text">DrawText在窗口上绘制文本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DrawPoint%E5%9C%A8%E7%AA%97%E5%8F%A3%E4%B8%8A%E7%BB%98%E5%88%B6%E6%AD%A3%E5%BC%A6%E6%9B%B2%E7%BA%BF"><span class="toc-text">DrawPoint在窗口上绘制正弦曲线</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8B%96%E5%8A%A8%E5%92%8C%E5%89%AA%E8%B4%B4%E6%9D%BF%E6%93%8D%E4%BD%9C"><span class="toc-text">拖动和剪贴板操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%8F%9C%E5%8D%95%E6%A0%8F%E3%80%81%E5%B7%A5%E5%85%B7%E6%A0%8F%E5%92%8C%E7%8A%B6%E6%80%81%E6%A0%8F"><span class="toc-text">菜单栏、工具栏和状态栏</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8F%9C%E5%8D%95%E6%A0%8F"><span class="toc-text">菜单栏</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%A5%E5%85%B7%E6%A0%8F"><span class="toc-text">工具栏</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8A%B6%E6%80%81%E6%A0%8F"><span class="toc-text">状态栏</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%A8%E6%A0%BC%E5%B8%83%E5%B1%80"><span class="toc-text">表格布局</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#QTableView%E6%8E%A7%E4%BB%B6-%E6%98%BE%E7%A4%BA%E4%BA%8C%E7%BB%B4%E8%A1%A8%E6%95%B0%E6%8D%AE"><span class="toc-text">QTableView控件 显示二维表数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QTableWidget-%E6%89%A9%E5%B1%95%E7%9A%84%E8%A1%A8%E6%A0%BC%E6%8E%A7%E4%BB%B6"><span class="toc-text">QTableWidget 扩展的表格控件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QListView%E6%8E%A7%E4%BB%B6-%E6%98%BE%E7%A4%BA%E5%88%97%E6%95%B0%E6%8D%AE"><span class="toc-text">QListView控件  显示列数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QListWidget-%E6%89%A9%E5%B1%95%E7%9A%84%E5%88%97%E8%A1%A8%E6%8E%A7%E4%BB%B6"><span class="toc-text">QListWidget 扩展的列表控件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%B9%E5%99%A8%E6%8E%A7%E4%BB%B6"><span class="toc-text">容器控件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#QTabWidget%E9%80%89%E9%A1%B9%E5%8D%A1%E6%8E%A7%E4%BB%B6"><span class="toc-text">QTabWidget选项卡控件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QStackedWidget-%E5%A0%86%E6%A0%88%E7%AA%97%E5%8F%A3%E6%8E%A7%E4%BB%B6"><span class="toc-text">QStackedWidget 堆栈窗口控件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QDockWidget%E5%81%9C%E9%9D%A0%E6%8E%A7%E4%BB%B6"><span class="toc-text">QDockWidget停靠控件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%B9%E7%BA%B3%E5%A4%9A%E6%96%87%E6%A1%A3%E7%AA%97%E5%8F%A3"><span class="toc-text">容纳多文档窗口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QScrollBar%E6%BB%9A%E5%8A%A8%E6%9D%A1%E6%8E%A7%E4%BB%B6"><span class="toc-text">QScrollBar滚动条控件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E5%AE%9A%E6%97%B6%E5%99%A8"><span class="toc-text">多线程与定时器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#QTimer%E5%AE%9A%E6%97%B6%E5%99%A8%E6%8E%A7%E4%BB%B6"><span class="toc-text">QTimer定时器控件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QTimer-singleShot%E8%AE%A9%E7%A8%8B%E5%BA%8F%E5%AE%9A%E6%97%B6%E5%85%B3%E9%97%AD"><span class="toc-text">QTimer.singleShot让程序定时关闭</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QThread-%E7%BA%BF%E7%A8%8B%E7%B1%BB"><span class="toc-text">QThread 线程类</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AA%97%E5%8F%A3"><span class="toc-text">窗口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E7%AA%97%E5%8F%A3%E9%A3%8E%E6%A0%BC"><span class="toc-text">设置窗口风格</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E7%AA%97%E5%8F%A3%E6%A0%B7%E5%BC%8F-setWindowFlags"><span class="toc-text">设置窗口样式 setWindowFlags</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E4%BB%A3%E7%A0%81%E8%AE%BE%E7%BD%AE%E7%AA%97%E5%8F%A3%E7%9A%84%E6%9C%80%E5%A4%A7%E5%8C%96%E5%92%8C%E6%9C%80%E5%B0%8F%E5%8C%96"><span class="toc-text">用代码设置窗口的最大化和最小化</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background-color: transparent;"></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><a class="icon-V hidden" onclick="switchNightMode()" title="浅色和深色模式转换"><svg width="25" height="25" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon"></use></svg></a><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button><button class="share" type="button" title="右键模式" onclick="changeMouseMode()"><i class="fas fa-mouse"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog right_side"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button class="share" type="button" title="分享链接" onclick="share()"><i class="fas fa-share-nodes"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i><span id="percent">0<span>%</span></span></button><button id="go-down" type="button" title="直达底部" onclick="btf.scrollToDest(document.body.scrollHeight, 500)"><i class="fas fa-arrow-down"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div class="js-pjax" id="rightMenu"><div class="rightMenu-group rightMenu-small"><a class="rightMenu-item" href="javascript:window.history.back();"><i class="fa fa-arrow-left"></i></a><a class="rightMenu-item" href="javascript:window.history.forward();"><i class="fa fa-arrow-right"></i></a><a class="rightMenu-item" href="javascript:window.location.reload();"><i class="fa fa-refresh"></i></a><a class="rightMenu-item" href="javascript:rmf.scrollToTop();"><i class="fa fa-arrow-up"></i></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-text"><a class="rightMenu-item" href="javascript:rmf.copySelect();"><i class="fa fa-copy"></i><span>复制</span></a><a class="rightMenu-item" href="javascript:window.open(&quot;https://www.baidu.com/s?wd=&quot;+window.getSelection().toString());window.location.reload();"><i class="fa fa-search"></i><span>百度搜索</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-too"><a class="rightMenu-item" href="javascript:window.open(window.getSelection().toString());window.location.reload();"><i class="fa fa-link"></i><span>转到链接</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-paste"><a class="rightMenu-item" href="javascript:rmf.paste()"><i class="fa fa-copy"></i><span>粘贴</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-post"><a class="rightMenu-item" href="#post-comment"><i class="fas fa-comment"></i><span>空降评论</span></a><a class="rightMenu-item" href="javascript:rmf.copyWordsLink()"><i class="fa fa-link"></i><span>复制本文地址</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-to"><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()"><i class="fa fa-window-restore"></i><span>新窗口打开</span></a><a class="rightMenu-item" id="menu-too" href="javascript:rmf.open()"><i class="fa fa-link"></i><span>转到链接</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()"><i class="fa fa-copy"></i><span>复制链接</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-img"><a class="rightMenu-item" href="javascript:rmf.saveAs()"><i class="fa fa-download"></i><span>保存图片</span></a><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()"><i class="fa fa-window-restore"></i><span>在新窗口打开</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()"><i class="fa fa-copy"></i><span>复制图片链接</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="javascript:randomPost()"><i class="fa fa-paper-plane"></i><span>随便逛逛</span></a><a class="rightMenu-item" href="javascript:switchNightMode();"><i class="fa fa-moon"></i><span>昼夜切换</span></a><a class="rightMenu-item" href="/personal/about/"><i class="fa fa-info-circle"></i><span>关于博客</span></a><a class="rightMenu-item" href="javascript:toggleWinbox();"><i class="fas fa-cog"></i><span>美化设置</span></a><a class="rightMenu-item" href="javascript:rmf.fullScreen();"><i class="fas fa-expand"></i><span>切换全屏</span></a><a class="rightMenu-item" href="javascript:window.print();"><i class="fa-solid fa-print"></i><span>打印页面</span></a></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.staticfile.org/fancyapps-ui/4.0.31/fancybox.umd.min.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/instant.page/5.1.0/instantpage.min.js" type="module"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/vanilla-lazyload/17.3.1/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><script async="async">var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())
setTimeout(function(){preloader.endLoading();}, 5000);
document.getElementById('loading-box').addEventListener('click',()=> {preloader.endLoading()})</script><div class="js-pjax"><script>(()=>{
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: '',
      region: '',
      onCommentLoaded: function () {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: '',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      countELement.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const runFn = () => {
    init()
    
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') {
      setTimeout(runFn,0)
      return
    } 
    getScript('https://cdn.staticfile.org/twikoo/1.6.8/twikoo.all.min.js').then(runFn)
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script></div><script src="https://cdn.staticfile.org/jquery/3.6.3/jquery.min.js"></script><script async src="https://cdn1.tianli0.top/npm/vue@2.6.14/dist/vue.min.js"></script><script async src="https://cdn1.tianli0.top/npm/element-ui@2.15.6/lib/index.js"></script><script async src="https://cdn.bootcdn.net/ajax/libs/clipboard.js/2.0.11/clipboard.min.js"></script><script defer type="text/javascript" src="https://cdn1.tianli0.top/npm/sweetalert2@8.19.0/dist/sweetalert2.all.js"></script><script async src="//npm.elemecdn.com/pace-js@1.2.4/pace.min.js"></script><script defer src="https://cdn1.tianli0.top/gh/nextapps-de/winbox/dist/winbox.bundle.min.js"></script><script async src="//at.alicdn.com/t/c/font_3586335_hsivh70x0fm.js"></script><script async src="//at.alicdn.com/t/c/font_3636804_gr02jmjr3y9.js"></script><script async src="//at.alicdn.com/t/c/font_3612150_kfv55xn3u2g.js"></script><script async src="https://cdn.wpon.cn/2022-sucai/Gold-ingot.js"></script><canvas id="universe"></canvas><canvas id="snow"></canvas><script defer src="/js/fomal.js"></script><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.js"></script><script src="https://cdn1.tianli0.top/npm/js-heo@1.0.12/metingjs/Meting.min.js"></script><script src="https://lib.baomitu.com/pjax/0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show","#web_bg",".js-pjax","#bibi","body > title","#app","#tag-echarts","#posts-echart","#categories-echarts"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --><script data-pjax>
    function butterfly_categories_card_injector_config(){
      var parent_div_git = document.getElementById('recent-posts');
      var item_html = '<style>li.categoryBar-list-item{width:32.3%;}.categoryBar-list{max-height: 760px;overflow:auto;}.categoryBar-list::-webkit-scrollbar{width:0!important}@media screen and (max-width: 650px){.categoryBar-list{max-height: 640px;}}</style><div class="recent-post-item" style="height:auto;width:100%;padding:0px;"><div id="categoryBar"><ul class="categoryBar-list"><li class="categoryBar-list-item" style="background:url(/assets/1.jpg);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/AI/&quot;);" href="javascript:void(0);">AI</a><span class="categoryBar-list-count">3</span><span class="categoryBar-list-descr">AI</span></li><li class="categoryBar-list-item" style="background:url(/assets/8.jpg);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/DCC软件/&quot;);" href="javascript:void(0);">DCC软件</a><span class="categoryBar-list-count">4</span><span class="categoryBar-list-descr">DCC工具开发</span></li><li class="categoryBar-list-item" style="background:url(/assets/3.jpg);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/DCC工具开发/&quot;);" href="javascript:void(0);">DCC工具开发</a><span class="categoryBar-list-count">10</span><span class="categoryBar-list-descr">DCC软件</span></li><li class="categoryBar-list-item" style="background:url(/assets/4.jpg);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/Geek/&quot;);" href="javascript:void(0);">Geek</a><span class="categoryBar-list-count">8</span><span class="categoryBar-list-descr">Geek</span></li><li class="categoryBar-list-item" style="background:url(/assets/5.jpg);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/UE开发/&quot;);" href="javascript:void(0);">UE开发</a><span class="categoryBar-list-count">7</span><span class="categoryBar-list-descr">PySide2</span></li><li class="categoryBar-list-item" style="background:url(/assets/6.jpg);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/UnrealEngine/&quot;);" href="javascript:void(0);">UnrealEngine</a><span class="categoryBar-list-count">8</span><span class="categoryBar-list-descr">UE开发</span></li><li class="categoryBar-list-item" style="background:url(/assets/7.jpg);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/PySide2/&quot;);" href="javascript:void(0);">PySide2</a><span class="categoryBar-list-count">3</span><span class="categoryBar-list-descr">UnrealEngine</span></li></ul></div></div>';
      console.log('已挂载butterfly_categories_card')
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
      }
    if( document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
    butterfly_categories_card_injector_config()
    }
  </script><!-- hexo injector body_end end --></body></html>